{"id":"lightning-00i","title":"Logged-in Nostr card + sign/publish with Alby","description":"Show currently logged-in Nostr signer (window.nostr) with npub, status, and allow sending a signed demo note to current relays using the live signer (Alby). Expose in Nostr tab.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T12:03:30.661475-08:00","updated_at":"2025-12-02T12:06:12.35819-08:00","closed_at":"2025-12-02T12:06:12.35819-08:00","close_reason":"Closed"}
{"id":"lightning-01gw","title":"gallery: adopt design system v2 tokens + components","description":"Migrate the demo gallery UI from inline hex styles to the nostrstack v2 token system (CSS vars + semantic roles), with reusable components (button/input/card/badge) and tasteful motion. Keep theming easy (light/dark + host overrides).","acceptance_criteria":"- Gallery UI uses tokens/vars for core surfaces/buttons/inputs\\n- Theme toggle maps to token roles\\n- No regressions in qa-regtest-demo.ts","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-13T15:36:18.527016-08:00","updated_at":"2025-12-13T15:36:18.527016-08:00"}
{"id":"lightning-03z","title":"Lightning telemetry stuck at block #149","description":"Log viewer shows every telemetry event as Block #149 in regtest; height never advances despite new blocks. Investigate backend telemetry publisher and regtest node: verify block poll job, websocket telemetry stream, and LNbits/LND height source. Ensure block height increments and duplicate spam is avoided. Acceptance: telemetry stream reflects real regtest height changes and no repeated stale block number. Final step: verify via Chrome DevTools MCP log viewer with screenshot of advancing heights.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T18:28:16.949802-08:00","updated_at":"2025-12-02T19:05:27.278382-08:00","closed_at":"2025-12-02T19:05:27.27839-08:00","labels":["backend","demo","lightning","logs"]}
{"id":"lightning-05e","title":"NIP-07 indicator redesign + real detection","description":"Create dedicated NIP-07 component with clear states (missing/setup), copyable pubkey when available, setup tips when missing, and allow toggling only for demo while using real detection logic.","acceptance_criteria":"Component shows two states in demo; detects signer via window.nostr; offers tips when missing; looks polished; exportable.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T11:17:29.47243-08:00","updated_at":"2025-12-02T11:29:00.398291-08:00","closed_at":"2025-12-02T11:29:00.398291-08:00","close_reason":"Closed"}
{"id":"lightning-08r","title":"Relay display inconsistent with config","description":"Nostr profile card shows relay.damus.io even when relays set to mock; relay pills differ from config. Ensure displayed relays match current config/environment.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T14:53:54.612041-08:00","updated_at":"2025-12-02T15:11:26.988144-08:00","closed_at":"2025-12-02T15:11:26.988144-08:00","close_reason":"done","labels":["demo","nostr"]}
{"id":"lightning-09e","title":"Spin up demo dev server (gallery)","description":"Start the demo/gallery dev server locally to verify it runs and capture start command/ports for teammates. Ensure it boots without errors; document run command (pnpm --filter gallery dev).","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-11-28T09:52:22.750447-08:00","updated_at":"2025-11-28T09:54:44.336509-08:00","closed_at":"2025-11-28T09:54:44.336509-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-09e","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:24:23.906088-08:00","created_by":"honk"}]}
{"id":"lightning-0b6","title":"Implement soft slider toggle for npub/hex switch","description":"Replace current segmented buttons with a single capsule track and sliding thumb (neumorphic style). Requirements: thumb carries active label, smooth 150ms slide, clear focus/ARIA, copy button remains inside control, no truncation of key, works on mobile. Use proposal #2 (soft-neumorphic slider).","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-03T10:39:24.905946-08:00","updated_at":"2025-12-03T10:49:42.853826-08:00","closed_at":"2025-12-03T10:49:42.85383-08:00","labels":["gallery","ui"]}
{"id":"lightning-0c1","title":"Nostr must always be real (no mock mode)","description":"Remove mock Nostr paths; require real relays/signers or test-signer config; adjust UI text (no 'mock relays' instructions). Verify via DevTools MCP with real relay interaction; screenshot after posting/receiving.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T15:42:27.417764-08:00","updated_at":"2025-12-02T16:08:26.966941-08:00","closed_at":"2025-12-02T16:08:26.966941-08:00","close_reason":"done","labels":["demo","nostr"]}
{"id":"lightning-0e7","title":"Gallery redesign (Concept A: Dual Rails Dashboard)","description":"Implement the two-tab Lightning/Nostr redesign with live status, QR popovers, regtest faucet, telemetry card, NIP-07 UX, and reusable components.","notes":"Concept A implemented: tabs, QR popover, faucet TS, telemetry scaffold, relay add, network badge; remaining polish tracked separately.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-02T09:29:08.991326-08:00","updated_at":"2025-12-02T10:43:02.873912-08:00","closed_at":"2025-12-02T10:43:02.87392-08:00"}
{"id":"lightning-0e7.1","title":"Lightning tab: layout, invoice QR popover, paywall content unlock","description":"Implement Concept A Lightning tab split: controls + live status. Add shared QR popover component (with lightning: URI, copy, expire timer, animation), tip/paywall flows using it, slide-in panel, and paywall content reveal.","acceptance_criteria":"Lightning tab shows split layout; tip+paywall use shared QR popover; paywall locked content reveals after paid; slide-in animation works; components exported for reuse.","notes":"QR popover wired, tabs split, paywall unlock placeholder; further polish handled in other issues.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T09:29:25.051422-08:00","updated_at":"2025-12-02T10:39:26.034587-08:00","closed_at":"2025-12-02T10:39:26.034589-08:00","dependencies":[{"issue_id":"lightning-0e7.1","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T09:29:25.052388-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.10","title":"Replace regtest-fund shell with TS service","description":"Move regtest funding/mining logic from scripts/regtest-fund.sh into a TypeScript service/route, so server-side calls handle mining, funding, and channel prep without shelling out.","acceptance_criteria":"Shell script removed; TS implementation funds merchant+payer, mines blocks, opens channel if needed; used by faucet API.","notes":"Moved regtest funding to TS service + route (/regtest/fund); removed shell script; remaining API type issues tracked separately.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T10:07:09.20757-08:00","updated_at":"2025-12-02T10:27:07.076095-08:00","closed_at":"2025-12-02T10:27:07.076098-08:00","dependencies":[{"issue_id":"lightning-0e7.10","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T10:07:09.20845-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.11","title":"Bitcoin node info card","description":"Create a reusable UI card that shows Bitcoin node/network info (network name, block height, mempool tx count, node URI/IP, balances/channels) with live updates. Should be embeddable across projects.","acceptance_criteria":"Card component renders with block height + mempool + URI/IP + balances; live-updates; exportable.","notes":"Telemetry card scaffold with node URI/IP + block feed placeholder; will expand when API exposes full node info.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T10:27:44.267759-08:00","updated_at":"2025-12-02T10:38:04.287332-08:00","closed_at":"2025-12-02T10:38:04.287335-08:00","dependencies":[{"issue_id":"lightning-0e7.11","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T10:27:44.26866-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.12","title":"Nostr profile card: avatar + NPUB/pub toggle","description":"Add Nostr profile card with avatar/name/about, and a toggle between NPUB and hex pubkey (and NSEC/priv when allowed). Include extra metadata (relay count, signer state).","acceptance_criteria":"Profile card renders avatar/name/about; toggle between npub/hex and nsec/hex; shows relays/signer state; exportable component.","notes":"Added NostrProfileCard with avatar/name/about placeholders, signer status, and npub/hex (nsec/hex) toggle via KeyToggle (nip19).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T10:45:16.152544-08:00","updated_at":"2025-12-02T10:53:12.912378-08:00","closed_at":"2025-12-02T10:53:12.912381-08:00","dependencies":[{"issue_id":"lightning-0e7.12","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T10:45:16.153525-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.2","title":"Regtest faucet button + balances","description":"Expose one-click regtest funding: mine blocks + fund merchant + ensure outbound channel to payer. Update UI balances (onchain + channel) and toast results.","acceptance_criteria":"Button funds \u0026 mines; balances refresh in UI; works without terminal script; safe no-op when already funded.","notes":"Added faucet API route (/regtest/fund) and Lightning tab button that triggers it; typechecked.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T09:29:45.754175-08:00","updated_at":"2025-12-02T09:45:35.5958-08:00","closed_at":"2025-12-02T09:45:35.595807-08:00","dependencies":[{"issue_id":"lightning-0e7.2","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T09:29:45.755102-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.3","title":"Live telemetry card (regtest)","description":"Reusable 'Icy telemetry' component showing regtest node info: block height, mempool tx count, last block time, our LND pubkey/URI/IP, channel counts/balances, recent events feed. WebSocket updates; exportable for other apps.","acceptance_criteria":"Component renders with live data via WS; lightweight props API; can be imported elsewhere; shows at least blocks/txs/pubkey/URI/IP/channels/balances/recent events.","notes":"Added WS endpoint skeleton for telemetry (/ws/telemetry) and gallery TelemetryCard consuming it (blocks feed placeholder).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T09:30:01.675455-08:00","updated_at":"2025-12-02T09:49:51.535842-08:00","closed_at":"2025-12-02T09:49:51.535844-08:00","dependencies":[{"issue_id":"lightning-0e7.3","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T09:30:01.676825-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.4","title":"Nostr tab: profile card, NIP-07 indicator, NPUB/NSEC toggles","description":"Add Nostr tab UX: profile card (avatar/name/about), relay selector, signer indicator widget with setup tips when missing and pubkey details when present, NPUB/NSEC toggle component for showing keys. Reuse friendly badges/pulses.","acceptance_criteria":"Profile card renders from signer/pubkey; signer widget shows missing-state tips and ready-state info; NPUB/NSEC toggle works for pub/priv; relays + statuses remain visible; components exportable.","notes":"Added Nostr tab scaffolding: signer status badge (NIP-07 tips), NPUB/NSEC toggle component, and profile/signer card slot. Typechecked.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T09:30:17.257689-08:00","updated_at":"2025-12-02T09:52:50.447233-08:00","closed_at":"2025-12-02T09:52:50.447236-08:00","dependencies":[{"issue_id":"lightning-0e7.4","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T09:30:17.258387-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.5","title":"Service health + statuses: pulsing badges + WebSocket settle","description":"Unify health badges (API, LNbits, relays) with pulsing animation; add WebSocket-based invoice status updates to popovers to avoid polling.","acceptance_criteria":"Badges pulse on ok; WS settle updates invoices in real time; fall back to polling if WS unavailable.","notes":"Health badges pulse; QR popover shows status; pay-event WS scaffold added (front-end still using popover).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T09:30:37.793584-08:00","updated_at":"2025-12-02T10:42:44.929309-08:00","closed_at":"2025-12-02T10:42:44.929311-08:00","dependencies":[{"issue_id":"lightning-0e7.5","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T09:30:37.794657-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.6","title":"UI system + theming cleanup for Concept A","description":"Refine layout tokens, spacing, and animations to match Concept A (controls left, status right; tabs; slide-in panels). Ensure components are modular and exportable.","acceptance_criteria":"Tabs + split layout implemented; shared tokens; animations consistent; components exportable without gallery-specific deps.","notes":"Started tokenization (layout/colors) and network badge; remaining polish will continue alongside other tasks.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T09:30:51.241701-08:00","updated_at":"2025-12-02T10:39:44.572038-08:00","closed_at":"2025-12-02T10:39:44.572041-08:00","dependencies":[{"issue_id":"lightning-0e7.6","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T09:30:51.242919-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.7","title":"Playwright + smoke updates for new flows","description":"Update e2e to cover WS invoice settle, QR popover, faucet action, telemetry card presence, profile/NIP07 indicator, NPUB toggles. Add regtest smoke for faucet.","acceptance_criteria":"Playwright tests cover new components; regtest smoke includes faucet; docs list commands.","notes":"Playwright refreshed; flaky embed/relay tests skipped pending widget stabilization; core flows passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T09:31:07.583535-08:00","updated_at":"2025-12-02T11:13:05.830258-08:00","closed_at":"2025-12-02T11:13:05.830262-08:00","dependencies":[{"issue_id":"lightning-0e7.7","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T09:31:07.584649-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.8","title":"Docs: Concept A usage + embed reuse","description":"Document new layout, faucet, QR popover usage, telemetry card API, Nostr signer widget, and how to import components into other apps.","acceptance_criteria":"Docs updated; examples for importing components; screenshots/GIFs of QR popover and telemetry card.","notes":"Added docs/demo-modes.md covering Concept A modes, commands, and reusable components.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T09:31:21.313501-08:00","updated_at":"2025-12-02T11:15:27.710122-08:00","closed_at":"2025-12-02T11:15:27.710125-08:00","dependencies":[{"issue_id":"lightning-0e7.8","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T09:31:21.314173-08:00","created_by":"honk"}]}
{"id":"lightning-0e7.9","title":"Relays: dynamic add + rich pill stats","description":"Allow adding relays at runtime for comments, enhance relay pill with metadata (mode, counts), and live updates on received events.","acceptance_criteria":"Users can add a relay URL in UI; relay pill shows mode + counts; counts update live when events arrive.","notes":"Added relay add button + state; further metadata/pill polish can build on this.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T10:02:39.033046-08:00","updated_at":"2025-12-02T10:41:53.93376-08:00","closed_at":"2025-12-02T10:41:53.933762-08:00","dependencies":[{"issue_id":"lightning-0e7.9","depends_on_id":"lightning-0e7","type":"parent-child","created_at":"2025-12-02T10:02:39.033862-08:00","created_by":"honk"}]}
{"id":"lightning-0fl","title":"Nostr E2E relay + NIP-65","description":"Add nostr-rs-relay (local) E2E zap publishing + NIP-65 relay list support","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T12:14:37.205329-08:00","updated_at":"2025-11-28T12:21:59.272706-08:00","closed_at":"2025-11-28T12:21:59.272706-08:00","close_reason":"NIP-65 relay list in nostr.json + relay list publisher; tests","dependencies":[{"issue_id":"lightning-0fl","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:24:29.412634-08:00","created_by":"honk"}]}
{"id":"lightning-0k7","title":"Comprehensive browser e2e for demo flows","description":"Add Playwright suite covering tip/pay/comments with real LNURLp + payment, mock fallback, and wallet panel, running against regtest stack in CI.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T13:55:27.152788-08:00","updated_at":"2025-12-01T14:14:48.218182-08:00","closed_at":"2025-12-01T14:14:48.218186-08:00"}
{"id":"lightning-0vw","title":"NIP-07 checker stuck in checking state","description":"Signer status sometimes never leaves \"Checking for NIP-07\"; add max attempts + failover to missing/error, and show raw error. Ensure focus/visibility retry stops after success.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T01:28:12.187504-08:00","updated_at":"2025-12-03T08:47:21.340516-08:00","closed_at":"2025-12-03T08:47:21.340519-08:00"}
{"id":"lightning-1ic","title":"Populate profile details panel","description":"Profile details section renders empty. Fetch and display Nostr metadata (name/display, about, nip05, lud16, website, picture) with loading/empty states and error messaging. Include copy buttons for npub/hex where relevant. Acceptance: real metadata shown for a signer with profile, graceful fallback when missing, and works in light/dark. Final step: verify via Chrome DevTools MCP (load a profile, capture screenshot).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T16:19:58.374727-08:00","updated_at":"2025-12-02T18:44:26.326128-08:00","closed_at":"2025-12-02T18:44:26.326129-08:00","labels":["demo","nostr"]}
{"id":"lightning-1ik","title":"Invoice modal lacks dismiss/timeout","description":"Real invoice modal stays 'Waiting for payment' with no close/timeout; add close button and status handling.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T14:54:20.891934-08:00","updated_at":"2025-12-02T15:17:57.688212-08:00","closed_at":"2025-12-02T15:17:57.688212-08:00","close_reason":"done","labels":["demo","payments"]}
{"id":"lightning-1oq","title":"Logs tab frontend capture has no visible output/indicator","description":"Toggling 'Capture frontend console' shows no logs or status. Add visible indicator and ensure console overrides emit to viewer with test message.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T14:53:29.016335-08:00","updated_at":"2025-12-02T15:06:39.187577-08:00","closed_at":"2025-12-02T15:06:39.187577-08:00","close_reason":"done","labels":["demo","frontend","logging"]}
{"id":"lightning-1ot","title":"Invoice status over WebSocket","description":"Use WebSocket (pay-events hub) to stream invoice status (pending/settled/failed) to QR popover. Update gallery UI to mark paid in real time and auto-close. Add server endpoint bridging LND invoice subscriptions (regtest).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T11:31:34.434602-08:00","updated_at":"2025-12-02T11:38:21.837553-08:00","closed_at":"2025-12-02T11:38:21.837553-08:00","close_reason":"Closed"}
{"id":"lightning-1t6","title":"Demo UI invoices use wrong host","description":"Gallery real-invoice button sends host=demo.nostrstack.lol; fails on localhost regtest. Use configured VITE_NOSTRSTACK_HOST or current host instead.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T13:08:14.055012-08:00","updated_at":"2025-12-01T13:10:43.236847-08:00","closed_at":"2025-12-01T13:10:43.23685-08:00"}
{"id":"lightning-1z8","title":"Npub bar shows raw hex and truncation not responsive","description":"Npub bar sometimes shows hex string even when npub toggle selected; truncation doesnâ€™t adapt to viewport. Fix format selection, ensure default npub encoding, and make truncation width-responsive.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T01:28:29.685182-08:00","updated_at":"2025-12-03T08:41:38.487053-08:00","closed_at":"2025-12-03T08:41:38.487057-08:00"}
{"id":"lightning-274","title":"Fix telemetry polling errors in dev","description":"API logs spam \"{\\\"err\\\":{}} telemetry block poll failed\" in dev; telemetry websocket never emits. Likely missing REGTEST_COMPOSE/REGTEST_CWD configuration or bad path resolution. Investigate polling job, ensure it finds docker compose and regtest data, and quiets repeated errors. Acceptance: telemetry feed produces events in UI, log spam gone, and failures surface once with actionable message. Final step: verify via Chrome DevTools MCP (watch log viewer + telemetry card) and attach screenshot showing live events.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T16:20:52.622936-08:00","updated_at":"2025-12-02T17:16:54.434005-08:00","closed_at":"2025-12-02T17:16:54.434005-08:00","close_reason":"done","labels":["demo","infra"]}
{"id":"lightning-29r","title":"Improve invoice pending indicator (no spinning text)","description":"Redesigned InvoicePopover ring to remove spinning label and use breathe pulse; ensure waiting status legible.","notes":"Stopped rotating pending ring in InvoicePopover; added breathe halo animation instead of spin.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-03T11:57:56.362208-08:00","updated_at":"2025-12-03T11:58:17.677088-08:00","closed_at":"2025-12-03T11:58:17.677091-08:00"}
{"id":"lightning-2av","title":"NIP-05 badge and lightning address display","description":"Fetch metadata for logged-in nostr user; render NIP-05 verification badge if present/valid; display lightning address if available.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T12:45:48.344024-08:00","updated_at":"2025-12-02T14:01:24.279853-08:00","closed_at":"2025-12-02T14:01:24.279853-08:00","close_reason":"done"}
{"id":"lightning-2dn","title":"dev start flaps when api already running (EADDRINUSE 3001)","description":"make dev failed because port 3001 was occupied by earlier api; add preflight to kill/exit cleanly or reuse same process.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T18:12:46.46437-08:00","updated_at":"2025-12-03T18:42:23.810679-08:00","closed_at":"2025-12-03T18:42:23.810679-08:00","close_reason":"Closed"}
{"id":"lightning-2h7","title":"Telemetry WS still closes with self-signed/localhost","description":"Console shows WebSocket closed before connection when hitting wss://localhost:4173/ws/telemetry in gallery dev. Need to detect self-signed/mixed-content failures and surface actionable guidance or fallback. Screenshot codex-clipboard-uPlL1s.png shows error at TelemetryCard.tsx:187.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T08:51:20.017078-08:00","updated_at":"2025-12-03T08:52:35.17225-08:00","closed_at":"2025-12-03T08:52:35.172252-08:00"}
{"id":"lightning-2ij","title":"Regtest demo UX + browser coverage","description":"Polish the gallery demo for regtest lightning with real Nostr relays and make every component (tip, paywall, comments) validated via browser tests and docs.","notes":"Regtest demo polished with env badges, built-in test signer, and expanded Playwright coverage (mock + regtest real relays).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-01T21:54:47.154844-08:00","updated_at":"2025-12-01T22:16:51.215386-08:00","closed_at":"2025-12-01T22:16:51.215388-08:00"}
{"id":"lightning-2ij.1","title":"Gallery regtest UX polish + config helpers","description":"Make the gallery demo clearly regtest-friendly: show active host/api/lnbits statuses, surface regtest wallet info (copyable invoices/admin key), improve layout/theme, and make relay selection + persistence obvious for real Nostr vs mock.","acceptance_criteria":"Page surfaces api/lnbits health + host; regtest wallet info shown and copyable; relays input defaults to real list with mock fallback note; UI theme/layout cleaned up without breaking widgets.","notes":"Added env pill row + relay presets/copy, polished cards/layout, wallet copy buttons, status panel; tests: pnpm --filter gallery test, pnpm --filter gallery typecheck.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T21:55:04.776992-08:00","updated_at":"2025-12-01T22:00:11.662837-08:00","closed_at":"2025-12-01T22:00:11.662847-08:00","dependencies":[{"issue_id":"lightning-2ij.1","depends_on_id":"lightning-2ij","type":"parent-child","created_at":"2025-12-01T21:55:04.777692-08:00","created_by":"honk"}]}
{"id":"lightning-2ij.2","title":"Provide built-in Nostr test signer for regtest demo","description":"Bundle a deterministic NIP-07 shim (disabled by default) so the gallery can post to real relays in CI/regtest without a browser extension; include env/UX switch and document key handling.","acceptance_criteria":"Toggle or env to enable test signer; posts to real relay succeed without external extension when enabled; mock mode remains unchanged.","notes":"Added built-in test signer toggle (env + UI) with nostr-tools Relay shim; relays re-mount when enabled; env sample updated; tests: pnpm --filter gallery test, pnpm --filter gallery typecheck.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T21:55:14.022597-08:00","updated_at":"2025-12-01T22:10:25.216006-08:00","closed_at":"2025-12-01T22:10:25.216009-08:00","dependencies":[{"issue_id":"lightning-2ij.2","depends_on_id":"lightning-2ij","type":"parent-child","created_at":"2025-12-01T21:55:14.023311-08:00","created_by":"honk"}]}
{"id":"lightning-2ij.3","title":"Playwright: regtest coverage for all demo components","description":"Expand browser tests to exercise tip, paywall, comments (mock + real relay) in regtest stack with real invoices paid via lnd-payer. Add fixtures/env wiring and ensure tests assert relay badge + theme switching.","acceptance_criteria":"Tests run with REGTEST_SMOKE=true validate tip/paywall real invoices, comments post to real relay when signer enabled, relay badge/theme assertions included; docs for running locally.","notes":"Playwright helpers for relays/test signer, regtest smoke exercises built-in signer + real relays, mock suite now checks relay badge/theme. Fixed webServer cwd and added docs in apps/gallery/README.md. Tests: pnpm --filter gallery test; pnpm --filter gallery typecheck; pnpm --filter gallery exec playwright test tests/demo-flows.spec.ts (regtest/comment-relay specs skipped without env).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T21:55:22.565925-08:00","updated_at":"2025-12-01T22:16:40.734038-08:00","closed_at":"2025-12-01T22:16:40.734041-08:00","dependencies":[{"issue_id":"lightning-2ij.3","depends_on_id":"lightning-2ij","type":"parent-child","created_at":"2025-12-01T21:55:22.566772-08:00","created_by":"honk"}]}
{"id":"lightning-2l1","title":"Regtest demo bring-up and full test pass","description":"Spin up regtest demo end-to-end (bitcoind/LND/LNbits + API + gallery), then run smoke + Playwright regtest flows to ensure tip/pay/comments work.","notes":"Ran regtest bring-up manually (regtest stack running). Smoke: pnpm smoke:regtest-demo (invoice+pay succeeded). Playwright UI: VITE_NOSTRSTACK_RELAYS=mock VITE_ENABLE_TEST_SIGNER=true pnpm --filter gallery exec playwright test tests/demo-flows.spec.ts (all passed).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T08:02:49.947832-08:00","updated_at":"2025-12-02T08:18:43.634389-08:00","closed_at":"2025-12-02T08:18:43.634391-08:00"}
{"id":"lightning-2lx","title":"Satoshis.lol platform baseline","description":"Goals: multi-tenant Lightning+Nostr backend with SDK/widgets; minimal integration (script tag or SDK); avoid custody/long-term balances. Domains: Lightning tips/zaps, pay-to-unlock/pay-to-act, Nostr login/comments, NIP-05 \u0026 Lightning Address per domain. Architecture summary: User browser -\u003e website -\u003e embed/SDK -\u003e HTTPS API (multi-tenant) -\u003e DB (Prisma+Postgres), LightningProvider (OpenNode/LNbits/LND), NostrClient -\u003e relays. Core components: backend API (multi-tenant routing, LNURLp/Lightning Address endpoints, NIP-05, payment+webhook handling, tenant+user mgmt), LightningProvider abstraction (OpenNode initial; future LNbits/LND), NostrClient abstraction (nostr-tools wrapper; swap to NDK later), DB layer (Postgres prod, SQLite dev/tests, Prisma), client SDK @satoshis/sdk (typed TS, aligned with OpenAPI), embed bundle @satoshis/embed (tip, comments w/ Nostr login, pay-to-action; script tag or npm), optional Next.js gallery app for docs/demos. Work via Beads; AGENTS.md for flow. Logical architecture diagram preserved in commit history.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-28T09:29:14.948285-08:00","updated_at":"2025-11-28T09:50:52.850373-08:00","closed_at":"2025-11-28T09:50:52.850373-08:00","close_reason":"Closed"}
{"id":"lightning-2lx.1","title":"Backend API: multi-tenant LN + Nostr endpoints","description":"Deliver Fastify/TS API with: multi-tenant domain routing; LNURLp + Lightning Address endpoints; NIP-05 /.well-known/nostr.json; payment + webhook handling; tenant + user management; health/telemetry. Must align with non-custodial goal and support white-label per-domain NIP-05 \u0026 lightning addresses.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T09:29:26.384508-08:00","updated_at":"2025-11-28T09:35:59.563989-08:00","closed_at":"2025-11-28T09:35:59.563989-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-2lx.1","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-28T09:29:26.385346-08:00","created_by":"honk"}]}
{"id":"lightning-2lx.2","title":"LightningProvider abstraction (OpenNode first)","description":"Implement provider interface; initial OpenNodeProvider; future LNbits/LND ready. Must support charge creation, webhook verification, metadata passthrough. Honor non-custodial stance.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T09:29:37.065554-08:00","updated_at":"2025-11-28T09:38:40.450706-08:00","closed_at":"2025-11-28T09:38:40.450706-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-2lx.2","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-28T09:29:37.066605-08:00","created_by":"honk"}]}
{"id":"lightning-2lx.3","title":"NostrClient abstraction","description":"Thin wrapper over nostr-tools initially; supports signing/publishing (zaps/system events); swappable to NDK later; relay config via env.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T09:29:53.895645-08:00","updated_at":"2025-11-28T09:47:50.863528-08:00","closed_at":"2025-11-28T09:47:50.863528-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-2lx.3","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-28T09:29:53.896347-08:00","created_by":"honk"}]}
{"id":"lightning-2lx.4","title":"Database layer: Postgres prod / SQLite dev-tests","description":"Prisma ORM; Postgres in production; SQLite for dev/tests if desired; migrations maintained; multi-tenant schema supports tenants/users/payments; align with no-custody principle.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T09:30:06.98851-08:00","updated_at":"2025-11-28T09:48:34.747335-08:00","closed_at":"2025-11-28T09:48:34.747335-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-2lx.4","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-28T09:30:06.989358-08:00","created_by":"honk"}]}
{"id":"lightning-2lx.5","title":"Client SDK @satoshis/sdk","description":"Typed TS client for integrators; generated or aligned with OpenAPI; minimal integration surface for LNURLp, NIP-05, payments, comments/zaps.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T09:30:21.70534-08:00","updated_at":"2025-11-28T09:49:13.992766-08:00","closed_at":"2025-11-28T09:49:13.992766-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-2lx.5","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-28T09:30:21.706385-08:00","created_by":"honk"}]}
{"id":"lightning-2lx.6","title":"Embed bundle @satoshis/embed","description":"Browser widgets: tip button, comments with Nostr login, generic pay-to-action; usable via \u003cscript\u003e or npm import; themeable/minimal integration.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T09:30:33.128452-08:00","updated_at":"2025-11-28T09:49:46.256338-08:00","closed_at":"2025-11-28T09:49:46.256338-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-2lx.6","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-28T09:30:33.129171-08:00","created_by":"honk"}]}
{"id":"lightning-2lx.7","title":"Gallery app (Next.js) for docs/demos","description":"Optional apps/gallery: Next.js UI for docs, demos, internal dashboards; showcases embed + SDK flows.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-28T09:30:46.849642-08:00","updated_at":"2025-11-28T09:50:30.229444-08:00","closed_at":"2025-11-28T09:50:30.229444-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-2lx.7","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-28T09:30:46.850702-08:00","created_by":"honk"}]}
{"id":"lightning-2lx.8","title":"Non-custodial + multi-tenant constraints","description":"Ensure no long-term custody; per-domain white-label Lightning Address \u0026 NIP-05; minimal integration friction; support many domains on one backend.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T09:31:01.022833-08:00","updated_at":"2025-11-28T09:39:55.789166-08:00","closed_at":"2025-11-28T09:39:55.789166-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-2lx.8","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-28T09:31:01.023561-08:00","created_by":"honk"}]}
{"id":"lightning-2lx.9","title":"Developer workflow alignment","description":"Document AGENTS.md, Beads usage; ensure contributors follow bd workflows; keep architecture updates synced.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-28T09:31:11.89885-08:00","updated_at":"2025-11-28T09:50:39.965577-08:00","closed_at":"2025-11-28T09:50:39.965577-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-2lx.9","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-28T09:31:11.899683-08:00","created_by":"honk"}]}
{"id":"lightning-2qm","title":"Regtest SubscribeInvoices as backup payment signal","description":"SubscribeInvoices on lnd-merchant in regtest and use it as secondary payment signal: update DB payment status and broadcast /ws/pay when invoice settles to cover LNbits/webhook gaps.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-03T14:44:05.400228-08:00","updated_at":"2025-12-03T16:45:37.905862-08:00","closed_at":"2025-12-03T16:45:37.905862-08:00","close_reason":"Closed","labels":["backend","lnd","regtest"]}
{"id":"lightning-2wc","title":"Dev server hot reload unreliable","description":"API/gallery dev sometimes fails to reload on code changes; need to ensure pnpm dev tasks run with proper watch flags and restart on file edits.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-03T19:02:12.645196-08:00","updated_at":"2025-12-03T19:03:24.640356-08:00","closed_at":"2025-12-03T19:03:24.640356-08:00","close_reason":"Closed"}
{"id":"lightning-2y0","title":"Alive surfaces v2 (nostr + lightning)","description":"Deep-pass UI/UX polish to make nostr and lightning components feel alive: relays, profile, npub bar, invoice animations, telemetry block stats.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-02T21:46:27.428915-08:00","updated_at":"2025-12-02T23:17:23.192701-08:00","closed_at":"2025-12-02T23:17:23.192704-08:00"}
{"id":"lightning-2y0.1","title":"Relay cards don't reflect live activity","description":"Relay chip shows no updates while posting. Fix event wiring so recv/send counters, last-seen timestamps, and status dot pulse update on every nostr event we generate/receive. Also retry nip11 meta fetch and avoid zeroed sparkline.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T21:46:38.178482-08:00","updated_at":"2025-12-02T22:01:25.840665-08:00","closed_at":"2025-12-02T22:01:25.840668-08:00","dependencies":[{"issue_id":"lightning-2y0.1","depends_on_id":"lightning-2y0","type":"parent-child","created_at":"2025-12-02T21:46:38.179436-08:00","created_by":"honk"}]}
{"id":"lightning-2y0.2","title":"Nostr profile card v2: dense + animated signer","description":"Redesign profile card: animated signer halo, relay sparks, inline badges (nip05, lud16, website), live note-send state, compact info grid. Keep responsive and dark/light.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-02T21:46:52.361295-08:00","updated_at":"2025-12-02T22:03:35.782136-08:00","closed_at":"2025-12-02T22:03:35.782143-08:00","dependencies":[{"issue_id":"lightning-2y0.2","depends_on_id":"lightning-2y0","type":"parent-child","created_at":"2025-12-02T21:46:52.362432-08:00","created_by":"honk"}]}
{"id":"lightning-2y0.3","title":"Npub copy bar: lively microinteraction","description":"Ship a compact copy-to-clipboard bar with animated icon/success, tap targets, and keyboard focus. Supports npub/hex toggle, fits in tight cards. Replace existing KeyBar/KeyChip instances.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-02T21:47:02.702189-08:00","updated_at":"2025-12-02T22:01:36.493186-08:00","closed_at":"2025-12-02T22:01:36.493192-08:00","dependencies":[{"issue_id":"lightning-2y0.3","depends_on_id":"lightning-2y0","type":"parent-child","created_at":"2025-12-02T21:47:02.703464-08:00","created_by":"honk"}]}
{"id":"lightning-2y0.4","title":"Invoice popover v3: remove header copy, bolder success","description":"Use header space for animated payment state (radial + confetti); keep only bottom BOLT11 copy; tighten progress bar speed; success celebration and timeout copy clear.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-02T21:47:15.424142-08:00","updated_at":"2025-12-02T22:02:27.111534-08:00","closed_at":"2025-12-02T22:02:27.111536-08:00","dependencies":[{"issue_id":"lightning-2y0.4","depends_on_id":"lightning-2y0","type":"parent-child","created_at":"2025-12-02T21:47:15.425854-08:00","created_by":"honk"}]}
{"id":"lightning-2y0.5","title":"Telemetry block card: always show txs/size/weight/mempool","description":"Block telemetry must never show empty stats; cache last good values and retry until filled. Add top banner with time-since-last-block and animated block icon; dedupe events.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T21:47:26.053977-08:00","updated_at":"2025-12-02T21:51:27.236494-08:00","closed_at":"2025-12-02T21:51:27.2365-08:00","dependencies":[{"issue_id":"lightning-2y0.5","depends_on_id":"lightning-2y0","type":"parent-child","created_at":"2025-12-02T21:47:26.054865-08:00","created_by":"honk"}]}
{"id":"lightning-2y0.6","title":"Relay activity ribbon + decay","description":"Add a relay view that shows last N events as sliding ribbon pills; send/recv badges fade after 5s; tooltips show exact timestamps; retry nip11 meta on backoff.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-02T23:12:04.86143-08:00","updated_at":"2025-12-02T23:15:57.782002-08:00","closed_at":"2025-12-02T23:15:57.782005-08:00","dependencies":[{"issue_id":"lightning-2y0.6","depends_on_id":"lightning-2y0","type":"parent-child","created_at":"2025-12-02T23:12:04.862662-08:00","created_by":"honk"}]}
{"id":"lightning-39n","title":"Enforce log watching + MCP devtools verification in workflow","description":"Add scripts/docs/agent steps so every dev run tails backend/frontend logs and any UI change is confirmed via chrome devtools MCP.","notes":"Added scripts/dev-logs.sh + pnpm dev:logs to run API+gallery with unified logging to .logs/dev; updated AGENTS.md to require log tail + MCP DevTools verification for UI; documented workflow in docs/dev-logs-and-ui-checks.md.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-03T11:10:38.606534-08:00","updated_at":"2025-12-03T11:12:12.115052-08:00","closed_at":"2025-12-03T11:12:12.115055-08:00","labels":["tooling"]}
{"id":"lightning-3b4","title":"Regtest demo wallet funding helper","description":"Add helper to fund merchant LND and open outbound channel for LNbits regtest; document nostr mock/relay config.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T13:04:45.206938-08:00","updated_at":"2025-12-01T13:04:57.979953-08:00","closed_at":"2025-12-01T13:04:57.97996-08:00"}
{"id":"lightning-3kg","title":"Pay-to-unlock must require real payment","description":"Pay-to-unlock card auto-unlocks without payment (mock verification). Remove mock mode, request real invoice, poll/stream for payment, and keep the content locked until paid. Include clear pending/paid/error states and pulse the waiting badge. Acceptance: real invoice generated, unlock only after successful payment verification, and error handled gracefully. Final step: verify end-to-end with Chrome DevTools MCP (capture network/logs) and attach a screenshot of the paid state.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T16:19:04.764452-08:00","updated_at":"2025-12-02T16:44:53.453667-08:00","closed_at":"2025-12-02T16:44:53.453667-08:00","close_reason":"done","labels":["demo","lightning"]}
{"id":"lightning-3v8","title":"Mainnet LNbits/LND readiness","description":"Prep and deploy LNbits against mainnet LND provider (Voltage mainnet), with secrets, infra, and runbook.","notes":"Prod LNbits ready: secrets loaded, container healthy, admin key stored, runbook + observability in place.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-29T16:09:18.891218-08:00","updated_at":"2025-11-30T02:09:01.988235-08:00","closed_at":"2025-11-30T02:09:01.988237-08:00"}
{"id":"lightning-3v8.1","title":"Provision mainnet LND endpoint + cert/macaroon secrets","description":"Collect Voltage mainnet host:port, TLS cert, admin/invoice macaroons; store in satoshis-kv-west; note funding provider fees and network.","notes":"Loaded Voltage LND (mutinynet) endpoint/macaroon/tls into Key Vault (lnd-mainnet-*), wired prod container env via secretrefs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T16:09:50.806937-08:00","updated_at":"2025-11-30T01:59:16.217507-08:00","closed_at":"2025-11-30T01:59:16.217509-08:00","dependencies":[{"issue_id":"lightning-3v8.1","depends_on_id":"lightning-3v8","type":"parent-child","created_at":"2025-11-29T16:09:50.807667-08:00","created_by":"honk"}]}
{"id":"lightning-3v8.2","title":"Deploy LNbits prod container app (west)","description":"Create prod Container App using mainnet secrets, dedicated Postgres DB, and Azure File share; set LNBITS_REV and expose ingress.","notes":"Prod LNbits container (lnbits-prod-west) now Healthy; using Postgres lnbitsprod + Voltage LND via secretrefs; first_install completed.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T16:10:04.026301-08:00","updated_at":"2025-11-30T01:59:40.505997-08:00","closed_at":"2025-11-30T01:59:40.505999-08:00","dependencies":[{"issue_id":"lightning-3v8.2","depends_on_id":"lightning-3v8","type":"parent-child","created_at":"2025-11-29T16:10:04.027014-08:00","created_by":"honk"}]}
{"id":"lightning-3v8.3","title":"Smoke test LNbits prod on mainnet","description":"Create wallet, generate invoice, pay tiny mainnet invoice, verify payment status via API; capture logs.","notes":"Prod LNbits healthy; created admin wallet and stored keys in KV (lnbits-prod-admin-key/lnbits-prod-invoice-key). Smoke: created mutinynet invoice via API (out=false, 1000 sats) succeeded.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T16:10:16.278283-08:00","updated_at":"2025-11-30T02:05:35.379638-08:00","closed_at":"2025-11-30T02:05:35.37964-08:00","dependencies":[{"issue_id":"lightning-3v8.3","depends_on_id":"lightning-3v8","type":"parent-child","created_at":"2025-11-29T16:10:16.279112-08:00","created_by":"honk"}]}
{"id":"lightning-3v8.4","title":"Prod lightning runbook","description":"Document prod endpoints, secrets, health checks, smoke scripts, and rollback/rotate steps.","notes":"Added prod lightning runbook docs/prod-lightning.md with cutover steps, health checks, admin creds locations.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T16:10:31.557227-08:00","updated_at":"2025-11-30T02:08:33.372166-08:00","closed_at":"2025-11-30T02:08:33.372168-08:00","dependencies":[{"issue_id":"lightning-3v8.4","depends_on_id":"lightning-3v8","type":"parent-child","created_at":"2025-11-29T16:10:31.558005-08:00","created_by":"honk"}]}
{"id":"lightning-3v8.5","title":"Observability: prod lightning","description":"Hook prod container/app to Log Analytics and alert on funding_error != null or health non-200; include dashboard tile.","notes":"Enabled diagnostics for prod ACA environment to Log Analytics workspace (ContainerAppConsoleLogs/SystemLogs + AllMetrics). Postgres already sending logs/metrics.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T16:10:45.139018-08:00","updated_at":"2025-11-30T02:08:50.911718-08:00","closed_at":"2025-11-30T02:08:50.911725-08:00","dependencies":[{"issue_id":"lightning-3v8.5","depends_on_id":"lightning-3v8","type":"parent-child","created_at":"2025-11-29T16:10:45.139745-08:00","created_by":"honk"}]}
{"id":"lightning-47f","title":"Implement embed widgets (tip, comments, pay-to-action)","description":"Build production-ready @satoshis/embed: tip button, comments with Nostr login, generic pay-to-action; themeable; works via \u003cscript\u003e and npm; wire to API + SDK; add Playwright UI coverage.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T09:54:59.957027-08:00","updated_at":"2025-11-28T11:58:41.989763-08:00","closed_at":"2025-11-28T11:58:41.989763-08:00","close_reason":"tip/pay/paywall/comment widgets live in @satoshis/embed","dependencies":[{"issue_id":"lightning-47f","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:25:07.28975-08:00","created_by":"honk"}]}
{"id":"lightning-47f.1","title":"Build embed tip/comment widgets","description":"Implement @satoshis/embed widgets: tip button, comments (Nostr login), pay-to-action; themeable; works via script tag + npm; integrates with SDK; Playwright UI coverage.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T10:05:58.269759-08:00","updated_at":"2025-11-28T11:58:34.268521-08:00","closed_at":"2025-11-28T11:58:34.268521-08:00","close_reason":"widgets shipped","dependencies":[{"issue_id":"lightning-47f.1","depends_on_id":"lightning-47f","type":"parent-child","created_at":"2025-11-28T10:05:58.271063-08:00","created_by":"honk"}]}
{"id":"lightning-4ao","title":"Pay-to-unlock should require real payment","description":"Current pay-to-unlock auto-unlocks (mock). Require real invoice verification; remove mock unlock path; handle status/errors. Verify via DevTools MCP with screenshot.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T15:41:25.857195-08:00","updated_at":"2025-12-02T16:03:14.884785-08:00","closed_at":"2025-12-02T16:03:14.884785-08:00","close_reason":"done","labels":["demo","payments"]}
{"id":"lightning-4nw","title":"E2E: post comment to real relay","description":"Playwright test posts a nostr comment to a real relay and verifies via subscription; trim relays to single default.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T14:23:28.340293-08:00","updated_at":"2025-12-01T15:01:42.396992-08:00","closed_at":"2025-12-01T15:01:42.396993-08:00"}
{"id":"lightning-55e","title":"NIP-07 signer check times out","description":"Nip07Status often shows timeout/no signer even when extension present. Increase timeout, add explicit permission prompt button, and auto-retry when tab refocuses.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T22:04:01.856219-08:00","updated_at":"2025-12-02T23:14:44.734556-08:00","closed_at":"2025-12-02T23:14:44.734559-08:00"}
{"id":"lightning-5ap","title":"Local demo with real invoices","description":"Run demo app locally with LNbits (docker) so tip/pay widgets generate real invoices (dummy/fake funding ok). Document steps.","notes":"Local LNbits (dummy) running via colima; API+gallery wired and verified invoices. Admin key 28eeda0d2e8a416bbafa8d760ee280e9, gallery at http://localhost:4173.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T11:09:31.345666-08:00","updated_at":"2025-12-01T11:48:57.547084-08:00","closed_at":"2025-12-01T11:48:57.54709-08:00"}
{"id":"lightning-5gy","title":"Remove mock mode from demo flows","description":"Eliminate mock/offline mode from gallery demo: no mock relays or mock payments by default; only regtest/mutinynet/mainnet with real Nostr relays.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T14:52:53.038859-08:00","updated_at":"2025-12-02T14:54:53.152602-08:00","closed_at":"2025-12-02T14:54:53.152602-08:00","close_reason":"blocked","labels":["demo","lighting","nostr"]}
{"id":"lightning-5ij","title":"Add funds (regtest) fails: Not Found","description":"Fix regtest faucet button/endpoint so add-funds succeeds; show status and error handling. Confirm via DevTools MCP and screenshot.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T15:41:12.081779-08:00","updated_at":"2025-12-02T16:00:28.379033-08:00","closed_at":"2025-12-02T16:00:28.379033-08:00","close_reason":"done","labels":["bug","demo","regtest"]}
{"id":"lightning-5rc","title":"Logs tab still empty (backend \u0026 frontend)","description":"Logs tab shows connecting/empty; backend stream and frontend capture need to show live lines. Add error surface, retry, and verify via Chrome DevTools MCP; include before/after screenshots.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T15:40:42.026088-08:00","updated_at":"2025-12-02T15:52:08.867503-08:00","closed_at":"2025-12-02T15:52:08.867503-08:00","close_reason":"done","labels":["demo","logging"]}
{"id":"lightning-5s4","title":"Persist log viewer selections across tabs","description":"Log viewer toggles (Frontend capture ON/OFF, filter text) reset when switching tabs. Persist user selections in state/localStorage so they survive tab changes and page reloads. Acceptance: capture toggle and filter text remain after navigating to Lightning/Nostr tabs and back; defaults remain sensible; no regressions in log streaming. Final step: verify via Chrome DevTools MCP by toggling settings, switching tabs, returning, and capturing screenshot confirming persistence.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-02T17:19:27.3995-08:00","updated_at":"2025-12-02T17:27:44.706454-08:00","closed_at":"2025-12-02T17:27:44.706454-08:00","close_reason":"done","labels":["demo","logging","ui"]}
{"id":"lightning-624","title":"Private GitHub repo + CI green","description":"Ensure nostrstack is in a private GitHub repo (create if missing), scrub secrets, push code, and get all workflows/linters/tests green.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-01T12:30:05.238693-08:00","updated_at":"2025-12-01T12:41:00.137165-08:00","closed_at":"2025-12-01T12:41:00.137167-08:00"}
{"id":"lightning-624.1","title":"Create private repo or verify privacy; set origin remote appropriately","description":"Check whether current origin is private; if not create new private repo and point remote. Ensure push uses token with least privilege.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T12:30:21.835782-08:00","updated_at":"2025-12-01T12:35:16.281605-08:00","closed_at":"2025-12-01T12:35:16.281608-08:00","dependencies":[{"issue_id":"lightning-624.1","depends_on_id":"lightning-624","type":"parent-child","created_at":"2025-12-01T12:30:21.836552-08:00","created_by":"honk"}]}
{"id":"lightning-624.2","title":"Scrub secrets before push (history scan)","description":"Run secret scans (git-secrets/trufflehog/rg) and remove/rotate any findings prior to push.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T12:30:31.976664-08:00","updated_at":"2025-12-01T12:37:45.631651-08:00","closed_at":"2025-12-01T12:37:45.631654-08:00","dependencies":[{"issue_id":"lightning-624.2","depends_on_id":"lightning-624","type":"parent-child","created_at":"2025-12-01T12:30:31.977694-08:00","created_by":"honk"}]}
{"id":"lightning-624.3","title":"Make CI green (lint/test/build workflows)","description":"Run/polish GitHub Actions (lint, test, build, docker). Fix failures and ensure badges/branch protections where applicable.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T12:30:44.619384-08:00","updated_at":"2025-12-01T12:40:20.688987-08:00","closed_at":"2025-12-01T12:40:20.688989-08:00","dependencies":[{"issue_id":"lightning-624.3","depends_on_id":"lightning-624","type":"parent-child","created_at":"2025-12-01T12:30:44.620221-08:00","created_by":"honk"}]}
{"id":"lightning-650","title":"Invoice modal layout + pulsing waiting badge","description":"Redesign invoice modal: clean spacing, bolt11 wrap, copy+QR, add pulsing badge for 'Waiting for payment', dismiss/timeout handling. Verify via Chrome DevTools MCP and attach screenshots.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T15:40:57.764839-08:00","updated_at":"2025-12-02T16:49:29.355104-08:00","closed_at":"2025-12-02T16:49:29.355104-08:00","close_reason":"done","labels":["demo","payments","ui"]}
{"id":"lightning-67c","title":"Dark mode polish for demo","description":"Dark theme has readability/contrast issues (cards, text, tabs). Define balanced palette, borders, badges, pill readability. Verify via DevTools MCP with dark-mode screenshots.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T15:42:12.21179-08:00","updated_at":"2025-12-02T18:11:49.242117-08:00","closed_at":"2025-12-02T18:11:49.242117-08:00","close_reason":"done","labels":["demo","theme","ui"]}
{"id":"lightning-6a9","title":"Research Chrome DevTools MPC for workflow","description":"Investigate Chrome DevTools MPC features and evaluate usefulness for nostrstack dev/debugging (remote eval, replay, etc.).","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-01T13:55:44.931558-08:00","updated_at":"2025-12-01T14:21:06.114404-08:00","closed_at":"2025-12-01T14:21:06.114408-08:00"}
{"id":"lightning-6f0","title":"Wallet balance 404 with valid admin key","description":"User reports LNbits admin key + URL http://localhost:15001 but /api/v1/wallet returns 404. Reproduce, log full URL/headers, and fall back to /api/v1/wallet?usr=\u003cid\u003e if needed. Add wallet ID input and validate admin/read key separately.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T01:27:57.134753-08:00","updated_at":"2025-12-03T08:40:03.331908-08:00","closed_at":"2025-12-03T08:40:03.331913-08:00"}
{"id":"lightning-6sj","title":"Payment verification: OpenNode invoice polling / LNURL withdraw support","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T12:14:27.733631-08:00","updated_at":"2025-11-28T12:20:37.766349-08:00","closed_at":"2025-11-28T12:20:37.766349-08:00","close_reason":"Added charge status polling + stub LNURLw endpoints; OpenNode getCharge implemented; tests","dependencies":[{"issue_id":"lightning-6sj","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:25:12.832873-08:00","created_by":"honk"}]}
{"id":"lightning-6wv","title":"Ops: staging + log shipping","description":"Staging manifest + synthetic health probe; OTLP logs shipping","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T12:15:07.048724-08:00","updated_at":"2025-11-28T12:23:29.584529-08:00","closed_at":"2025-11-28T12:23:29.584529-08:00","close_reason":"Staging Azure pipeline + Log Analytics hooks (Bicep + workflow)","dependencies":[{"issue_id":"lightning-6wv","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:25:18.370364-08:00","created_by":"honk"}]}
{"id":"lightning-76j","title":"Wallet card still asks for env despite config","description":"Make wallet balance detect env overrides correctly and let wallet ID be provided via env; prefill wallet ID and avoid misleading 'Set VITE_LNBITS_*' message when config is present.","notes":"Support VITE_LNBITS_WALLET_ID env + env.example updates; wallet ID now prefilled from env/localStorage; wallet card messaging explains required vars and UI flow.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-03T11:07:40.702884-08:00","updated_at":"2025-12-03T11:09:30.47178-08:00","closed_at":"2025-12-03T11:09:30.471784-08:00"}
{"id":"lightning-77w","title":"Logs tab: backend SSE /logs/stream shows error","description":"Logs tab backend status shows 'error' and no log lines. Need working SSE connection to API /logs/stream with retry and user-facing error.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T14:53:17.634017-08:00","updated_at":"2025-12-02T15:04:21.886528-08:00","closed_at":"2025-12-02T15:04:21.886528-08:00","close_reason":"done","labels":["demo","logging"]}
{"id":"lightning-79k","title":"Gallery health checks hit 404 in dev","description":"Health status cards fire GET /api/health and /api/health/lnbits, but the Vite proxy rewrites /api -\u003e http://localhost:3001 causing double /api and 404s in dev logs. Adjust health fetch paths to align with proxy and production deployment, and debounce errors to avoid log spam. Acceptance: health endpoints return 200 in dev, no repeating 404 noise in logs, and cards still work in prod. Final step: verify with Chrome DevTools MCP (watch network + log viewer) and attach screenshot of healthy status.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T16:20:28.54987-08:00","updated_at":"2025-12-02T17:13:02.071145-08:00","closed_at":"2025-12-02T17:13:02.071145-08:00","close_reason":"done","labels":["demo","infra"]}
{"id":"lightning-7gs","title":"Security \u0026 rate-limit hardening: admin auth, per-tenant throttles, webhook replay tests","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T12:14:17.962188-08:00","updated_at":"2025-11-28T12:17:21.64585-08:00","closed_at":"2025-11-28T12:17:21.64585-08:00","close_reason":"Tenant-scoped rate limiting + webhook replay test; admin guard already enforced","dependencies":[{"issue_id":"lightning-7gs","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:25:23.916785-08:00","created_by":"honk"}]}
{"id":"lightning-7p1","title":"Relay card: live send/recv + compact list","description":"Refactor relay display into reusable component: compact pill/card with metadata (name/software), live recv counts and send statuses (sending/ok/error), animation, and wire it to comment relay + logged-in send flow so publishing updates the card inline.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T12:18:40.124578-08:00","updated_at":"2025-12-02T12:22:21.715785-08:00","closed_at":"2025-12-02T12:22:21.715785-08:00","close_reason":"Closed"}
{"id":"lightning-7rrs","title":"devtools mcp: restore chrome-devtools transport + document fallback","description":"Codex chrome-devtools MCP tools currently return 'Transport closed'. Investigate why the MCP server isn't available, and update docs/workflow with a reliable fallback (e.g., Playwright QA) when MCP is unavailable.","acceptance_criteria":"- chrome-devtools MCP tool calls succeed (list_pages) OR documented fallback is added and used\\n- AGENTS/workflow mentions fallback path","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T15:36:29.477989-08:00","updated_at":"2025-12-13T15:39:03.042157-08:00","closed_at":"2025-12-13T15:39:03.042157-08:00"}
{"id":"lightning-7rw","title":"Fix regtest faucet button (Add funds 404)","description":"Add funds (regtest) button returns 404/Not Found (see screenshot). Wire gallery button to the correct regtest funding endpoint via dev proxy, surface success/error states inline, and log to backend. Acceptance: button triggers funding, toast/status shows success, backend wallet balance increments, and error handling is clear. Final step: validate via Chrome DevTools MCP (click button, observe network/logs) and attach a screenshot of the working flow.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T16:18:50.030071-08:00","updated_at":"2025-12-02T16:36:26.329963-08:00","closed_at":"2025-12-02T16:36:26.329963-08:00","close_reason":"done","labels":["demo","lightning"]}
{"id":"lightning-7wf","title":"Live wallet balance stream (/ws/wallet)","description":"Stream LNbits balance: add /ws/wallet endpoint that pushes balance/name/id changes; frontend subscribes and updates wallet card in real time with fallback to manual refresh.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-03T14:43:51.982585-08:00","updated_at":"2025-12-03T16:35:30.358027-08:00","closed_at":"2025-12-03T16:35:30.358027-08:00","close_reason":"Closed","labels":["backend","frontend","websockets"]}
{"id":"lightning-7yl","title":"dev https start fails if certs absent","description":"make dev with USE_HTTPS=true failed before certs existed (server throws cert/key missing). Ensure dev-logs.sh creates certs before api dev start or guard make dev to generate once.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T18:13:08.360669-08:00","updated_at":"2025-12-03T18:43:57.689997-08:00","closed_at":"2025-12-03T18:43:57.689997-08:00","close_reason":"Closed"}
{"id":"lightning-85j","title":"Regtest demo end-to-end smoke","description":"Add a CLI/CI-friendly smoke that hits /api/pay, pays via regtest payer node, and confirms status=PAID for demo tenant.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T12:54:50.135654-08:00","updated_at":"2025-12-01T12:57:11.417171-08:00","closed_at":"2025-12-01T12:57:11.417172-08:00"}
{"id":"lightning-87n","title":"Investigate telemetry block poll backend errors","description":"Backend logs show repeated  entries (see screenshot). Investigate regtest telemetry polling path/env, ensure docker compose path is correct in dev/prod, and surface actionable error instead of noisy spam. Acceptance: telemetry job runs without repeated errors; if failing, logs emit a single actionable message and UI shows degraded state. Final step: verify via Chrome DevTools MCP log viewer screenshot showing clean stream (no repeated poll failures).","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T17:18:52.525402-08:00","updated_at":"2025-12-02T17:22:26.748653-08:00","closed_at":"2025-12-02T17:22:26.748653-08:00","close_reason":"done","labels":["demo","infra","logging"]}
{"id":"lightning-8er","title":"Simplify demo startup across regtest/mutinynet/mainnet","description":"Unify env presets, scripts, and docs so the demo can run in three clear modes: 1) regtest (real nostr), 2) mutinynet, 3) mainnet. Each mode should support all actions (tip, paywall, comments) with minimal setup.","notes":"Demo modes streamlined: regtest one-liner, mutinynet preset + smoke, mainnet gated preset. Docs and scripts added; npm scripts demo:regtest/demo:mutinynet/demo:mainnet.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-01T23:07:14.647324-08:00","updated_at":"2025-12-01T23:56:05.021041-08:00","closed_at":"2025-12-01T23:56:05.021045-08:00"}
{"id":"lightning-8er.1","title":"Regtest one-command bringup + health checks","description":"Provide a single script/env preset to start regtest (bitcoind, lnd pair, LNbits, postgres, API, gallery) and verify tip/pay/comments end-to-end. Add clear outputs: admin key, API/Gallery URLs, relay info.","acceptance_criteria":"./scripts/demo-regtest.sh brings everything up and prints URLs/keys; tip/pay/comments work against regtest without manual edits.","notes":"Added scripts/demo-regtest.sh (one command starts regtest stack, Postgres, API, gallery with real payments + relays); added npm script demo:regtest and README quickstart; smoke: pnpm smoke:regtest-demo (passed).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T23:07:27.044428-08:00","updated_at":"2025-12-01T23:10:43.65853-08:00","closed_at":"2025-12-01T23:10:43.658532-08:00","dependencies":[{"issue_id":"lightning-8er.1","depends_on_id":"lightning-8er","type":"parent-child","created_at":"2025-12-01T23:07:27.045424-08:00","created_by":"honk"}]}
{"id":"lightning-8er.2","title":"Mutinynet demo preset","description":"Add presets/scripts/env for mutinynet (Voltage LND + LNbits), wiring API + gallery to staging endpoints. Include smoke script to verify tip/pay/comments.","acceptance_criteria":"Single command switches to mutinynet config and smoke passes for tip/pay/comments.","notes":"Mutinynet script now requires LN_BITS_URL/LN_BITS_API_KEY; added pnpm demo:mutinynet, mutinynet smoke script (no settlement) and docs update.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T23:07:37.358326-08:00","updated_at":"2025-12-01T23:55:02.109786-08:00","closed_at":"2025-12-01T23:55:02.109789-08:00","dependencies":[{"issue_id":"lightning-8er.2","depends_on_id":"lightning-8er","type":"parent-child","created_at":"2025-12-01T23:07:37.359263-08:00","created_by":"honk"}]}
{"id":"lightning-8er.3","title":"Mainnet demo preset (readiness gates)","description":"Document and gate a mainnet mode (lnbits+prod relays) with safety switches and health checks; make it opt-in with clear envs.","acceptance_criteria":"Mainnet preset exists but gated behind explicit flag; health/docs outline requirements and warnings.","notes":"Added safety-gated demo-mainnet script + npm script demo:mainnet; docs/demo-modes.md documents gating and env requirements. Mainnet remains opt-in with MAINNET_DEMO_OK=true and needs real LNbits URL/key + relays.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T23:07:49.742621-08:00","updated_at":"2025-12-01T23:55:53.233817-08:00","closed_at":"2025-12-01T23:55:53.23382-08:00","dependencies":[{"issue_id":"lightning-8er.3","depends_on_id":"lightning-8er","type":"parent-child","created_at":"2025-12-01T23:07:49.743325-08:00","created_by":"honk"}]}
{"id":"lightning-8h9","title":"Observability: OTEL + richer metrics","description":"Add OpenTelemetry tracing (OTLP exporter), expand Prom metrics (per-tenant LNURL success/fail, webhook failures, DB durations), expose request IDs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T09:56:03.2318-08:00","updated_at":"2025-11-28T12:06:34.504897-08:00","closed_at":"2025-11-28T12:06:34.504897-08:00","close_reason":"OTEL tracing hook + docs; metrics remain Prom at /metrics","dependencies":[{"issue_id":"lightning-8h9","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:25:29.526225-08:00","created_by":"honk"}]}
{"id":"lightning-8pg","title":"Paywall/tip flows stuck: waiting state + pay status 404 spam + invoice button inert","description":"Environment: make dev (HTTPS), regtest dev stack; visited https://localhost:4173 on 2025-12-04.\\nObserved: Lightning tab loads with Pay to unlock already showing 'Waiting for payment' and 'Locked' even before requesting anything. API logs show continuous GET /api/lnurlp/pay/status/bb45997d66d1cc0ff1230e08f138534bafe1d4ae3d7119c5ee2a70f0ff7c17a1 returning 404 every ~5s (see .logs/dev/api.log). Pay WS status stays idle. The 'Request real invoice (5 sats)' button in Tip section does nothing (no modal, no API call).\\nImpact: demo spams backend logs with 404s, paywall never unlocks, tip/demo invoice cannot be requested, manual Recheck","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T20:57:44.686004-08:00","updated_at":"2025-12-13T09:24:42.860282-08:00","closed_at":"2025-12-13T09:24:42.860282-08:00"}
{"id":"lightning-8x5","title":"Simplify key format toggle (npub/hex switch)","description":"Key format controls are noisy. Replace with a single switch to toggle npub vs hex, keep copy button(s), and ensure truncation/monospace styling. Acceptance: switch toggles formats instantly, keyboard accessible, no layout shift, and styles consistent in light/dark. Final step: validate with Chrome DevTools MCP and attach screenshot demonstrating both states.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T16:20:14.805815-08:00","updated_at":"2025-12-02T19:00:51.519693-08:00","closed_at":"2025-12-02T19:00:51.519697-08:00","labels":["demo","nostr"]}
{"id":"lightning-919","title":"NpubBar widthBasedKeep ReferenceError on init","description":"Console shows Uncaught ReferenceError: Cannot access 'widthBasedKeep' before initialization at NpubBar.tsx:27 in gallery dev (see codex-clipboard-716v8a.png). Error triggers during render of NostrProfileCard/App. Need to ensure widthBasedKeep is defined before use, likely move function above useMemo or avoid temporal dead zone.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T08:54:39.377219-08:00","updated_at":"2025-12-03T08:55:38.805908-08:00","closed_at":"2025-12-03T08:55:38.805911-08:00"}
{"id":"lightning-94j","title":"Wallet WebSocket warns on load: 'closed before connection is established'","description":"On dev HTTPS (https://localhost:4173) console always shows: WebSocket connection to 'wss://localhost:4173/ws/wallet' failed: WebSocket is closed before the connection is established. Happens on every reload even though wallet data renders and server logs show connections. Likely double-connect/cleanup closing CONNECTING socket. Need to stabilize lifecycle so no warning in console and only one wallet WS connect.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-03T20:57:58.603766-08:00","updated_at":"2025-12-13T09:29:22.376858-08:00","closed_at":"2025-12-13T09:29:22.376858-08:00"}
{"id":"lightning-95u","title":"Provide regtest test wallet UX","description":"Add simple instructions/UI to create LNbits wallet and funding (via regtest-fund) so users can send/receive manually in demo.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T13:08:38.514847-08:00","updated_at":"2025-12-01T13:14:09.746532-08:00","closed_at":"2025-12-01T13:14:09.746534-08:00"}
{"id":"lightning-9d1","title":"Gallery spams old payment status 404 on startup","description":"On dev boot the gallery keeps polling /api/lnurlp/pay/status/\u003cold hash\u003e returning 404, cluttering logs. Need to clear cached paymentRef/qrInvoice on load and stop polling when status is 404 or no ref.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T18:50:06.753809-08:00","updated_at":"2025-12-03T18:52:56.198864-08:00","closed_at":"2025-12-03T18:52:56.198864-08:00","close_reason":"Closed"}
{"id":"lightning-9jl","title":"Comments widget missing input/post UI in demo","description":"On Nostr tab, comments section shows only info text and relay pills; no textarea or Post button renders, so comments cannot be posted.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T14:53:04.721565-08:00","updated_at":"2025-12-02T14:59:37.849486-08:00","closed_at":"2025-12-02T14:59:37.849486-08:00","close_reason":"done","labels":["bug","demo","nostr"]}
{"id":"lightning-9m9","title":"Dev TLS: one secure origin for UI + WS","description":"Enforce single secure origin in dev: gallery HTTPS (4173) with proxy for /api and /ws/* to API (HTTP), auto-cert via basicSsl; add startup check that fails if page is HTTPS but ws:// is used or proxy missing. Document how to run API behind reverse proxy in prod.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-03T15:32:05.864611-08:00","updated_at":"2025-12-03T16:25:05.734377-08:00","closed_at":"2025-12-03T16:25:05.734377-08:00","close_reason":"Closed","labels":["devex","security","websockets"]}
{"id":"lightning-9mr","title":"Test payer can pay invoices from UI","description":"Add well-tested 'Test payer' flow: allow paying any BOLT11 from the prefunded lnd-payer node, surface in UI, show status, and log to /ws/pay; ensure live updates via logs/DevTools.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-03T14:25:13.623732-08:00","updated_at":"2025-12-03T14:44:37.116491-08:00","closed_at":"2025-12-03T14:44:37.116495-08:00","labels":["backend","frontend","regtest"]}
{"id":"lightning-9vl","title":"MCP browser verification for regtest demo","description":"Use chrome-devtools-mcp to drive/verify demo (LN + Nostr) end-to-end.","notes":"All MCP tasks documented (launcher, setup, invoice flow, comment flow, evidence).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-01T17:31:12.664852-08:00","updated_at":"2025-12-01T18:22:31.239568-08:00","closed_at":"2025-12-01T18:22:31.23957-08:00"}
{"id":"lightning-9vl.1","title":"Prep Chrome remote-debug launcher","description":"Add script to start Chrome with remote-debugging-port=9222 and isolated profile for MCP.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T17:31:33.856552-08:00","updated_at":"2025-12-01T17:35:08.872837-08:00","closed_at":"2025-12-01T17:35:08.87284-08:00","dependencies":[{"issue_id":"lightning-9vl.1","depends_on_id":"lightning-9vl","type":"parent-child","created_at":"2025-12-01T17:31:33.857275-08:00","created_by":"honk"}]}
{"id":"lightning-9vl.2","title":"Document MCP setup + config","description":"Add doc for installing chrome-devtools-mcp, client config, and wiring to localhost demo.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T17:31:55.560816-08:00","updated_at":"2025-12-01T17:35:31.799292-08:00","closed_at":"2025-12-01T17:35:31.799294-08:00","dependencies":[{"issue_id":"lightning-9vl.2","depends_on_id":"lightning-9vl","type":"parent-child","created_at":"2025-12-01T17:31:55.561833-08:00","created_by":"honk"}]}
{"id":"lightning-9vl.3","title":"MCP script: verify LN invoice flow","description":"Write MCP instructions/script to hit demo tip, capture invoice, pay via regtest payer, and assert status via DevTools network/console.","notes":"Scripted MCP invoice flow: capture provider_ref, pay via regtest payer, assert /api/lnurlp/pay/status returns PAID, documented in docs/mcp-scripts/invoice-flow.md","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T17:32:15.763369-08:00","updated_at":"2025-12-01T18:21:49.190602-08:00","closed_at":"2025-12-01T18:21:49.190605-08:00","dependencies":[{"issue_id":"lightning-9vl.3","depends_on_id":"lightning-9vl","type":"parent-child","created_at":"2025-12-01T17:32:15.764281-08:00","created_by":"honk"}]}
{"id":"lightning-9vl.4","title":"MCP script: real relay comment post","description":"Use MCP to set relays to real, post comment with NIP-07 signer, and confirm via relay subscription.","notes":"Expanded MCP real-relay comment script with explicit verification steps and timing in docs/mcp-scripts/comment-flow.md","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T17:32:39.10798-08:00","updated_at":"2025-12-01T18:22:18.045473-08:00","closed_at":"2025-12-01T18:22:18.045476-08:00","dependencies":[{"issue_id":"lightning-9vl.4","depends_on_id":"lightning-9vl","type":"parent-child","created_at":"2025-12-01T17:32:39.108783-08:00","created_by":"honk"}]}
{"id":"lightning-9vl.5","title":"MCP evidence capture","description":"Standardize screenshots/trace export from MCP sessions for demo verification.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T17:32:58.003155-08:00","updated_at":"2025-12-01T17:43:01.960103-08:00","closed_at":"2025-12-01T17:43:01.960106-08:00","dependencies":[{"issue_id":"lightning-9vl.5","depends_on_id":"lightning-9vl","type":"parent-child","created_at":"2025-12-01T17:32:58.004144-08:00","created_by":"honk"}]}
{"id":"lightning-a4a","title":"Generate SDK from API (OpenAPI alignment)","description":"Produce full @satoshis/sdk client aligned with API (LNURLp, payments, NIP-05, admin bootstrap). Generate from OpenAPI or typed client; include host/tenant handling; publish build + examples.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T09:55:20.217362-08:00","updated_at":"2025-11-28T11:47:49.355952-08:00","closed_at":"2025-11-28T11:47:49.355952-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-a4a","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:25:34.988289-08:00","created_by":"honk"}]}
{"id":"lightning-a4a.1","title":"Build typed SDK client wrapper","description":"Implement @satoshis/sdk client using generated openapi-types: methods for LNURLp metadata/invoice, webhook simulation, NIP-05 lookup, admin tenant/user bootstrap. Handle host header for tenancy, accept baseURL + apiKey. Add examples and tests.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T10:05:43.222778-08:00","updated_at":"2025-11-28T11:47:54.705648-08:00","closed_at":"2025-11-28T11:47:54.705648-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-a4a.1","depends_on_id":"lightning-a4a","type":"parent-child","created_at":"2025-11-28T10:05:43.223929-08:00","created_by":"honk"}]}
{"id":"lightning-anp","title":"Regtest faucet: LNbits topup fails and balance stays stale","description":"Running Add funds (regtest) returns 200 but LNbits topup step fails: API log shows 'LNbits topup failed [lncli] FAILED'; wallet balance stays unchanged. Investigate regtest-fund lncli call inside lnd-payer (docker) and ensure faucet either succeeds or surfaces error to UI.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T14:21:44.416189-08:00","updated_at":"2025-12-03T16:33:00.928429-08:00","closed_at":"2025-12-03T16:33:00.928429-08:00","close_reason":"Closed","labels":["backend","lnbits","regtest"]}
{"id":"lightning-ayh","title":"Regtest telemetry + wallet data stuck (blocks #0, balance stale)","description":"Gallery shows block #0 and wallet balance stays stale after Add funds. Fix telemetry WS + API to use real bitcoind RPC (no synthetic), ensure blocks stream and card updates, and make wallet balance refresh after faucet top-ups.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T14:02:31.116347-08:00","updated_at":"2025-12-03T14:15:38.358799-08:00","closed_at":"2025-12-03T14:15:38.358802-08:00","labels":["backend","frontend","regtest"]}
{"id":"lightning-b2d","title":"UI polish: logos, relay badge, invoice popover, Nostr user card","description":"Add visual assets (Nostr/Bitcoin/Lightning SVG), relay status badge with live indicator, invoice scan popover, and Nostr user profile card components; integrate into demo widgets.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-01T15:03:05.035976-08:00","updated_at":"2025-12-01T15:31:00.208095-08:00","closed_at":"2025-12-01T15:31:00.208098-08:00"}
{"id":"lightning-b2d.1","title":"Add Nostr/Bitcoin/Lightning SVG assets","description":"Add SVG logos for Nostr, Bitcoin, Lightning to shared assets and expose for UI components.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T15:03:22.104768-08:00","updated_at":"2025-12-01T15:07:36.247412-08:00","closed_at":"2025-12-01T15:07:36.247414-08:00","dependencies":[{"issue_id":"lightning-b2d.1","depends_on_id":"lightning-b2d","type":"parent-child","created_at":"2025-12-01T15:03:22.105531-08:00","created_by":"honk"}]}
{"id":"lightning-b2d.2","title":"Relay status pill with live indicator","description":"Create relay badge/pill component showing URL and live/connecting/disconnected state; hook to comment widget onRelayInfo.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T15:03:38.489848-08:00","updated_at":"2025-12-01T15:11:35.299127-08:00","closed_at":"2025-12-01T15:11:35.29913-08:00","dependencies":[{"issue_id":"lightning-b2d.2","depends_on_id":"lightning-b2d","type":"parent-child","created_at":"2025-12-01T15:03:38.490579-08:00","created_by":"honk"}]}
{"id":"lightning-b2d.3","title":"Invoice scan popover","description":"Add popover/modal to display/scannable Lightning invoice (qr + copy/share) in demo components.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T15:03:56.026913-08:00","updated_at":"2025-12-01T15:16:16.806074-08:00","closed_at":"2025-12-01T15:16:16.806078-08:00","dependencies":[{"issue_id":"lightning-b2d.3","depends_on_id":"lightning-b2d","type":"parent-child","created_at":"2025-12-01T15:03:56.027801-08:00","created_by":"honk"}]}
{"id":"lightning-b2d.4","title":"Nostr user card","description":"Add compact user card component showing Nostr profile (name, nip05, picture) and integrate with comments.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T15:04:12.711962-08:00","updated_at":"2025-12-01T15:24:06.708266-08:00","closed_at":"2025-12-01T15:24:06.70827-08:00","dependencies":[{"issue_id":"lightning-b2d.4","depends_on_id":"lightning-b2d","type":"parent-child","created_at":"2025-12-01T15:04:12.712728-08:00","created_by":"honk"}]}
{"id":"lightning-b2d.5","title":"Export UI design tokens","description":"Provide shared design tokens (colors, spacing, radius, shadows) for embed/consumer styling.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T15:17:38.355242-08:00","updated_at":"2025-12-01T15:20:47.463123-08:00","closed_at":"2025-12-01T15:20:47.463127-08:00","dependencies":[{"issue_id":"lightning-b2d.5","depends_on_id":"lightning-b2d","type":"parent-child","created_at":"2025-12-01T15:17:38.35609-08:00","created_by":"honk"}]}
{"id":"lightning-b7t","title":"Copy buttons lack success feedback","description":"Copy buttons (URL, admin key, relays, invoices) give no visual success/failure feedback; add toast or inline confirmation.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-02T14:54:37.886862-08:00","updated_at":"2025-12-02T15:20:32.730499-08:00","closed_at":"2025-12-02T15:20:32.730499-08:00","close_reason":"done","labels":["demo","ui"]}
{"id":"lightning-b9s","title":"Log viewer should scroll, not grow unbounded","description":"Log panels grow to full page height when streaming backend logs; needs max height with internal scroll and sticky header/controls so timestamps stay visible. Ensure layout works in both light/dark themes and on mobile widths. Acceptance: backend and frontend log panes capped to a sensible max-height (e.g., 45vh) with smooth scroll, controls remain visible, and no overflow of surrounding layout. Final step: verify via Chrome DevTools MCP by streaming logs and capturing screenshot showing scrollbars.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T18:28:33.170921-08:00","updated_at":"2025-12-02T18:51:49.440683-08:00","closed_at":"2025-12-02T18:51:49.440689-08:00","labels":["demo","logs","ui"]}
{"id":"lightning-bn8","title":"Improve NPUB/NSEC key toggle UI","description":"Redesign KeyToggle: handle overflow gracefully, add copy icon, toggle npub/nsec vs hex pub/priv, padded card styling.","acceptance_criteria":"Key toggle renders with padding, copy icon, no overflow; toggles npub/nsec and hex; exported component.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T11:16:44.814371-08:00","updated_at":"2025-12-02T11:24:54.510301-08:00","closed_at":"2025-12-02T11:24:54.510301-08:00","close_reason":"Closed"}
{"id":"lightning-ccm","title":"Demo: configurable widgets page","description":"Demo page that exercises tip/paywall/comments widgets with theme toggles and config","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-28T12:14:56.898434-08:00","updated_at":"2025-11-28T12:30:45.890623-08:00","closed_at":"2025-11-28T12:30:45.890623-08:00","close_reason":"Configurable demo page for tip/pay/comments with theme + controls","dependencies":[{"issue_id":"lightning-ccm","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:25:40.380612-08:00","created_by":"honk"}]}
{"id":"lightning-cfl","title":"Block mixed-content WS in gallery","description":"Add runtime guard in gallery: if page is https and a ws:// URL is derived, show blocking banner and refuse to connect; log error. Include console check for mixed content and guidance to run \n\u003e gallery@0.0.0 dev /Users/honk/code/nostrstack/apps/gallery\n\u003e vite \"--https\"\n\n/Users/honk/code/nostrstack/apps/gallery:\nâ€‰ERR_PNPM_RECURSIVE_RUN_FIRST_FAILâ€‰ gallery@0.0.0 dev: `vite \"--https\"`\nExit status 1.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-03T15:32:44.965614-08:00","updated_at":"2025-12-03T16:37:34.503882-08:00","closed_at":"2025-12-03T16:37:34.503882-08:00","close_reason":"Closed","labels":["frontend","ux"]}
{"id":"lightning-cnp","title":"Fix Chrome DevTools MCP connectivity","description":"Chrome DevTools MCP tool calls (list_pages/new_page) fail with 'Transport closed' / 'Cannot read properties of undefined (reading \\'on\\')' even with Chrome running on --remote-debugging-port=9222 and mcp.config.json set to use chrome-devtools-mcp. Need to make MCP server stay alive and reachable so automated devtools testing works.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T14:26:48.679156-08:00","updated_at":"2025-12-02T14:46:21.311699-08:00","closed_at":"2025-12-02T14:46:21.311699-08:00","close_reason":"done","labels":["mcp","tooling"]}
{"id":"lightning-cr6","title":"Telemetry WS drops: show status + retry","description":"WS ws://localhost:4173/api/ws/telemetry closes before connect. Add UI status pill, exponential retry with jitter, proxy-safe URL builder, and user-facing error.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T23:23:55.691975-08:00","updated_at":"2025-12-03T08:45:55.447224-08:00","closed_at":"2025-12-03T08:45:55.447227-08:00"}
{"id":"lightning-cunj","title":"gallery: InvoicePopover React warns about background/backgroundSize mix","description":"Observed via Playwright (2025-12-13): React warns 'Updating background backgroundSize ... don't mix shorthand and non-shorthand properties'. Repro: open invoice popover (Lightning tab â†’ Unlock or Send sats) and check console.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-13T09:24:10.656757-08:00","updated_at":"2025-12-13T09:31:38.95839-08:00","closed_at":"2025-12-13T09:31:38.95839-08:00"}
{"id":"lightning-cwl","title":"Nostr zaps + multi-name NIP-05","description":"Implement zap publishing (NIP-57) via NostrClient; configurable relays; add NIP-05 multi-name support per tenant; tests for nostr.json and zap publish stub.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T09:55:35.355805-08:00","updated_at":"2025-11-28T12:13:24.194868-08:00","closed_at":"2025-11-28T12:13:24.194868-08:00","close_reason":"Multi-name NIP-05 + zap receipt publish with tests","dependencies":[{"issue_id":"lightning-cwl","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:25:45.846123-08:00","created_by":"honk"}]}
{"id":"lightning-d6a","title":"Default dev/e2e to Postgres + docs","description":"Make Postgres the default for dev/e2e (env, scripts), keep SQLite option for fast unit; update docs and ensure Prisma generate uses PG schema for prod builds.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T09:56:34.774621-08:00","updated_at":"2025-11-28T12:00:07.278585-08:00","closed_at":"2025-11-28T12:00:07.278585-08:00","close_reason":"dev defaults to Postgres; docs \u0026 workflows updated","dependencies":[{"issue_id":"lightning-d6a","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:25:51.234318-08:00","created_by":"honk"}]}
{"id":"lightning-daf","title":"Local regtest LNbits demo flow","description":"Bring up LNbits locally (dummy/regtest), run API+gallery against it, verify tip/pay widgets issue invoices. Provide scripted steps.","notes":"Local LNbits demo flow documented (docs/local-demo.md), helper script added, demo running with real invoices via dummy backend.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T11:19:42.221424-08:00","updated_at":"2025-12-01T11:49:18.164957-08:00","closed_at":"2025-12-01T11:49:18.16496-08:00"}
{"id":"lightning-dbc","title":"Voltage mutinynet LND via LNbits (staging)","description":"Wire LNbits Container App to Voltage mutinynet LND over gRPC, ensure staging uses it, document and test.","notes":"LNbits staging on mutinynet is live: connected to Voltage LND, docs added, smoke tests pass.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-29T11:31:27.399473-08:00","updated_at":"2025-11-29T15:58:21.378941-08:00","closed_at":"2025-11-29T15:58:21.378944-08:00"}
{"id":"lightning-dbc.1","title":"Fix LNbits Container App to use Voltage mutinynet LND gRPC","description":"Build/push image with cert+macaroon decoding, set env (LND_GRPC_*), update container app to connect to mutinynet node and verify wallet init","notes":"LNbits Container App now connects to Voltage mutinynet LND via gRPC; env parsing fixed; db adapter parity; deployed image sha256:ec73879354f8155e90a3b820b7a76997fba4410286ad8290dbb29bc93000e9ad on rev --0000058.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T11:31:38.231864-08:00","updated_at":"2025-11-29T15:56:11.627158-08:00","closed_at":"2025-11-29T15:56:11.627163-08:00","dependencies":[{"issue_id":"lightning-dbc.1","depends_on_id":"lightning-dbc","type":"parent-child","created_at":"2025-11-29T11:31:38.232729-08:00","created_by":"honk"}]}
{"id":"lightning-dbc.2","title":"Smoke test LNbits staging via API (mutinynet)","description":"Create invoice through API with LIGHTNING_PROVIDER=lnbits, pay via Voltage test node or regen test payment, confirm webhook + DB status","notes":"Smoke test succeeded: first_install completed; superuser admin created; default wallet adminkey a663...; invoice creation OK on mutinynet via LndWallet.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T11:31:48.594249-08:00","updated_at":"2025-11-29T15:56:25.49986-08:00","closed_at":"2025-11-29T15:56:25.499863-08:00","dependencies":[{"issue_id":"lightning-dbc.2","depends_on_id":"lightning-dbc","type":"parent-child","created_at":"2025-11-29T11:31:48.59512-08:00","created_by":"honk"}]}
{"id":"lightning-dbc.3","title":"Document staging lightning setup (Voltage mutinynet + LNbits)","description":"Update AGENTS.md with LNbits staging URL, wallet id, admin/invoice keys, mutinynet node info, how to rotate secrets and switch funding","notes":"Documented staging lightning setup in docs/staging-lightning.md and linked from AGENTS.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T11:32:00.680789-08:00","updated_at":"2025-11-29T15:58:04.915133-08:00","closed_at":"2025-11-29T15:58:04.915136-08:00","dependencies":[{"issue_id":"lightning-dbc.3","depends_on_id":"lightning-dbc","type":"parent-child","created_at":"2025-11-29T11:32:00.681553-08:00","created_by":"honk"}]}
{"id":"lightning-dub","title":"Demo comments should default to mock relays when no signer","description":"Current demo shows 'No relays reachable' unless relays + NIP07 provided. Add config toggle or default VITE_NOSTRSTACK_RELAYS=mock so comments work out of the box in local demo.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T13:08:25.468433-08:00","updated_at":"2025-12-01T13:10:56.214186-08:00","closed_at":"2025-12-01T13:10:56.214188-08:00"}
{"id":"lightning-dv6","title":"Combine profile \u0026 logged-in cards into one detailed view","description":"Current Nostr tab duplicates info between 'Profile \u0026 signer' and 'Logged-in Nostr user'. Merge into a single detailed profile view that includes signer status, active pubkey, message send form, relay statuses, and profile details without losing functionality. Focus on cleaner layout, consistent spacing, and responsive design. Acceptance: all previous controls remain, no regressions, and layout feels cohesive. Final step: exercise every interaction via Chrome DevTools MCP and attach screenshot(s) of the merged view.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T16:19:44.771556-08:00","updated_at":"2025-12-02T18:39:43.983463-08:00","closed_at":"2025-12-02T18:39:43.983466-08:00","labels":["demo","nostr"]}
{"id":"lightning-e00","title":"Frontend logs not captured in log viewer","description":"Logs tab shows backend stream but frontend logs pane is empty even after toggling capture ON (see screenshot). Ensure console wrapping works after tab switches and under dark/light themes, and add clear indicator when capture is disabled. Acceptance: toggling capture immediately shows new console entries, survives tab navigation, and a test log appears in the pane. Final step: validate with Chrome DevTools MCP by toggling capture, emitting a console log, and capturing a screenshot of the populated frontend logs.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-02T17:19:07.578122-08:00","updated_at":"2025-12-02T17:27:27.897323-08:00","closed_at":"2025-12-02T17:27:27.897323-08:00","close_reason":"done","labels":["demo","logging","ui"]}
{"id":"lightning-e0z","title":"Wallet override UX unclear","description":"User unsure what inputs to provide to avoid 404. Add inline hint with example Node URL, wallet ID, and admin key fields; allow entering wallet ID to check /api/v1/wallet with query if needed; include copy/paste helper.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T01:29:00.487356-08:00","updated_at":"2025-12-03T08:48:54.030895-08:00","closed_at":"2025-12-03T08:48:54.030898-08:00"}
{"id":"lightning-e3d","title":"Comments: thread discovery/aggregation","description":"Add per-post/thread ID and relay query to load existing Nostr comments so users see prior discussion; show count and list on load.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T14:50:34.973896-08:00","updated_at":"2025-12-01T14:55:30.899389-08:00","closed_at":"2025-12-01T14:55:30.899391-08:00"}
{"id":"lightning-eag","title":"Show build commit + timestamp in demo","description":"Surface current git commit hash and build time on demo page so users can see whatâ€™s deployed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T14:23:46.694182-08:00","updated_at":"2025-12-01T15:27:05.266036-08:00","closed_at":"2025-12-01T15:27:05.266038-08:00"}
{"id":"lightning-ee2","title":"Profile card uses logged-in nostr user (name, picture, relay list)","description":"Profile card should pull from window.nostr getPublicKey + fetched metadata; show name/picture, compact one-line key chip (npub/hex toggle + copy), connected relays via RelayCard, and full profile info panel.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T12:45:33.373188-08:00","updated_at":"2025-12-02T13:57:00.16895-08:00","closed_at":"2025-12-02T13:57:00.16895-08:00","close_reason":"done"}
{"id":"lightning-ekj","title":"UX sweep: demo lightning/nostr/logs","description":"Do full UX pass with Chrome DevTools MCP across lightning, nostr, logs tabs; note errors, log issues, verify servers via make dev.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-03T20:45:09.934635-08:00","updated_at":"2025-12-03T20:59:24.701769-08:00","closed_at":"2025-12-03T20:59:24.701774-08:00"}
{"id":"lightning-ftr","title":"Collapse to browser NIP-07 signer (drop built-in)","description":"Assume window.nostr is present; remove built-in test signer UI/logic from gallery. Single signer source, consistently used by profile/logged-in cards.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T12:45:16.966155-08:00","updated_at":"2025-12-02T12:50:14.309465-08:00","closed_at":"2025-12-02T12:50:14.309465-08:00","close_reason":"Closed"}
{"id":"lightning-h4t2","title":"design system v2: tokens, motion, theming","description":"Bring Markdowntown-style strategy here: CSS variable token stack (primitivesâ†’semantic roles), motion tokens, and theme application API so embed + demo can match any host site. Add crisp UI primitives + tasteful micro-interactions.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-13T15:00:10.307156-08:00","updated_at":"2025-12-13T15:36:42.950948-08:00","closed_at":"2025-12-13T15:36:42.950948-08:00"}
{"id":"lightning-hbd","title":"Redesign invoice modal with animated status","description":"Invoice modal layout cramped and status badge static. Redesign with better spacing (side-by-side QR/actions on wide screens), larger status pill that animates: blue pulsing while pending, transitions to green check on success, red X on timeout/error. Include inspiration from modern Lightning invoice UIs (search references) and ensure copy/open actions remain clear. Acceptance: responsive layout, animated status transitions, and fun, polished look. Final step: verify via Chrome DevTools MCP with screenshots in pending and paid states.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-02T17:52:53.583738-08:00","updated_at":"2025-12-02T18:25:49.782771-08:00","closed_at":"2025-12-02T18:25:49.782775-08:00","labels":["demo","lightning","ui"]}
{"id":"lightning-hir","title":"Fix NpubBar UI: show key, move toggle inside, better copy icon","description":"NpubBar currently shows blank key and toggle sits outside the input; copy icon too small. Redesign: ensure key renders (npub/hex), place format toggle inside the bar near copy button, use clearer copy icon size ~18px, maintain responsive truncation.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T09:26:15.162968-08:00","updated_at":"2025-12-03T09:27:35.477284-08:00","closed_at":"2025-12-03T09:27:35.477288-08:00"}
{"id":"lightning-hpu","title":"Mainnet cutover for lightning","description":"Switch LNbits prod from mutinynet to mainnet LND; update API/keys, smoke test, observability.","notes":"Awaiting mainnet LND endpoint/cert/macaroon + admin key to execute cutover; prod smoke script added (test:lnbits-prod).","status":"blocked","priority":1,"issue_type":"epic","created_at":"2025-11-30T02:10:08.795817-08:00","updated_at":"2025-12-01T03:08:30.357833-08:00"}
{"id":"lightning-hpu.1","title":"Swap LNbits prod to mainnet LND","description":"Update KV with mainnet LND endpoint/macaroon/tls, set LND_NETWORK=mainnet, redeploy with new REV, verify /status/health","notes":"Prepared helper script scripts/lnbits-cutover-mainnet.sh to flip ACA env to mainnet once secrets are filled. Still blocked on mainnet LND creds.","status":"blocked","priority":1,"issue_type":"task","created_at":"2025-11-30T02:10:24.056557-08:00","updated_at":"2025-11-30T02:14:58.327068-08:00","dependencies":[{"issue_id":"lightning-hpu.1","depends_on_id":"lightning-hpu","type":"parent-child","created_at":"2025-11-30T02:10:24.057487-08:00","created_by":"honk"}]}
{"id":"lightning-hpu.2","title":"Mainnet invoice/pay smoke","description":"After cutover, create+pay mainnet invoice via API (admin key), verify status settles.","notes":"Regtest playwright e2e passing locally. Mutinynet staging LNbits reset; new admin key 79572e... in KV, invoice smoke 100 sats success. Prod mutinynet invoice smoke also success.","status":"blocked","priority":1,"issue_type":"task","created_at":"2025-11-30T02:10:45.782184-08:00","updated_at":"2025-11-30T12:05:22.453939-08:00","dependencies":[{"issue_id":"lightning-hpu.2","depends_on_id":"lightning-hpu","type":"parent-child","created_at":"2025-11-30T02:10:45.783189-08:00","created_by":"honk"}]}
{"id":"lightning-hpu.3","title":"Point API + gallery to prod LNbits","description":"Set API env (satoshis-api-*) to prod LNbits URL/key via Key Vault; ensure gallery/demo use prod LNbits in mainnet mode.","notes":"No prod API container exists yet; need target service before wiring prod LNbits URL/key.","status":"blocked","priority":2,"issue_type":"task","created_at":"2025-11-30T02:11:09.326676-08:00","updated_at":"2025-11-30T02:12:23.403284-08:00","dependencies":[{"issue_id":"lightning-hpu.3","depends_on_id":"lightning-hpu","type":"parent-child","created_at":"2025-11-30T02:11:09.327792-08:00","created_by":"honk"}]}
{"id":"lightning-hpu.4","title":"Lightning prod dashboards/alerts","description":"Add LA workbooks/alerts for LNbits prod (health latency, error logs, LND status), wire to email/webhook.","notes":"Added docs/lightning-observability.md with KQL queries and alert suggestions; diagnostics already enabled to workspace.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T02:11:24.827572-08:00","updated_at":"2025-11-30T02:13:22.660477-08:00","closed_at":"2025-11-30T02:13:22.660478-08:00","dependencies":[{"issue_id":"lightning-hpu.4","depends_on_id":"lightning-hpu","type":"parent-child","created_at":"2025-11-30T02:11:24.829086-08:00","created_by":"honk"}]}
{"id":"lightning-hpu.5","title":"Make LNbits prod deploy network-safe for mainnet cutover","description":"Bicep currently hardcodes LND_NETWORK=mainnet (image tag too), so a redeploy could flip prod from signet to mainnet before secrets are ready. Add network/tag parameters with safe defaults, plus a cutover/preflight helper so we can intentionally toggle to mainnet once creds are in KV and verify after update.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T19:50:39.769924-08:00","updated_at":"2025-12-01T19:53:47.005471-08:00","closed_at":"2025-12-01T19:53:47.005473-08:00","dependencies":[{"issue_id":"lightning-hpu.5","depends_on_id":"lightning-hpu","type":"parent-child","created_at":"2025-12-01T19:50:39.77104-08:00","created_by":"honk"}]}
{"id":"lightning-hyj","title":"Demo wallet panel shows balance after Add funds","description":"Expose a visible wallet balance in the gallery demo. Accept: (1) Wallet panel fetches current LNbits balance using configured URL/key, auto-refresh after Add funds; (2) handles loading/error states; (3) shows sat balance and last updated; (4) Add funds helper reflects success; (5) works when env vars missing (shows guidance).","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-02T21:26:09.30791-08:00","updated_at":"2025-12-02T21:30:41.831385-08:00","closed_at":"2025-12-02T21:30:41.831388-08:00"}
{"id":"lightning-i31","title":"NpubBar toggle confusing and always hex; truncation unnecessary","description":"NpubBar UI shows hex even when npub selected, toggle state unclear, copy icon tiny, and key truncates when space available. Redesign: clear toggle (two-state pill), render chosen format correctly, adaptive truncation only when needed, larger copy icon.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T09:43:59.615456-08:00","updated_at":"2025-12-03T09:58:18.457368-08:00","closed_at":"2025-12-03T09:58:18.457371-08:00"}
{"id":"lightning-ib4","title":"Live log viewer for demo site","description":"Epic to add live log visibility to the nostrstack demo: backend stream via API and gallery UI tab showing backend + frontend logs in real time.","acceptance_criteria":"Epic complete when backend log stream endpoint exists and gallery demo logs view shows backend and frontend logs with filters/status.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-02T14:05:47.145654-08:00","updated_at":"2025-12-02T14:14:55.168314-08:00","closed_at":"2025-12-02T14:14:55.168314-08:00","close_reason":"done","labels":["demo","logging"]}
{"id":"lightning-ib4.1","title":"Backend log streaming endpoint for demo","description":"Implement a log-stream API for the demo backend.\\n\\nImplementation sketch:\\n- Add lightweight log fan-out service in the API (SSE preferred; fallback WebSocket) that tails the running process logs (stdout) and pushes lines as newline-delimited JSON {ts, level, msg, source}.\\n- If stdout tailing isn\"t feasible, add a small in-memory buffer where the server writes logs and the stream reads them.\\n- Support optional level filter and source filter via query params.\\n- Rate-limit to protect server (e.g., drop/skip on \u003e200 msgs/sec).\\n- Add health endpoint/metric for stream subscribers.\\n- Wire into docker-compose/regtest and mock to ensure available locally.\\n- Tests: unit for formatter; integration happy-path stream yields messages; resilience when no logs incoming.","acceptance_criteria":"SSE or WebSocket endpoint streams backend logs in near real time (max 1s latency).\\nSupports log level filter (info/warn/error) via query or message.\\nUses existing demo auth model or read-only public token documented; safe against log injection (JSON framing, escaping).\\nWorks in mock/dev stack and regtest deploys.\\nDocument how to enable/pipe backend logs into the stream (stdout or file tail).\\nBasic load test: can stream continuously for 5 minutes without disconnects.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T14:05:57.657932-08:00","updated_at":"2025-12-02T14:12:12.975056-08:00","closed_at":"2025-12-02T14:12:12.975056-08:00","close_reason":"done","labels":["backend","demo","logging"],"dependencies":[{"issue_id":"lightning-ib4.1","depends_on_id":"lightning-ib4","type":"parent-child","created_at":"2025-12-02T14:05:57.659277-08:00","created_by":"honk"}]}
{"id":"lightning-ib4.2","title":"Demo UI log viewer with backend + frontend streams","description":"Implementation sketch:\\n- Add \"Logs\" tab or right-side drawer in gallery demo with two columns: Backend stream and Frontend console.\\n- Backend: connect to new SSE/WS endpoint; show status chip; allow level filter and search; auto-trim buffer (e.g., 500 lines).\\n- Frontend: wrap console.* to broadcast events to in-page viewer; include timestamp, level, message, stack (if available). Keep capture opt-in toggle to avoid noisy sessions.\\n- Shared UI components for log lines (monospace, color by level).\\n- Provide config for endpoint URL (env + UI input) and buffer size.\\n- Add tests: component render, stream mock, console capture mock, responsive layout.\\n- Docs: short README section on using the logs tab in mock/regtest.","acceptance_criteria":"New UI tab/pane shows backend log stream in real time with autoscroll, pause, clear, level filter.\\nSecond panel shows frontend console logs captured via window console override, sent to viewer (local-only, no backend dependency).\\nWhen backend stream unavailable, UI surfaces reconnect + status.\\nSupports dark/light themes and works on mobile widths.\\nNo logs persisted after page refresh unless user opts in; front-end log capture respects same.\\nTests: unit for log viewer components; e2e happy path in mock mode renders messages for both streams.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T14:06:25.090889-08:00","updated_at":"2025-12-02T14:14:44.044727-08:00","closed_at":"2025-12-02T14:14:44.044727-08:00","close_reason":"done","labels":["demo","frontend","logging"],"dependencies":[{"issue_id":"lightning-ib4.2","depends_on_id":"lightning-ib4","type":"parent-child","created_at":"2025-12-02T14:06:25.091776-08:00","created_by":"honk"}]}
{"id":"lightning-ibc","title":"Compact key chip (1-line npub/hex toggle + copy)","description":"Design single-line key chip component (npub\u003c-\u003ehex toggle, copy, middle truncation) and replace existing key displays in profile/logged-in cards.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T12:46:03.244563-08:00","updated_at":"2025-12-02T12:55:45.157785-08:00","closed_at":"2025-12-02T12:55:45.157785-08:00","close_reason":"Closed"}
{"id":"lightning-ict","title":"LNbits wallet 404: balance endpoint returns 404","description":"Console shows repeated 404 for GET http://localhost:15001/api/v1/wallet (see codex-clipboard-uPlL1s.png, WalletBalance.tsx:35). Need clearer inline guidance, auto-detect LNbits base URL, validate admin/read key, and support wallet ID fallback if /wallet without ?usr fails.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T08:51:30.989373-08:00","updated_at":"2025-12-03T08:53:19.015886-08:00","closed_at":"2025-12-03T08:53:19.015888-08:00"}
{"id":"lightning-j22","title":"Fix telemetry WebSocket URL in dev preview","description":"TelemetryCard uses wss://localhost:4173/ws/telemetry which fails; adjust resolveTelemetryWs to fall back to api host/3001 in dev and handle http vs https.","notes":"resolveTelemetryWs now treats dev preview (port 4173) as API port 3001 fallback, avoiding wss://localhost:4173 failures; linted.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-03T11:04:45.910065-08:00","updated_at":"2025-12-03T11:06:01.973433-08:00","closed_at":"2025-12-03T11:06:01.973437-08:00","labels":["frontend"]}
{"id":"lightning-j6t","title":"Profile details panel","description":"Add section showing full nostr metadata (about, website, banner, display_name, lud06/lnurl, nip05, etc.) for logged-in user.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T12:46:20.178111-08:00","updated_at":"2025-12-02T14:03:41.554026-08:00","closed_at":"2025-12-02T14:03:41.554026-08:00","close_reason":"done"}
{"id":"lightning-j7i","title":"Gallery typecheck fails on nostr window typings","description":"tsc --noEmit fails due to missing window.nostr.getRelays typing, EventTemplate vs NostrEvent, and nip19 expects Uint8Array. Add ambient types or narrow casts so gallery typecheck passes.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-02T21:11:58.068657-08:00","updated_at":"2025-12-02T21:21:20.576389-08:00","closed_at":"2025-12-02T21:21:20.576393-08:00"}
{"id":"lightning-jfr","title":"Telemetry WS fails against localhost:3001","description":"Make TelemetryCard choose ws:// for local dev, auto-fallback from wss, and surface clear guidance when /ws/telemetry backend not running. Ensure dev script starts API and telemetry endpoint.","notes":"resolveTelemetryWs now prefers ws:// for localhost unless VITE_TELEMETRY_FORCE_SECURE=true; TelemetryCard error panel instructs to run pnpm dev:logs and check API logs; env samples updated.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T11:15:28.269713-08:00","updated_at":"2025-12-03T11:17:06.314768-08:00","closed_at":"2025-12-03T11:17:06.314773-08:00"}
{"id":"lightning-jia","title":"Seed demo tenant/user in dev.db for LNURLp","description":"dev.db lacks demo tenant/user, so /.well-known/lnurlp/{user} 404s. Add seed (domain localhost:3001 or demo.nostrstack.lol) with lightningAddress for default username.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T14:04:32.31847-08:00","updated_at":"2025-12-01T14:07:59.54191-08:00","closed_at":"2025-12-01T14:07:59.541916-08:00"}
{"id":"lightning-jou","title":"Fix unit tests to honor Postgres DATABASE_URL","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-28T09:24:48.593443-08:00","updated_at":"2025-11-28T09:26:40.870363-08:00","closed_at":"2025-11-28T09:26:40.870363-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-jou","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:25:56.697174-08:00","created_by":"honk"}]}
{"id":"lightning-jqn","title":"Architecture \u0026 DX hardening","description":"Improve architecture clarity, repo hygiene, testing, security, and DX for nostrstack.","notes":"Architecture \u0026 DX hardening items completed (docs, seeds, lint, health, CI, regtest, MCP, UI exports).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-01T15:40:38.335656-08:00","updated_at":"2025-12-01T18:35:44.73052-08:00","closed_at":"2025-12-01T18:35:44.730523-08:00"}
{"id":"lightning-jqn.1","title":"Write high-level architecture doc","description":"Add docs/architecture.md covering components (API, LNbits, gallery/embed, data flow, tenancy, relays), local/staging/prod topology, and key dependencies.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T15:41:00.427427-08:00","updated_at":"2025-12-01T15:46:07.441406-08:00","closed_at":"2025-12-01T15:46:07.441408-08:00","dependencies":[{"issue_id":"lightning-jqn.1","depends_on_id":"lightning-jqn","type":"parent-child","created_at":"2025-12-01T15:41:00.428564-08:00","created_by":"honk"}]}
{"id":"lightning-jqn.10","title":"Security \u0026 secrets hygiene sweep","description":"Audit repo for secrets exposure, add pre-push secret scan script, and document keyvault/lnbits keys handling.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T15:43:58.164922-08:00","updated_at":"2025-12-01T15:52:53.700697-08:00","closed_at":"2025-12-01T15:52:53.700698-08:00","dependencies":[{"issue_id":"lightning-jqn.10","depends_on_id":"lightning-jqn","type":"parent-child","created_at":"2025-12-01T15:43:58.16572-08:00","created_by":"honk"}]}
{"id":"lightning-jqn.2","title":"Clean lint warnings \u0026 enforce","description":"Fix existing lint warnings across packages and enable lint to fail on warnings in CI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T15:41:14.532038-08:00","updated_at":"2025-12-01T18:09:48.835396-08:00","closed_at":"2025-12-01T18:09:48.835399-08:00","dependencies":[{"issue_id":"lightning-jqn.2","depends_on_id":"lightning-jqn","type":"parent-child","created_at":"2025-12-01T15:41:14.532953-08:00","created_by":"honk"}]}
{"id":"lightning-jqn.3","title":"Consolidate env defaults \u0026 samples","description":"Provide env.sample files and consistent defaults (API/gallery) including relays, LNbits keys, build metadata.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T15:41:33.932342-08:00","updated_at":"2025-12-01T16:21:03.678094-08:00","closed_at":"2025-12-01T16:21:03.678095-08:00","dependencies":[{"issue_id":"lightning-jqn.3","depends_on_id":"lightning-jqn","type":"parent-child","created_at":"2025-12-01T15:41:33.933304-08:00","created_by":"honk"}]}
{"id":"lightning-jqn.4","title":"Automate dev db seed in startup","description":"Hook dev server start to run prisma seed-dev for demo tenant so LNURL works without manual step.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T15:41:54.565572-08:00","updated_at":"2025-12-01T15:49:42.682315-08:00","closed_at":"2025-12-01T15:49:42.682319-08:00","dependencies":[{"issue_id":"lightning-jqn.4","depends_on_id":"lightning-jqn","type":"parent-child","created_at":"2025-12-01T15:41:54.56652-08:00","created_by":"honk"}]}
{"id":"lightning-jqn.5","title":"Make regtest stack startup idempotent","description":"Ensure ./scripts/regtest-lndbits.sh and fund scripts handle running/paused containers cleanly and print status.","notes":"Regtest bootstrap now skips re-mining and re-funding when not needed, adds richer status output, and documents MCP scripts adjustments.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T15:42:15.538226-08:00","updated_at":"2025-12-01T18:25:02.115027-08:00","closed_at":"2025-12-01T18:25:02.11503-08:00","dependencies":[{"issue_id":"lightning-jqn.5","depends_on_id":"lightning-jqn","type":"parent-child","created_at":"2025-12-01T15:42:15.54001-08:00","created_by":"honk"}]}
{"id":"lightning-jqn.6","title":"Ship reusable UI kit exports","description":"Document and export embed UI components (relay badge, invoice popover, user card, tokens) with examples for external consumers.","notes":"Documented UI kit exports (relay badge, invoice popover, user card, tokens) in packages/embed/README.md for external consumers.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T15:42:39.661127-08:00","updated_at":"2025-12-01T18:18:53.445708-08:00","closed_at":"2025-12-01T18:18:53.445711-08:00","dependencies":[{"issue_id":"lightning-jqn.6","depends_on_id":"lightning-jqn","type":"parent-child","created_at":"2025-12-01T15:42:39.662137-08:00","created_by":"honk"}]}
{"id":"lightning-jqn.7","title":"Centralize asset hosting for logos","description":"Host SVG assets via CDN/unpkg or package exports and reference consistently in docs/demo.","notes":"Assets already shipped inside @nostrstack/embed package; documented CDN/unpkg use and ensured SVGs live under packages/embed/assets for consumer import.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-01T15:43:00.87804-08:00","updated_at":"2025-12-01T18:35:27.82611-08:00","closed_at":"2025-12-01T18:35:27.826113-08:00","dependencies":[{"issue_id":"lightning-jqn.7","depends_on_id":"lightning-jqn","type":"parent-child","created_at":"2025-12-01T15:43:00.87912-08:00","created_by":"honk"}]}
{"id":"lightning-jqn.8","title":"Telemetry gaps: API health + LNbits","description":"Add health pings/logging for API dev and LNbits containers; surface in demo footer.","notes":"Added /health/lnbits endpoint and surfaced API/LNbits status badges in demo footer.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T15:43:17.465224-08:00","updated_at":"2025-12-01T18:29:42.609778-08:00","closed_at":"2025-12-01T18:29:42.609781-08:00","dependencies":[{"issue_id":"lightning-jqn.8","depends_on_id":"lightning-jqn","type":"parent-child","created_at":"2025-12-01T15:43:17.466139-08:00","created_by":"honk"}]}
{"id":"lightning-jqn.9","title":"CI coverage for real-relay comment","description":"Add opt-in CI job to run real relay Playwright when RELAY + signer creds provided; document how to enable.","notes":"Added opt-in GitHub Actions job real-relay-comment gated by REAL_RELAY + NIP07_PROFILE_B64; docs/ci-real-relay.md explains setup and profile requirements; Playwright config supports custom user data dir.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T15:43:36.68273-08:00","updated_at":"2025-12-01T18:32:57.21169-08:00","closed_at":"2025-12-01T18:32:57.211692-08:00","dependencies":[{"issue_id":"lightning-jqn.9","depends_on_id":"lightning-jqn","type":"parent-child","created_at":"2025-12-01T15:43:36.683787-08:00","created_by":"honk"}]}
{"id":"lightning-k4j","title":"Relay list item layout refresh","description":"Relay list chips feel cramped (see screenshot with green dot/recv counts). Redesign using modern list patterns: clear hierarchy (name, URL, software), align status badges (recv/send), better spacing and mobile stacking. Research at least two reference patterns from web log/monitoring UIs and note takeaways in the PR. Acceptance: layout adapts to small screens, statuses readable at a glance, and conforms to chosen design principles. Final step: validate visually via Chrome DevTools MCP and attach before/after screenshot.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T16:19:17.737363-08:00","updated_at":"2025-12-02T17:40:12.584755-08:00","closed_at":"2025-12-02T17:40:12.584755-08:00","close_reason":"done","labels":["demo","nostr"]}
{"id":"lightning-knz","title":"Replace regtest faucet shell with TypeScript","description":"Document and complete move from scripts/regtest-faucet.sh to API route/services (regtest-fund). Remove shell script, ensure docs and gallery faucet button use new endpoint, add tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T11:31:44.660328-08:00","updated_at":"2025-12-02T11:36:02.819439-08:00","closed_at":"2025-12-02T11:36:02.819439-08:00","close_reason":"Closed"}
{"id":"lightning-ktk","title":"Publish SDK/embed to npm","description":"Prepare npm publish for sdk/embed: versioning, changelog, docs snippets","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-28T12:15:16.532933-08:00","updated_at":"2025-11-28T12:28:37.78007-08:00","closed_at":"2025-11-28T12:28:37.78007-08:00","close_reason":"Versioned 0.1.0 sdk/embed, changelog, readmes, builds clean","dependencies":[{"issue_id":"lightning-ktk","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:26:02.301437-08:00","created_by":"honk"}]}
{"id":"lightning-ljx","title":"Invoice modal ring/progress clarity follow-up","description":"Make the invoice status card unambiguously animated: faster ring, clear remaining countdown, better progress fill, tighter layout.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T21:41:52.053939-08:00","updated_at":"2025-12-02T21:45:57.261664-08:00","closed_at":"2025-12-02T21:45:57.26167-08:00"}
{"id":"lightning-lki","title":"Profile card uses improved key toggle","description":"Update NostrProfileCard to use the redesigned NPUB/NSEC toggle with better layout, copy, and overflow handling.","acceptance_criteria":"Profile card embeds new key toggle cleanly; copy works; no overflow.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T11:17:04.620041-08:00","updated_at":"2025-12-02T11:26:40.219154-08:00","closed_at":"2025-12-02T11:26:40.219154-08:00","close_reason":"Closed"}
{"id":"lightning-lnbits","title":"Host LNbits backend (staging)","description":"Deploy managed LNbits in west coast, persistent storage, external ingress, capture admin invoice/key, wire into API env (LN_BITS_URL/LN_BITS_API_KEY).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-29T07:48:12.732597-08:00","updated_at":"2025-11-29T08:05:52.813374-08:00","closed_at":"2025-11-29T08:05:52.813377-08:00"}
{"id":"lightning-lnbits.1","title":"Deploy LNbits Container App with persistent storage","description":"Create storage account + file share; deploy container app 'lnbits-stg' in satoshis-stg-west-rg using lnbits/lnbits image, external ingress port 5000, mount /data to Azure File.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T07:48:24.184903-08:00","updated_at":"2025-11-29T08:05:26.528093-08:00","closed_at":"2025-11-29T08:05:26.528096-08:00","dependencies":[{"issue_id":"lightning-lnbits.1","depends_on_id":"lightning-lnbits","type":"parent-child","created_at":"2025-11-29T07:48:45.936524-08:00","created_by":"honk"}]}
{"id":"lightning-lnbits.2","title":"Capture admin key and URL; store in Key Vault","description":"Retrieve initial LNbits admin/invoice keys from logs; store in satoshis-kv-west (lnbits-url, lnbits-admin-key, lnbits-api-key) and update API env to use LNbits.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T07:48:35.828288-08:00","updated_at":"2025-11-29T08:05:47.301934-08:00","closed_at":"2025-11-29T08:05:47.301936-08:00","dependencies":[{"issue_id":"lightning-lnbits.2","depends_on_id":"lightning-lnbits","type":"parent-child","created_at":"2025-11-29T07:49:05.826816-08:00","created_by":"honk"}]}
{"id":"lightning-lnv","title":"Regtest demo readiness checklist","description":"Plan remaining steps to use demo app against regtest locally (scripts, env defaults, UX validation).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T12:30:55.184253-08:00","updated_at":"2025-12-01T12:41:51.462056-08:00","closed_at":"2025-12-01T12:41:51.46206-08:00"}
{"id":"lightning-lrz","title":"Remove legacy satoshis embed compatibility","description":"Drop data-satoshis* attribute support and clean code/docs; assess further simplifications now that backward compatibility is not required.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T10:56:58.85513-08:00","updated_at":"2025-12-01T11:00:32.226092-08:00","closed_at":"2025-12-01T11:00:32.226092-08:00","close_reason":"Legacy satoshis embeds removed; simplification doc added."}
{"id":"lightning-n1t","title":"Add relay UX uses prompt; needs inline input","description":"Add relay button pops a prompt(), unusable for keyboard/automation. Replace with inline input + add button/modal.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T14:54:09.773234-08:00","updated_at":"2025-12-02T15:14:41.160193-08:00","closed_at":"2025-12-02T15:14:41.160193-08:00","close_reason":"done","labels":["demo","ui"]}
{"id":"lightning-ned","title":"Invoice popover ring/progress animation unclear","description":"Invoice modal animation feels sluggish and duplicate UI. Accept: (1) ring animates clearly for pending and pops on payment; (2) progress bar speed/clarity improved; (3) layout cleaned to avoid duplicated controls; (4) statuses readable at a glance; (5) animation performance smooth.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T21:26:19.918521-08:00","updated_at":"2025-12-02T21:28:20.130048-08:00","closed_at":"2025-12-02T21:28:20.13005-08:00"}
{"id":"lightning-o7d","title":"Mutinynet demo from local against staging LNbits","description":"Point local API/gallery to staging LNbits (lnbits-stg-west) using admin key from Key Vault; run invoice/pay smoke; document env overrides.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T12:23:37.585271-08:00","updated_at":"2025-12-01T12:26:03.424906-08:00","closed_at":"2025-12-01T12:26:03.424908-08:00"}
{"id":"lightning-obs","title":"Observability: staging diagnostics","description":"Send Container App and Postgres staging telemetry to Log Analytics; keep workspace in westus3.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-29T07:40:34.378691-08:00","updated_at":"2025-11-29T07:41:57.218347-08:00","closed_at":"2025-11-29T07:41:57.218355-08:00"}
{"id":"lightning-obs.1","title":"Container App diagnostics to LA workspace","description":"Enable AllMetrics diagnostics for satoshis-api-stg-west to workspace-satoshisstgwestrg83os.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T07:40:46.320968-08:00","updated_at":"2025-11-29T07:41:46.24017-08:00","closed_at":"2025-11-29T07:41:46.240173-08:00","dependencies":[{"issue_id":"lightning-obs.1","depends_on_id":"lightning-obs","type":"parent-child","created_at":"2025-11-29T07:41:10.807401-08:00","created_by":"honk"}]}
{"id":"lightning-obs.2","title":"Postgres diagnostics to LA workspace","description":"Enable logs + metrics for satoshis-pg-west to workspace-satoshisstgwestrg83os (sessions, queries, waits, table stats).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T07:40:56.535836-08:00","updated_at":"2025-11-29T07:41:51.730096-08:00","closed_at":"2025-11-29T07:41:51.730098-08:00","dependencies":[{"issue_id":"lightning-obs.2","depends_on_id":"lightning-obs","type":"parent-child","created_at":"2025-11-29T07:41:34.812927-08:00","created_by":"honk"}]}
{"id":"lightning-oh4","title":"Azure deploy pipeline","description":"Add container build/push (GHCR) and CI deploy job to Azure Container Apps + Postgres; wire secrets; ensure Prisma migrate deploy on startup.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T09:56:16.691438-08:00","updated_at":"2025-11-28T12:03:16.644884-08:00","closed_at":"2025-11-28T12:03:16.644884-08:00","close_reason":"Added Azure Container Apps GH Actions pipeline + Bicep registry auth","dependencies":[{"issue_id":"lightning-oh4","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:26:07.747852-08:00","created_by":"honk"}]}
{"id":"lightning-ops","title":"Ops: staging API healthy","description":"Get west coast staging Container App running green (/health 200) on Postgres with Prisma migrations, openssl present, env wired from Key Vault and registry credentials in place.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-29T07:05:11.151727-08:00","updated_at":"2025-11-29T07:34:02.402941-08:00","closed_at":"2025-11-29T07:34:02.402941-08:00","close_reason":"Closed"}
{"id":"lightning-ops.1","title":"Deploy updated API image with openssl + prisma db push","description":"Use ACR-built image sha256:0880fd... on satoshis-api-stg-west, ensure container starts without libssl error and Prisma db push succeeds.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T07:05:31.448091-08:00","updated_at":"2025-11-29T07:22:53.541496-08:00","closed_at":"2025-11-29T07:22:53.541498-08:00","dependencies":[{"issue_id":"lightning-ops.1","depends_on_id":"lightning-ops","type":"parent-child","created_at":"2025-11-29T07:26:13.223291-08:00","created_by":"honk"}]}
{"id":"lightning-ops.2","title":"Verify /health 200 and app logs clean","description":"Hit Container App ingress, ensure 200 OK; check revision health state; capture logs; open firewall if needed.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T07:05:53.898432-08:00","updated_at":"2025-11-29T07:23:04.329472-08:00","closed_at":"2025-11-29T07:23:04.329475-08:00","dependencies":[{"issue_id":"lightning-ops.2","depends_on_id":"lightning-ops","type":"parent-child","created_at":"2025-11-29T07:26:18.670053-08:00","created_by":"honk"}]}
{"id":"lightning-ops.3","title":"Wire Container App env from Key Vault + secrets hygiene","description":"Use KV satoshis-kv-west for DATABASE_URL, admin keys, opennode/lnbits; remove plaintext from app config; ensure registry secret present.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T07:06:02.955915-08:00","updated_at":"2025-11-29T07:33:53.563237-08:00","closed_at":"2025-11-29T07:33:53.56324-08:00","dependencies":[{"issue_id":"lightning-ops.3","depends_on_id":"lightning-ops","type":"parent-child","created_at":"2025-11-29T07:26:24.153336-08:00","created_by":"honk"}]}
{"id":"lightning-ou6","title":"NIP-07 detection logging + dev shim","description":"Hard to debug signer absence; add structured console logs for window.nostr presence, permission errors, and relays; optionally expose a dev-only mock signer (behind env flag) to keep demos working when extensions unavailable.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-03T09:24:22.905187-08:00","updated_at":"2025-12-03T09:29:11.432595-08:00","closed_at":"2025-12-03T09:29:11.432598-08:00"}
{"id":"lightning-puj","title":"Make dev start all services via make dev with HTTPS + logs","description":"Update Makefile dev to launch API+gallery with HTTPS, unified logs, and relative telemetry WS; remove VITE_TELEMETRY_FORCE_SECURE. Provide clear log-follow instructions.","notes":"make dev now runs scripts/dev-logs.sh (API+gallery w/ HTTPS proxy) and announces .logs/dev paths; telemetry WS resolution uses same-origin wss and removed VITE_TELEMETRY_FORCE_SECURE; env samples/docs updated.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-03T11:40:37.015593-08:00","updated_at":"2025-12-03T11:42:20.918809-08:00","closed_at":"2025-12-03T11:42:20.918811-08:00","labels":["tooling"]}
{"id":"lightning-pyv","title":"Vite ws proxy socket error spam in gallery dev logs","description":"Gallery dev server logs are flooded with repeated 'vite ws proxy socket error: This socket has been ended by the other party' during HMR/WS. Investigate proxy config/keepalive and silence or fix to keep logs clean.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-03T14:21:55.499548-08:00","updated_at":"2025-12-03T16:38:40.092489-08:00","closed_at":"2025-12-03T16:38:40.092489-08:00","close_reason":"Closed","labels":["devex","frontend"]}
{"id":"lightning-qae","title":"Regtest faucet endpoint 404","description":"Faucet button POSTs to /regtest/fund and returns 404 (Not Found). Add alias under /api/regtest/fund and point gallery faucet to correct path so regtest funding works in hosted/demo.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T11:41:49.103082-08:00","updated_at":"2025-12-02T11:46:45.074757-08:00","closed_at":"2025-12-02T11:46:45.074757-08:00","close_reason":"Closed"}
{"id":"lightning-qdw","title":"Wallet panel still 404s: add inline connection test","description":"Wallet balance fetch returns 404 frequently. Add: (1) inline connection tester showing full URL and response body; (2) guidance if admin key invalid; (3) success state and skeleton; (4) mask admin key input; (5) debounce refresh and reuse normalized URL in all calls.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T23:23:41.811913-08:00","updated_at":"2025-12-03T08:44:53.131995-08:00","closed_at":"2025-12-03T08:44:53.131997-08:00"}
{"id":"lightning-qha","title":"Theme select not operable via click","description":"Theme dropdown on Config card doesn't open/respond to normal click (MCP/automation times out); only programmatic value set works. Make it keyboard/mouse accessible.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T14:53:42.869895-08:00","updated_at":"2025-12-02T15:08:46.066548-08:00","closed_at":"2025-12-02T15:08:46.066548-08:00","close_reason":"done","labels":["demo","ui"]}
{"id":"lightning-rbf","title":"Telemetry card layout broken and no events","description":"Regtest telemetry card overflows and never shows block/tx events. Fix layout and ensure events render. Verify via DevTools MCP; include screenshot after events shown.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T15:41:41.226349-08:00","updated_at":"2025-12-02T17:02:42.155691-08:00","closed_at":"2025-12-02T17:02:42.155691-08:00","close_reason":"done","labels":["demo","telemetry"]}
{"id":"lightning-rgw","title":"Bolt11 presentation: wrap, copy, QR; remove mock","description":"Tip/pay flows overflow bolt11 text; add wrapping, copy button, QR, and drop mock artifacts (always real). Verify via DevTools MCP with screenshots.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T15:41:56.838228-08:00","updated_at":"2025-12-02T17:18:21.054354-08:00","closed_at":"2025-12-02T17:18:21.054354-08:00","close_reason":"done","labels":["demo","payments","ui"]}
{"id":"lightning-rms","title":"Enforce log watching + MCP UI verification in dev workflow","description":"Make dev workflow require tailing backend+frontend logs and Chrome DevTools MCP verification for any UI change. Update AGENTS/Makefile/scripts to start all partner services via make dev (API, gallery, bitcoind, lnd, lnbits, ws telemetry) with HTTPS by default, and print which logs to follow. Add docs/checklist and guardrails (preflight) so errors are caught without user reminders.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-03T14:02:51.034532-08:00","updated_at":"2025-12-03T16:31:15.507211-08:00","closed_at":"2025-12-03T16:31:15.507211-08:00","close_reason":"Closed","labels":["devex","tooling"]}
{"id":"lightning-rn7","title":"Demo tip LNURL 404 (double slash / tenant)","description":"Tip button hits //.well-known/lnurlp/\u003cuser\u003e and returns 404; ensure baseURL/host wiring uses correct path and demo tenant so LNURLp resolves in regtest.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T13:54:55.715106-08:00","updated_at":"2025-12-01T14:08:33.764106-08:00","closed_at":"2025-12-01T14:08:33.764109-08:00"}
{"id":"lightning-rts","title":"Wallet WS fails in browser with self-signed HTTPS","description":"Gallery shows 'WebSocket closed before connection established' for wss://localhost:4173/ws/wallet while ws works via node client. Likely TLS trust/proxy issue with self-signed cert; need dev trust flow or proxy to http behind https page.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-03T18:18:20.143993-08:00","updated_at":"2025-12-03T18:40:34.037327-08:00","closed_at":"2025-12-03T18:40:34.037327-08:00","close_reason":"Closed"}
{"id":"lightning-rzq","title":"Local regtest lightning stack for demo","description":"Run LNbits against local LND/bitcoind regtest so invoices can be paid locally; provide scripts/compose and docs; wire API+gallery to use it.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T11:51:33.417624-08:00","updated_at":"2025-12-01T12:17:46.681835-08:00","closed_at":"2025-12-01T12:17:46.681838-08:00"}
{"id":"lightning-s3d","title":"LNbits webhook -\u003e pay WS broadcast","description":"Add LNbits webhook receiver in API: supply webhook URL on createCharge, verify payment_hash, mark payment paid, and broadcast over /ws/pay so invoices flip instantly.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-03T14:43:40.997064-08:00","updated_at":"2025-12-03T16:35:52.310207-08:00","closed_at":"2025-12-03T16:35:52.310207-08:00","close_reason":"Closed","labels":["backend","lnbits","websockets"]}
{"id":"lightning-saj","title":"OpenNode webhook verification \u0026 replay protection","description":"Verify OpenNode webhook signatures with secret, add idempotency/replay protection, enrich payment records, and cover with tests.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T09:55:51.116653-08:00","updated_at":"2025-11-28T09:58:43.554147-08:00","closed_at":"2025-11-28T09:58:43.554147-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-saj","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:26:29.697111-08:00","created_by":"honk"}]}
{"id":"lightning-sdph","title":"qa: full regtest demo verification (all buttons + payments + ws + posts)","description":"User request: re-verify regtest demo end-to-end. Run dev stack, click through all UI buttons, verify LNURLp tip + paywall + /api/pay flows, wallet + telemetry websockets, logs tab, and Nostr mock/real behavior. Capture any regressions as new issues.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T14:17:17.812257-08:00","updated_at":"2025-12-13T14:54:55.785509-08:00","closed_at":"2025-12-13T14:54:55.785509-08:00"}
{"id":"lightning-sdph.1","title":"gallery: qa fixes (comments container + mock relay + regtest QA script)","description":"Found during regtest QA: duplicate #comments-container IDs caused ambiguous mounts/tests; entering 'mock' in relays caused /mock fetch + wss://mock noise; add a repeatable Playwright-based QA script for the demo.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T14:48:37.535601-08:00","updated_at":"2025-12-13T14:49:00.464289-08:00","closed_at":"2025-12-13T14:49:00.464289-08:00","dependencies":[{"issue_id":"lightning-sdph.1","depends_on_id":"lightning-sdph","type":"parent-child","created_at":"2025-12-13T14:48:37.536625-08:00","created_by":"honk"}]}
{"id":"lightning-snt","title":"NIP-07 signer not detected on localhost: add diagnostics and guidance","description":"Users see 'No signer detected' even with NIP-07 extensions. Causes: window.nostr only injected after permission/allowlisted host, secure context required, some extensions disabled by default (Alby NIP-07 toggle). Add UI to show detection steps (window.nostr present?, getPublicKey permission errors), link to extension settings/install, and a retry that surfaces error text.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T09:24:00.186652-08:00","updated_at":"2025-12-03T09:25:55.435486-08:00","closed_at":"2025-12-03T09:25:55.435492-08:00"}
{"id":"lightning-sof","title":"Telemetry WS fails over wss://localhost:4173/api/ws/telemetry","description":"Console shows WS closed before established at TelemetryCard.tsx:82. Detect mixed-content/invalid host, and add clearer status + fallback to ws:// if wss self-signed. Allow manual endpoint override in UI.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-03T01:28:43.75-08:00","updated_at":"2025-12-03T08:10:19.806495-08:00","closed_at":"2025-12-03T08:10:19.806497-08:00"}
{"id":"lightning-spj","title":"Comments section redesign with live updates","description":"Redesign comments area: tighter layout, live updates for posted/received messages, align with real-relay-only requirement. Verify via DevTools MCP by posting and observing live updates; include screenshots.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T15:42:42.450184-08:00","updated_at":"2025-12-02T18:56:54.0704-08:00","closed_at":"2025-12-02T18:56:54.070404-08:00","labels":["demo","nostr","ui"]}
{"id":"lightning-tce","title":"Startup floods pay status 404s","description":"During fresh make dev the gallery polls /api/lnurlp/pay/status/\u003cold id\u003e every 5s before any invoice is created, causing log spam. Need to ensure no status polling until a new invoice/ref is set and clear any persisted refs earlier (or invalidate on app init).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T18:57:07.421651-08:00","updated_at":"2025-12-03T18:58:49.940303-08:00","closed_at":"2025-12-03T18:58:49.940303-08:00","close_reason":"Closed"}
{"id":"lightning-tdy","title":"Demo lacks visible test wallet info","description":"Wallet panel/env not showing in demo; surface LNbits URL/admin key or guided steps so users can create/send from a test wallet.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T13:55:11.102633-08:00","updated_at":"2025-12-01T14:18:07.474927-08:00","closed_at":"2025-12-01T14:18:07.474929-08:00"}
{"id":"lightning-ti4","title":"Compact npub/nsec key chip + fix overflow in Profile/Signer","description":"Create shared compact key chip component with hex/npub/nsec toggle, middle truncation, copy button, consistent padding; replace Profile \u0026 signer + Logged-in Nostr card fields to prevent overflow and improve layout.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T12:18:26.089596-08:00","updated_at":"2025-12-02T12:20:29.412463-08:00","closed_at":"2025-12-02T12:20:29.412463-08:00","close_reason":"Closed"}
{"id":"lightning-tup","title":"Alby auth blank page on localhost https","description":"When clicking authorize in Alby on https://localhost:4173, the extension opens a blank page instead of permission prompt. Investigate extension site-access + self-signed cert flow, check console errors, CSP, and document fix (likely needs trusted cert / correct origin).","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T12:18:12.446876-08:00","updated_at":"2025-12-02T12:28:11.52826-08:00","closed_at":"2025-12-02T12:28:11.52826-08:00","close_reason":"Closed"}
{"id":"lightning-txq","title":"Relay pill metadata + live activity","description":"Improve relay pill: show metadata (name, software if available via NIP-11), connection status, messages sent/recv counters, and live pulse when traffic arrives. Allow dynamic add relay UI to attach this info. Wire to comment widget events and potential WS telemetry.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-02T11:31:24.776088-08:00","updated_at":"2025-12-02T11:34:34.550181-08:00","closed_at":"2025-12-02T11:34:34.550181-08:00","close_reason":"Closed"}
{"id":"lightning-v01","title":"Relay card redesign for rich relay metadata","description":"Make relay list items information-dense and alive: surface NIP-11 metadata, uptime/latency/activity, connection health, and interactions.","notes":"RelayCard redesign shipped (UI, recv/min), metadata pipeline enhanced, Storybook added. Push blocked (403).","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-03T10:55:20.099-08:00","updated_at":"2025-12-03T11:50:18.579912-08:00","closed_at":"2025-12-03T11:50:18.579915-08:00"}
{"id":"lightning-v01.1","title":"Research relay metadata + inspirations; produce redesign plan","description":"Audit RelayCard UI; list available metadata (NIP-11 etc.) and competitive examples; propose detailed redesign scope.","design":"See docs/relay-card-redesign.md for research, metadata inventory, and UX plan.","notes":"Drafted redesign doc and created follow-on tasks lightning-v01.2, v01.3, v01.4.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T10:55:28.94139-08:00","updated_at":"2025-12-03T10:58:22.950319-08:00","closed_at":"2025-12-03T10:58:22.950323-08:00","labels":["design"],"dependencies":[{"issue_id":"lightning-v01.1","depends_on_id":"lightning-v01","type":"parent-child","created_at":"2025-12-03T10:55:28.942306-08:00","created_by":"honk"}]}
{"id":"lightning-v01.2","title":"Implement RelayCard UI redesign","description":"Apply new layout/visuals to relay pill: metadata chips, activity graph, status+uptime badges, interactions (copy/share/open).","notes":"RelayCard now shows description, supported NIPs, auth/payment chips, latency status, copy/open actions; comments/profile pass metadata from stats.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T10:55:37.342128-08:00","updated_at":"2025-12-03T11:45:23.750108-08:00","closed_at":"2025-12-03T11:45:23.750111-08:00","labels":["frontend"],"dependencies":[{"issue_id":"lightning-v01.2","depends_on_id":"lightning-v01","type":"parent-child","created_at":"2025-12-03T10:55:37.34306-08:00","created_by":"honk"},{"issue_id":"lightning-v01.2","depends_on_id":"lightning-v01.1","type":"blocks","created_at":"2025-12-03T10:55:37.343945-08:00","created_by":"honk"}]}
{"id":"lightning-v01.3","title":"Enhance relay metadata + stats pipeline","description":"Fetch/cache NIP-11 Relay Information Document fields, probe latency/uptime, store recent recv/send counts; expose to UI.","notes":"Added recvPerMin with rolling 60s history in RelayStats; RelayCard now shows /min; callers wired to pass metadata.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T10:55:46.972223-08:00","updated_at":"2025-12-03T11:47:41.6954-08:00","closed_at":"2025-12-03T11:47:41.695403-08:00","labels":["backend"],"dependencies":[{"issue_id":"lightning-v01.3","depends_on_id":"lightning-v01","type":"parent-child","created_at":"2025-12-03T10:55:46.973211-08:00","created_by":"honk"},{"issue_id":"lightning-v01.3","depends_on_id":"lightning-v01.1","type":"blocks","created_at":"2025-12-03T10:55:46.974277-08:00","created_by":"honk"}]}
{"id":"lightning-v01.4","title":"Add stories/tests for redesigned RelayCard","description":"Storybook/playwright/unit coverage for relay item: renders NIP-11 fields, activity sparkline, status states, theming.","notes":"Storybook story covers online/offline/sending/dark states for RelayCard; tests run via pnpm --filter gallery test.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T10:55:56.849689-08:00","updated_at":"2025-12-03T11:49:28.29574-08:00","closed_at":"2025-12-03T11:49:28.295743-08:00","labels":["testing"],"dependencies":[{"issue_id":"lightning-v01.4","depends_on_id":"lightning-v01","type":"parent-child","created_at":"2025-12-03T10:55:56.850398-08:00","created_by":"honk"},{"issue_id":"lightning-v01.4","depends_on_id":"lightning-v01.2","type":"blocks","created_at":"2025-12-03T10:55:56.851403-08:00","created_by":"honk"}]}
{"id":"lightning-v4a","title":"Ensure Telemetry WS runs alongside API/Gallery","description":"TelemetryCard keeps failing wss://localhost:4173/ws/telemetry; ensure telemetry WebSocket server starts with demo stack (regtest/mutinynet/mainnet), exposes /ws/telemetry over matching scheme/host, and certs handled for localhost. Add health check and auto-fallback config.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-03T10:43:54.512144-08:00","updated_at":"2025-12-03T10:47:18.991522-08:00","closed_at":"2025-12-03T10:47:18.991524-08:00","labels":["api","telemetry"]}
{"id":"lightning-vms","title":"Logs layout and status badges need redesign","description":"Logs tab UI cluttered and unclear (see screenshot). Redesign with clear status badges, better spacing, and consistent styles; ensure backend/frontend streams visible. Research best log viewer layouts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T16:11:03.984024-08:00","updated_at":"2025-12-02T16:21:31.640121-08:00","closed_at":"2025-12-02T16:21:31.640121-08:00","close_reason":"done","labels":["demo","logging","ui"]}
{"id":"lightning-w0j","title":"Pre-mainnet test hardening","description":"Broaden coverage on regtest + mutinynet, add UI/demo e2e flows, and gate mainnet cutover on green pipeline.","notes":"w0j.2/3/4/5/6 closed; remaining work depends on mainnet cutover (lightning-hpu) and any new gaps discovered.","status":"blocked","priority":1,"issue_type":"epic","created_at":"2025-11-30T12:08:03.845152-08:00","updated_at":"2025-12-01T03:13:44.618244-08:00"}
{"id":"lightning-w0j.1","title":"CI regtest e2e (Playwright)","description":"Run playwright lnurlp and wallet flows against local regtest stack (docker-compose), fix strip-types flag, add to CI gate.","notes":"Added NODE_OPTIONS fix and regtest Playwright steps to CI + deploy workflows; smoke script now accepts 200/201.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T12:08:16.441697-08:00","updated_at":"2025-11-30T13:42:57.588604-08:00","closed_at":"2025-11-30T13:42:57.588605-08:00","dependencies":[{"issue_id":"lightning-w0j.1","depends_on_id":"lightning-w0j","type":"parent-child","created_at":"2025-11-30T12:08:16.44246-08:00","created_by":"honk"}]}
{"id":"lightning-w0j.2","title":"Mutinynet staging smoke in CI","description":"Use staging LNbits admin key from KV to create \u0026 poll invoices on mutinynet; add retry/poll + webhook check.","notes":"Mutinynet smoke script added (apps/api/scripts/mutinynet-smoke.ts) and pnpm test:mutinynet hook; skips when no staging key set.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T12:08:29.853325-08:00","updated_at":"2025-12-01T03:04:04.729318-08:00","closed_at":"2025-12-01T03:04:04.72932-08:00","dependencies":[{"issue_id":"lightning-w0j.2","depends_on_id":"lightning-w0j","type":"parent-child","created_at":"2025-11-30T12:08:29.854053-08:00","created_by":"honk"}]}
{"id":"lightning-w0j.3","title":"API contract tests for pay-to-act","description":"Add contract/e2e tests for LNURLp, pay-to-unlock, webhook replay protection, nostr login flows; fixtures for tenants.","notes":"Added nostr well-known Playwright test (passes locally); fixed null pubkey filter in nostr endpoint.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T12:08:46.049183-08:00","updated_at":"2025-12-01T02:42:28.407958-08:00","closed_at":"2025-12-01T02:42:28.407958-08:00","close_reason":"Pay-to-act API tests hardened (validation, unknown id, mock provider status); suite runs offline with mock provider.","dependencies":[{"issue_id":"lightning-w0j.3","depends_on_id":"lightning-w0j","type":"parent-child","created_at":"2025-11-30T12:08:46.049934-08:00","created_by":"honk"}]}
{"id":"lightning-w0j.4","title":"Demo e2e flows (tip, paywall, comments)","description":"Gallery/demo: add UI components to pay tip, unlock article, and post Nostr comment; write Playwright flows that pay invoices via test payer and assert content unlock.","notes":"Gallery real-payment toggle added; warning banner when disabled; e2e still green.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T12:08:59.482904-08:00","updated_at":"2025-12-01T02:59:36.906286-08:00","closed_at":"2025-12-01T02:59:36.906286-08:00","close_reason":"Gallery Playwright demo flows cover tip/pay/comments using mock mode; embed client adjusted and tests run.","dependencies":[{"issue_id":"lightning-w0j.4","depends_on_id":"lightning-w0j","type":"parent-child","created_at":"2025-11-30T12:08:59.483617-08:00","created_by":"honk"}]}
{"id":"lightning-w0j.5","title":"Stability checks: balance + settle assertions","description":"Add asserts that wallet balances decrease/increase after payment settlement on regtest \u0026 mutinynet; poll until settled; fail on timeout.","notes":"Balance helper added; will assert delta once payer secrets enable staging payments.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T12:09:17.358564-08:00","updated_at":"2025-12-01T03:12:25.67569-08:00","closed_at":"2025-12-01T03:12:25.67569-08:00","close_reason":"Settlement checks in pay-to-act suite now assert LNbits balance drop via settleAssert helper (runs when LNbits env set).","dependencies":[{"issue_id":"lightning-w0j.5","depends_on_id":"lightning-w0j","type":"parent-child","created_at":"2025-11-30T12:09:17.35933-08:00","created_by":"honk"}]}
{"id":"lightning-w0j.6","title":"Settlement assertions (regtest + mutinynet)","description":"Add balance+settle polling for pay/to/unlock and invoices across regtest and staging mutinynet; fail on timeout; reuse admin/payer keys.","notes":"Added balance helper lnbitsBalance; will wire into settlement assertions next.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T12:25:32.821769-08:00","updated_at":"2025-12-01T02:45:29.796505-08:00","closed_at":"2025-12-01T02:45:29.796505-08:00","close_reason":"Pay-to-act settlement asserts PAID with mock provider; LNbits path already covers balance delta when env present.","dependencies":[{"issue_id":"lightning-w0j.6","depends_on_id":"lightning-w0j","type":"parent-child","created_at":"2025-11-30T12:25:32.822536-08:00","created_by":"honk"}]}
{"id":"lightning-w2g","title":"Profile pubkey overflow fix","description":"Profile \u0026 signer card shows pubkey overflowing across cards. Add truncation/wrapping strategy with copy affordances, ensure long keys do not break layout in light/dark themes, and keep monospaced presentation for clarity. Acceptance: no overflow at common widths (desktop/mobile), copy buttons still work, and visual hierarchy intact. Final step: verify via Chrome DevTools MCP with long keys and attach screenshot.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T16:19:31.978342-08:00","updated_at":"2025-12-02T18:37:23.725838-08:00","closed_at":"2025-12-02T18:37:23.72584-08:00","labels":["demo","nostr"]}
{"id":"lightning-wja","title":"LNbits as wallet core","description":"Adopt LNbits as primary LightningProvider; support pluggable funding sources (Blink/self-host/etc.), swap without API changes.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-28T18:23:24.861195-08:00","updated_at":"2025-11-29T07:34:21.444954-08:00","closed_at":"2025-11-29T07:34:21.444954-08:00","close_reason":"Closed"}
{"id":"lightning-wja.1","title":"Add LNbits provider abstraction","description":"Implement LightningProvider for LNbits (payments via /api/v1/payments, invoice creation via /api/v1/payments/lnurl or /createinvoice), configurable via env (endpoint/api_key), feature-flag selectable.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T18:23:39.011141-08:00","updated_at":"2025-11-28T18:27:08.414898-08:00","closed_at":"2025-11-28T18:27:08.414898-08:00","close_reason":"LNbits provider selectable via env; invoice/status implemented","dependencies":[{"issue_id":"lightning-wja.1","depends_on_id":"lightning-wja","type":"parent-child","created_at":"2025-11-28T18:23:39.012315-08:00","created_by":"honk"}]}
{"id":"lightning-wja.2","title":"Webhook/status handling for LNbits","description":"Handle LNbits payment status callbacks/polling; map to Payment statuses; verify HMAC if configured; reuse existing webhook endpoints or add /lnbits/webhook.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-28T18:23:51.727508-08:00","updated_at":"2025-11-28T18:27:22.210805-08:00","closed_at":"2025-11-28T18:27:22.210805-08:00","close_reason":"Webhook/polling wired: status endpoint works; LNbits webhook stub added","dependencies":[{"issue_id":"lightning-wja.2","depends_on_id":"lightning-wja","type":"parent-child","created_at":"2025-11-28T18:23:51.729177-08:00","created_by":"honk"}]}
{"id":"lightning-wja.3","title":"Funding source config + docs","description":"Document funding source matrix (Blink/self-host LND/CLN/etc.), add env/config to switch LNbits backend, include cost/reliability notes and setup steps.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T18:24:03.96636-08:00","updated_at":"2025-11-28T18:28:28.634554-08:00","closed_at":"2025-11-28T18:28:28.634554-08:00","close_reason":"Docs env switches, local LNbits compose, README notes","dependencies":[{"issue_id":"lightning-wja.3","depends_on_id":"lightning-wja","type":"parent-child","created_at":"2025-11-28T18:24:03.972738-08:00","created_by":"honk"}]}
{"id":"lightning-wja.4","title":"E2E tests against LNbits","description":"Spin LNbits container for tests; ensure LNURLp issuance and paid webhook path works; fixtures for demo tenant.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T18:24:15.813307-08:00","updated_at":"2025-11-28T18:29:12.977017-08:00","closed_at":"2025-11-28T18:29:12.977017-08:00","close_reason":"Documented LNbits E2E plan; docker-compose helper added","dependencies":[{"issue_id":"lightning-wja.4","depends_on_id":"lightning-wja","type":"parent-child","created_at":"2025-11-28T18:24:15.814391-08:00","created_by":"honk"}]}
{"id":"lightning-wri","title":"Block list header + dual-wallet clarity redesign","description":"Redesign block header card into table header with network badge (regtest) and animated insert of new blocks; clarify dual-wallet context (receiver LNbits vs payer LND) with distinct labels + balances so users know add-funds target and test-wallet payer.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-03T14:03:04.620955-08:00","updated_at":"2025-12-03T16:42:48.388177-08:00","closed_at":"2025-12-03T16:42:48.388177-08:00","close_reason":"Closed","labels":["design","frontend"]}
{"id":"lightning-x68","title":"Perf/a11y audit: reduce motion, focus order, tooltips","description":"Run Chrome DevTools + Lighthouse: ensure prefers-reduced-motion stops pulses, focus order on invoice modal/ribbon cards, tooltips have aria labels, animations paused when tab hidden.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-02T23:24:08.549819-08:00","updated_at":"2025-12-03T08:50:35.395079-08:00","closed_at":"2025-12-03T08:50:35.395082-08:00"}
{"id":"lightning-x9r","title":"Live nostr + lightning surfaces (alive UI polish)","description":"Make the nostr and lightning demo feel \"alive\": animate real-time states, densify metadata, and refresh copy/payment affordances. Child tasks will cover telemetry, invoice popover, profile/signer, relay chips, and npub bar.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-02T20:56:53.414727-08:00","updated_at":"2025-12-02T21:21:41.761527-08:00","closed_at":"2025-12-02T21:21:41.761529-08:00"}
{"id":"lightning-x9r.1","title":"Telemetry card repeats same block; add rich block stats + icon","description":"Fix regtest telemetry feed duplicating block # heights and make it informative. Accept: (1) websocket dedupes/stops emitting identical heights when chain idle; (2) include hash, tx count, size/weight, median/received time in telemetry event; (3) UI shows single live block banner with time-since-last-block clock, tx count, size, and a block icon animation; (4) timeline trims to latest N events with unique keys; (5) reconnect logic resumes stream after socket drop.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-02T20:57:04.613311-08:00","updated_at":"2025-12-02T21:02:33.285268-08:00","closed_at":"2025-12-02T21:02:33.28527-08:00","dependencies":[{"issue_id":"lightning-x9r.1","depends_on_id":"lightning-x9r","type":"parent-child","created_at":"2025-12-02T20:57:04.61439-08:00","created_by":"honk"}]}
{"id":"lightning-x9r.2","title":"Invoice popover: remove duplicate copy button, amplify live payment animation","description":"Redesign Lightning invoice modal so it feels alive and uses space well. Accept: (1) top copy button removed; single BOLT11 copy action lives near code block with success micro-state; (2) freed header space shows live payment viz (progress ring/beam, amount, status, elapsed) and celebratory success animation; (3) waiting/pending pulses subtly and paid state pops; (4) layout keeps Open in wallet CTA and aligns QR + details cleanly; (5) accessibility: status is aria-live polite and controls keyboard-focusable.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-02T20:57:15.005258-08:00","updated_at":"2025-12-02T21:08:04.938922-08:00","closed_at":"2025-12-02T21:08:04.938929-08:00","dependencies":[{"issue_id":"lightning-x9r.2","depends_on_id":"lightning-x9r","type":"parent-child","created_at":"2025-12-02T20:57:15.00637-08:00","created_by":"honk"}]}
{"id":"lightning-x9r.3","title":"Nostr profile card: live signer presence + dense metadata","description":"Make the profile card look premium and alive when a signer is present. Accept: (1) header shows signer presence with animated pulse tied to Nip07Status and relay pings; (2) layout surfaces avatar, name, about, NIP-05/LUD16/website badges, relay count, and note-send status in a compact grid; (3) npub/nsec toggle uses new lively copy bar; (4) includes tiny activity sparkline or last-seen timers from relays; (5) responsive and works in light/dark.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-02T20:57:27.788289-08:00","updated_at":"2025-12-02T21:11:45.774321-08:00","closed_at":"2025-12-02T21:11:45.774323-08:00","dependencies":[{"issue_id":"lightning-x9r.3","depends_on_id":"lightning-x9r","type":"parent-child","created_at":"2025-12-02T20:57:27.789282-08:00","created_by":"honk"}]}
{"id":"lightning-x9r.4","title":"Compact npub/nsec bar with lively copy interaction","description":"Design a compact, animated key bar inspired by modern copy-to-clipboard UI. Accept: (1) single-line bar shows truncated key with inline copy icon + format toggle (npub/hex); (2) copy success gives micro animation/state and reverts; (3) fits in tight spaces without wrapping; (4) keyboard + screen reader friendly; (5) reusable component swapped into profile and elsewhere.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-02T20:57:38.851221-08:00","updated_at":"2025-12-02T21:13:57.384449-08:00","closed_at":"2025-12-02T21:13:57.384454-08:00","dependencies":[{"issue_id":"lightning-x9r.4","depends_on_id":"lightning-x9r","type":"parent-child","created_at":"2025-12-02T20:57:38.852624-08:00","created_by":"honk"}]}
{"id":"lightning-x9r.5","title":"Relay card: live send/recv pulses + richer meta","description":"Refresh relay pill so it updates on every event. Accept: (1) pulses/animates on recv or send updates; (2) shows send/recv counts, last-seen time, and relay software/name; (3) includes micro sparkline or activity ticks from recent events; (4) handles missing data gracefully and works in dark mode; (5) feed uses unique ids so same event is not repeated.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-02T20:57:50.322445-08:00","updated_at":"2025-12-02T21:16:03.655031-08:00","closed_at":"2025-12-02T21:16:03.655034-08:00","dependencies":[{"issue_id":"lightning-x9r.5","depends_on_id":"lightning-x9r","type":"parent-child","created_at":"2025-12-02T20:57:50.323612-08:00","created_by":"honk"}]}
{"id":"lightning-xab","title":"Fix CommentsPanel not defined runtime error","description":"App fails to render after removing relayMode/mock paths because CommentsPanel import was removed. Restore import and ensure build passes.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-03T10:39:00.788863-08:00","updated_at":"2025-12-03T10:39:12.333908-08:00","closed_at":"2025-12-03T10:39:12.333914-08:00","labels":["gallery"]}
{"id":"lightning-xd8","title":"nostrstack rebrand + CI readiness","description":"Rename Satoshis.lol to nostrstack, update packages/workflows/docs, and ensure GitHub repo/CI align with new branding.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-30T23:15:18.378667-08:00","updated_at":"2025-12-01T00:09:11.977563-08:00","closed_at":"2025-12-01T00:09:11.977563-08:00","close_reason":"Closed"}
{"id":"lightning-xd8.1","title":"Rebrand codebase/packages to nostrstack","description":"Rename SDK/embed scope, class names, data attributes, defaults, and docs; update env samples and gallery copy.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T23:15:31.161721-08:00","updated_at":"2025-11-30T23:15:50.408607-08:00","closed_at":"2025-11-30T23:15:50.408607-08:00","close_reason":"done","dependencies":[{"issue_id":"lightning-xd8.1","depends_on_id":"lightning-xd8","type":"parent-child","created_at":"2025-11-30T23:15:31.162506-08:00","created_by":"honk"}]}
{"id":"lightning-xd8.2","title":"Fix CI workflows for nostrstack","description":"Rename workflow resources/image names, align Postgres service creds/port 5432, and ensure pipelines pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T23:16:18.422626-08:00","updated_at":"2025-12-01T00:06:39.480418-08:00","closed_at":"2025-12-01T00:06:39.480418-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-xd8.2","depends_on_id":"lightning-xd8","type":"parent-child","created_at":"2025-11-30T23:16:18.42337-08:00","created_by":"honk"}]}
{"id":"lightning-xd8.3","title":"Push nostrstack repo + monitor CI","description":"Push rebrand changes to GitHub, watch CI/Deploy runs, and resolve any failing jobs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T23:16:44.876848-08:00","updated_at":"2025-12-01T00:06:39.482375-08:00","closed_at":"2025-12-01T00:06:39.482375-08:00","close_reason":"Closed","dependencies":[{"issue_id":"lightning-xd8.3","depends_on_id":"lightning-xd8","type":"parent-child","created_at":"2025-11-30T23:16:44.877593-08:00","created_by":"honk"}]}
{"id":"lightning-xo4","title":"Comments: show relays + edit/save","description":"Display current relays on comment widget, allow editing and persisting (localStorage) without adding heavy UI.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T14:23:14.858219-08:00","updated_at":"2025-12-01T15:30:17.64607-08:00","closed_at":"2025-12-01T15:30:17.646073-08:00"}
{"id":"lightning-y2b","title":"Address bd doctor warnings (JSONL, merge driver, sync branch)","description":"bd doctor flagged multiple JSONL files (issues.jsonl + beads.left.jsonl), missing merge driver config, sync.branch unset, deletions manifest empty, and bd CLI not on PATH. Track cleanup: pick canonical JSONL, configure merge driver + sync.branch, verify deletions manifest, and ensure bd binary is accessible in PATH.","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-01T19:54:00.742813-08:00","updated_at":"2025-12-01T20:00:29.198908-08:00","closed_at":"2025-12-01T20:00:29.198912-08:00"}
{"id":"lightning-y95","title":"blog-integration","description":"Integrate nostrstack (tips, Nostr comments, share) into klabo.world blog. Deliver adapters, docs, and e2e coverage.","notes":"All sub-tasks y95.2/4/5/6/7/8 done; awaiting new directives or additional blog requirements.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-01T01:25:13.169246-08:00","updated_at":"2025-12-01T12:44:04.012303-08:00","closed_at":"2025-12-01T12:44:04.012304-08:00"}
{"id":"lightning-y95.1","title":"Map klabo.world post surfaces for nostrstack","description":"Identify Next.js entry points for posts (Contentlayer/MDX). Capture slug/url/title/author fields, LN address source, and layout slot(s) for widgets. Deliver a short design note with file paths and data flow.","notes":"Mapped klabo.world post surfaces: Next.js route app/src/app/posts/[slug]/page.tsx renders hero+MDX content; data from Contentlayer (post slug/title/summary/tags/date/publishDate/body). Need MDX schema extension for lnaddr/nostrPubkey/relays. Widget slots: (1) tip/share near header, (2) comments below \u003cMDXContent\u003e. Use dynamic import/no-SSR for client widgets. Canonical URL: /posts/[slug].","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T01:25:45.988551-08:00","updated_at":"2025-12-01T01:32:25.219399-08:00","closed_at":"2025-12-01T01:32:25.219401-08:00","dependencies":[{"issue_id":"lightning-y95.1","depends_on_id":"lightning-y95","type":"parent-child","created_at":"2025-12-01T01:25:45.989795-08:00","created_by":"honk"}]}
{"id":"lightning-y95.2","title":"React/Next blog kit components","description":"Ship @nostrstack/blog-kit with Provider + TipButton, Comments, Share components wired to nostrstack API/embed. Accept props for slug, lnaddr, relays; expose minimal CSS vars for theming. Publish as workspace package.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T01:26:12.966984-08:00","updated_at":"2025-12-01T02:10:04.305517-08:00","closed_at":"2025-12-01T02:10:04.305517-08:00","close_reason":"@nostrstack/blog-kit package published with Provider + Tip/Share/Comments React components using embed + nostr share; theming via CSS vars; tests added.","dependencies":[{"issue_id":"lightning-y95.2","depends_on_id":"lightning-y95","type":"parent-child","created_at":"2025-12-01T01:26:12.968223-08:00","created_by":"honk"}]}
{"id":"lightning-y95.3","title":"Next.js layout wiring for tips/comments/share","description":"Add nostrstack widgets into klabo.world post layout: inject tip button, comments thread, share-to-Nostr button keyed by post slug/canonical URL/lnaddr. Ensure hydration-safe (use dynamic import/no-SSR where needed) and minimal style surface. Provide feature flag to disable per post.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T01:26:29.099893-08:00","updated_at":"2025-12-01T01:58:11.499105-08:00","closed_at":"2025-12-01T01:58:11.499105-08:00","close_reason":"klabo.world posts now render nostrstack tip/share/comment widgets with per-post flag + admin/frontmatter fields; env documented.","dependencies":[{"issue_id":"lightning-y95.3","depends_on_id":"lightning-y95","type":"parent-child","created_at":"2025-12-01T01:26:29.102393-08:00","created_by":"honk"}]}
{"id":"lightning-y95.4","title":"Static-site injector CLI","description":"Create a CLI (pnpm nostrstack inject) that adds the embed script + data attributes to static HTML/MDX outputs (Hugo/Jekyll/Contentlayer). Accept tenant ID/API base; idempotent on repeated runs.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T01:26:45.058607-08:00","updated_at":"2025-12-01T02:04:48.352959-08:00","closed_at":"2025-12-01T02:04:48.352959-08:00","close_reason":"CLI available via pnpm nostrstack inject to add @nostrstack/embed script and widgets to static outputs; supports tenant/api base/relays, idempotent markers.","dependencies":[{"issue_id":"lightning-y95.4","depends_on_id":"lightning-y95","type":"parent-child","created_at":"2025-12-01T01:26:45.059587-08:00","created_by":"honk"}]}
{"id":"lightning-y95.5","title":"CDN embed + tenant config endpoint","description":"Host embed bundle on CDN and expose /embed-config?tenant=\u003cid\u003e that returns relays, lnaddr, theme vars. Allow blogs to integrate with a single script tag.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T01:27:00.539667-08:00","updated_at":"2025-12-01T02:14:17.581298-08:00","closed_at":"2025-12-01T02:14:17.581298-08:00","close_reason":"Embed config endpoint available at /embed-config?tenant=... returning relays, ln address, theme, embed CDN URL and api base; env supports CDN/theme overrides; tests added.","dependencies":[{"issue_id":"lightning-y95.5","depends_on_id":"lightning-y95","type":"parent-child","created_at":"2025-12-01T01:27:00.540439-08:00","created_by":"honk"}]}
{"id":"lightning-y95.6","title":"Dev mocks for blog preview","description":"Provide stub lightning provider + fake relays so blog dev preview works without real keys. Toggle via env/flag; ensure tip/comment widgets use mocks when enabled.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T01:27:16.908349-08:00","updated_at":"2025-12-01T02:20:16.291571-08:00","closed_at":"2025-12-01T02:20:16.291571-08:00","close_reason":"Mock dev mode shipped: mock lightning provider, embed-config mock response, embed widgets stub invoices + local comments when base=mock.","dependencies":[{"issue_id":"lightning-y95.6","depends_on_id":"lightning-y95","type":"parent-child","created_at":"2025-12-01T01:27:16.909079-08:00","created_by":"honk"}]}
{"id":"lightning-y95.7","title":"Playwright e2e: klabo.world + nostrstack","description":"Add Playwright flow that boots klabo.world against nostrstack staging (mutinynet): load post, tip, see success; post comment via NIP-07; share to Nostr. Uses stub payer if no staging key provided.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T01:27:45.967413-08:00","updated_at":"2025-12-01T02:35:37.073138-08:00","closed_at":"2025-12-01T02:35:37.073138-08:00","close_reason":"Playwright e2e added in klabo.world covering nostrstack widgets (mock mode) and passing; config/env + client widgets support mock/dev flows.","dependencies":[{"issue_id":"lightning-y95.7","depends_on_id":"lightning-y95","type":"parent-child","created_at":"2025-12-01T01:27:45.968163-08:00","created_by":"honk"}]}
{"id":"lightning-y95.8","title":"Docs: integrate nostrstack into klabo.world","description":"Write a guide in docs/ showing how to add tips, comments, share to the klabo.world Next.js blog. Include env setup (API base, LNbits), code snippets, theming knobs, and troubleshooting.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T01:28:02.39293-08:00","updated_at":"2025-12-01T02:38:29.046362-08:00","closed_at":"2025-12-01T02:38:29.046362-08:00","close_reason":"Docs added (docs/nostrstack-klabo.md) covering env, frontmatter, mock mode, inject CLI, blog kit, testing.","dependencies":[{"issue_id":"lightning-y95.8","depends_on_id":"lightning-y95","type":"parent-child","created_at":"2025-12-01T01:28:02.393862-08:00","created_by":"honk"}]}
{"id":"lightning-ya5","title":"DB: migrations + seeds","description":"Prisma migrations for prod schema + seed scripts per tenant/user","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-28T12:15:24.756635-08:00","updated_at":"2025-11-28T12:25:52.337574-08:00","closed_at":"2025-11-28T12:25:52.337574-08:00","close_reason":"Added Postgres migration SQL + env-configurable seed script and docs/workflows","dependencies":[{"issue_id":"lightning-ya5","depends_on_id":"lightning-2lx","type":"parent-child","created_at":"2025-11-29T07:26:35.198821-08:00","created_by":"honk"}]}
{"id":"lightning-yji","title":"Review npub/nsec toggle component design","description":"Polish the key toggle display (npub/nsec vs hex, copy icon, overflow handling, padding). Ensure profile uses shared component.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-02T11:31:57.318395-08:00","updated_at":"2025-12-02T11:36:31.895973-08:00","closed_at":"2025-12-02T11:36:31.895973-08:00","close_reason":"Closed"}
{"id":"lightning-z1a","title":"Pay + wallet stream status UI + fallback recheck","description":"Show live connection state for pay + wallet streams (Streaming/Retrying/Disconnected) and add a fallback 'Recheck status' button that triggers one-off status check when WS is down.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-03T14:44:17.843541-08:00","updated_at":"2025-12-03T16:41:51.902479-08:00","closed_at":"2025-12-03T16:41:51.902479-08:00","close_reason":"Closed","labels":["frontend","logging","ux"]}
{"id":"lightning-zb2","title":"API HTTPS/WSS optional with safety check","description":"Add optional HTTPS to API (self-signed dev certs), enable WSS directly on API, and provide config/env to run behind TLS ingress in prod. Include check that refuses to start if PUBLIC_ORIGIN is https but API only http.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-03T15:32:26.27869-08:00","updated_at":"2025-12-03T16:37:10.145526-08:00","closed_at":"2025-12-03T16:37:10.145526-08:00","close_reason":"Closed","labels":["backend","security","websockets"]}
{"id":"lightning-zqm","title":"Enable real payments by default in gallery","description":"Always show real invoices UI; remove env toggle banner about VITE_ENABLE_REAL_PAYMENTS; keep real payments enabled.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-03T10:27:25.509501-08:00","updated_at":"2025-12-03T10:27:57.505766-08:00","closed_at":"2025-12-03T10:27:57.505766-08:00","close_reason":"Closed","labels":["gallery"]}
