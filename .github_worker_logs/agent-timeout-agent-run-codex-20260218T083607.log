agent output (stdout):
{"type":"thread.started","thread_id":"019c7189-c2c0-7821-a906-8a941fc4233d"}
{"type":"turn.started"}
{"type":"item.completed","item":{"id":"item_0","type":"reasoning","text":"**Starting CI status check**"}}
{"type":"item.completed","item":{"id":"item_1","type":"agent_message","text":"Iâ€™m taking issue `#188` end-to-end now. First Iâ€™ll check CI/worktree state, then reproduce via logs (`pnpm dev:logs` or `.logs/dev/*.log`), identify the stale Bitcoin status endpoint, patch minimally, and validate."}}
{"type":"item.started","item":{"id":"item_2","type":"command_execution","command":"/usr/bin/bash -lc 'gh issue view 188 --json number,title,body,state,labels,assignees,url'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_3","type":"command_execution","command":"/usr/bin/bash -lc 'git status --short --branch && gh run list --limit 5'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_2","type":"command_execution","command":"/usr/bin/bash -lc 'gh issue view 188 --json number,title,body,state,labels,assignees,url'","aggregated_output":"{\"assignees\":[{\"id\":\"MDQ6VXNlcjI2NDk3Nw==\",\"login\":\"joelklabo\",\"name\":\"klabo\",\"databaseId\":0}],\"body\":\"Captured from running session logs during app start+navigation: mixed port usage indicates possible stale service endpoint configuration. This can silently break status-dependent UI behavior when port 3001 is unavailable.\\n<!-- github_worker-fingerprint: b0767fe6cbb2c34762bb1940395f37d64fefef37 -->\\n\\n\\nSource: github_worker auto UI audit.\\nTracking metadata: https://github.com/joelklabo/nostrstack/issues\\n\",\"labels\":[{\"id\":\"LA_kwDOQgJjFc8AAAACYdeOYA\",\"name\":\"github_worker-in-progress\",\"description\":\"github_worker temporary lock label.\",\"color\":\"fef2c0\"}],\"number\":188,\"state\":\"OPEN\",\"title\":\"[github_worker ui-audit] UI/backend logs still show requests to stale Bitcoin status host/port\",\"url\":\"https://github.com/joelklabo/nostrstack/issues/188\"}\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_3","type":"command_execution","command":"/usr/bin/bash -lc 'git status --short --branch && gh run list --limit 5'","aggregated_output":"completed\tsuccess\tDeploy Social to Azure\tDeploy Social to Azure\tmain\tworkflow_run\t22147607660\t2m50s\t2026-02-18T16:11:58Z\ncompleted\tsuccess\tðŸš€ Deploy API to Azure (Temp)\tðŸš€ Deploy API to Azure (Temp)\tmain\tworkflow_run\t22147607587\t10s\t2026-02-18T16:11:58Z\ncompleted\tsuccess\tðŸš€ Deploy to Azure (Production)\tðŸš€ Deploy to Azure (Production)\tmain\tworkflow_run\t22147607441\t10s\t2026-02-18T16:11:58Z\ncompleted\tsuccess\tCI\tCI\tmain\tpush\t22147527002\t2m14s\t2026-02-18T16:09:42Z\ncompleted\tsuccess\tðŸš€ Deploy to Azure (Production)\tðŸš€ Deploy to Azure (Production)\tmain\tworkflow_run\t22147127209\t11s\t2026-02-18T15:58:49Z\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_4","type":"reasoning","text":"**Inspecting bitcoin status endpoint**"}}
{"type":"item.completed","item":{"id":"item_5","type":"agent_message","text":"CI is green and issue `#188` is open with `github_worker-in-progress`. Iâ€™m now tracing where Bitcoin status endpoint/port is defined and then reproducing with dev logs."}}
{"type":"item.started","item":{"id":"item_6","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"dev:logs|dev:ps|dev:stop|NOSTRDEV_AGENT|NOSTRDEV_MANAGED_SESSION\" package.json pnpm-workspace.yaml **/package.json -S'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_7","type":"command_execution","command":"/usr/bin/bash -lc \"rg -n \\\"3001|bitcoin status|bitcoin-status|btc status|status host|BITCOIN|bitcoin\\\" -S --glob '\"'!node_modules'\"'\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_6","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"dev:logs|dev:ps|dev:stop|NOSTRDEV_AGENT|NOSTRDEV_MANAGED_SESSION\" package.json pnpm-workspace.yaml **/package.json -S'","aggregated_output":"rg: **/package.json: No such file or directory (os error 2)\npackage.json:46:    \"dev:logs\": \"./scripts/dev/logs.sh\",\npackage.json:47:    \"dev:ps\": \"./scripts/dev/dev-ps.sh\",\npackage.json:48:    \"dev:stop\": \"./scripts/dev/dev-stop.sh\",\npackage.json:49:    \"dev:stop:all\": \"./scripts/dev/dev-stop.sh --all\",\n","exit_code":2,"status":"failed"}}
{"type":"item.completed","item":{"id":"item_7","type":"command_execution","command":"/usr/bin/bash -lc \"rg -n \\\"3001|bitcoin status|bitcoin-status|btc status|status host|BITCOIN|bitcoin\\\" -S --glob '\"'!node_modules'\"'\"","aggregated_output":"Total output lines: 503\n\n.env.example:3:PORT=3001\n.env.example:5:PUBLIC_ORIGIN=http://localhost:3001\n.env.example:28:VITE_API_BASE_URL=http://localhost:3001\n.env.example:29:VITE_NOSTRSTACK_HOST=localhost:3001\nDEPLOY.md:28:   - `BITCOIN_NETWORK`: `regtest`, `mutinynet`, or `mainnet`.\nDEPLOY.md:29:   - `TELEMETRY_PROVIDER`: `bitcoind`, `esplora`, or `mock` (use `esplora` for mutinynet/mainnet).\nDEPLOY.md:31:   - `BITCOIND_RPC_URL`: Required when provider is `bitcoind`.\nDEPLOY.md:34:   - `PORT`: Port to listen on (default 3001).\nDEPLOY.md:48:   - Otherwise, it defaults to `http://localhost:3001`.\napi.log:16:API listening on https://0.0.0.0:3001\napi.log:17:[15:41:56.621] INFO (92544): Server listening at https://0.0.0.0:3001\nsearch-status-snapshot.md:36:          - searchbox \"Search query\" [ref=e600]: bitcoin\nsearch-status-snapshot.md:38:        - generic [ref=e602]: Try \"bitcoin\", \"nostr\", or an npub1...\nscripts/qa-ui-audit.mjs:175:  await query.fill('bitcoin').catch(() => {});\nscripts/README.md:41:- `NOSTRDEV_AGENT_SLOT` selects a specific session slot (`0` maps to `3001/4173`).\napps/social/qa-ui-audit.mjs:117:  await query.fill('bitcoin');\napps/social/vite.config.ts:10:  const apiProxyTarget = process.env.VITE_API_PROXY_TARGET || 'http://localhost:3001';\ncspell.json:270:    \"bitcoind\",\nplaywright-search-snapshot.md:32:        - generic [ref=e376]: Try \"bitcoin\", \"nostr\", or an npub1...\napps/social/README.md:28:Runs at `https://localhost:4173`. Connects to `https://localhost:3001` (API) by default.\napps/social/README.md:59:- `VITE_API_BASE_URL`: URL of the NostrStack API (default: `http://localhost:3001`).\nenv.sample:6:BITCOIN_NETWORK=regtest\nenv.sample:7:TELEMETRY_PROVIDER=bitcoind\nenv.sample:9:# BITCOIND_RPC_URL=\nenv.sample:12:PUBLIC_ORIGIN=http://localhost:3001\nenv.sample:15:PORT=3001\nenv.sample:32:VITE_API_BASE_URL=http://localhost:3001\nenv.sample:33:VITE_NOSTRSTACK_HOST=localhost:3001\nissue122-verify.mjs:8:  if (/localhost:3002/i.test(txt) || /bitcoin.status/i.test(txt) || msg.type() === 'error') {\nissue122-verify.mjs:15:  if (url.includes('/api/bitcoin/status') || url.includes('localhost:3002')) {\nREADME.md:60:- API: `GET /api/nostr/event/:id` on the API server (local dev: `https://localhost:3001/api/nostr/event/<id>`).\nREADME.md:78:  pnpm demo:regtest   # colima+docker required; API :3001, social :4173\nREADME.md:83:- Use `pnpm dev:network -- --network regtest|mutinynet|mainnet` to load `.env.network.*` profiles (sets BITCOIN_NETWORK/VITE_NETWORK + telemetry provider defaults).\nCLAUDE.md:19:pnpm demo                    # API :3001, social :4173\nCLAUDE.md:92:- **Local**: SQLite dev DB, regtest LNbits; social :4173, docs :4174, API :3001\nCLAUDE.md:101:- `BITCOIN_NETWORK`: `regtest`, `mutinynet`, or `mainnet`\nCLAUDE.md:102:- `TELEMETRY_PROVIDER`: `bitcoind`, `esplora`, or `mock`\n.env.network.regtest:2:BITCOIN_NETWORK=regtest\n.env.network.regtest:4:TELEMETRY_PROVIDER=bitcoind\nsearch-page-snapshot.md:36:          - searchbox \"Search query\" [active] [ref=e46]: bitcoin\nsearch-page-snapshot.md:38:        - generic [ref=e48]: Try \"bitcoin\", \"nostr\", or an npub1...\n.env.network.mainnet:2:BITCOIN_NETWORK=mainnet\npackage.json:7:    \"bitcoin\",\nCONTRIBUTING.md:29:  This starts both the API (`https://localhost:3001`) and the Social app (`https://localhost:4173`).\nMakefile:7:DEV_ORIGIN?=https://localhost:3001\ndocs/commands.md:17:  Start local regtest demo flow (`API :3001`, `social :4173`).\nscripts/regtest/status.sh:8:btc() { $COMPOSE exec -T bitcoind bitcoin-cli -regtest -rpcuser=bitcoin -rpcpassword=bitcoin \"$@\"; }\nscripts/regtest/status.sh:17:  $COMPOSE exec -T \"$svc\" lncli --network=regtest --lnddir=/data --rpcserver=\"$svc:$port\" --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon --tlscertpath=/data/tls.cert \"$@\"\napps/social/tests/reaction.spec.ts:12:    await page.route('**/api/bitcoin/status', async (route) => {\ndocs/testing-setup-headless.md:199:WebSocket connection to 'wss://localhost:3001/ws/telemetry' failed\nscripts/regtest/bootstrap-lnbits.sh:5:# Bring up regtest bitcoind + two LND nodes + LNbits wired to lnd-merchant.\nscripts/regtest/bootstrap-lnbits.sh:12:bitcoin_cli() {\nscripts/regtest/bootstrap-lnbits.sh:13:  $COMPOSE exec -T bitcoind bitcoin-cli -regtest -rpcuser=bitcoin -rpcpassword=bitcoin \"$@\"\nscripts/regtest/bootstrap-lnbits.sh:16:bitcoin_cli_miner() {\nscripts/regtest/bootstrap-lnbits.sh:17:  bitcoin_cli -rpcwallet=miner \"$@\"\nscripts/regtest/bootstrap-lnbits.sh:38:  if $COMPOSE exec -T \"$svc\" test -f /data/data/chain/bitcoin/regtest/admin.macaroon; then\nscripts/regtest/bootstrap-lnbits.sh:55:  if $COMPOSE exec -T \"$svc\" test -f /data/data/chain/bitcoin/regtest/admin.macaroon; then\nscripts/regtest/bootstrap-lnbits.sh:68:  until $COMPOSE exec -T \"$svc\" lncli --network=regtest --lnddir=/data --rpcserver=\"$svc:$(rpc_port \"$svc\")\" --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon --tlscertpath=/data/tls.cert getinfo >/dev/null 2>&1; do\nscripts/regtest/bootstrap-lnbits.sh:89:wait_for_bitcoind() {\nscripts/regtest/bootstrap-lnbits.sh:90:  echo \"[+] Waiting for bitcoind...\"\nscripts/regtest/bootstrap-lnbits.sh:91:  until bitcoin_cli getblockchaininfo >/dev/null 2>&1; do\nscripts/regtest/bootstrap-lnbits.sh:98:  # Create if missing, then load (bitcoind may start with wallet unloaded after restarts).\nscripts/regtest/bootstrap-lnbits.sh:99:  bitcoin_cli createwallet miner >/dev/null 2>&1 || true\nscripts/regtest/bootstrap-lnbits.sh:100:  bitcoin_cli loadwallet miner >/dev/null 2>&1 || true\nscripts/regtest/bootstrap-lnbits.sh:101:  bitcoin_cli_miner getwalletinfo >/dev/null 2>&1 || true\nscripts/regtest/bootstrap-lnbits.sh:106:  height=$(bitcoin_cli getblockcount)\nscripts/regtest/bootstrap-lnbits.sh:118:  addr=$(bitcoin_cli_miner getnewaddress)\nscripts/regtest/bootstrap-lnbits.sh:119:  bitcoin_cli_miner generatetoaddress \"$n\" \"$addr\" >/dev/null\nscripts/regtest/bootstrap-lnbits.sh:124:  balance=$($COMPOSE exec -T lnd-payer lncli --network=regtest --lnddir=/data --rpcserver=lnd-payer:$(rpc_port lnd-payer) --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon --tlscertpath=/data/tls.cert walletbalance | jq -r '.total_balance | tonumber')\nscripts/regtest/bootstrap-lnbits.sh:131:  addr=$($COMPOSE exec -T lnd-payer lncli --network=regtest --lnddir=/data --rpcserver=lnd-payer:$(rpc_port lnd-payer) --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon --tlscertpath=/data/tls.cert newaddress p2wkh | jq -r '.address')\nscripts/regtest/bootstrap-lnbits.sh:132:  bitcoin_cli_miner sendtoaddress \"$addr\" 1 >/dev/null\nscripts/regtest/bootstrap-lnbits.sh:138:  $COMPOSE exec -T \"$svc\" lncli --network=regtest --lnddir=/data --rpcserver=\"$svc:$(rpc_port \"$svc\")\" --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon --tlscertpath=/data/tls.cert getinfo | jq -r '.identity_pubkey'\nscripts/regtest/bootstrap-lnbits.sh:145:  $COMPOSE exec -T lnd-payer lncli --network=regtest --lnddir=/data --rpcserver=lnd-payer:$(rpc_port lnd-payer) --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon --tlscertpath=/data/tls.cert connect \"${dest_pub}@lnd-merchant:9735\" >/dev/null 2>&1 || true\nscripts/regtest/bootstrap-lnbits.sh:153:  if $COMPOSE exec -T lnd-payer lncli --network=regtest --lnddir=/data --rpcserver=lnd-payer:$(rpc_port lnd-payer) --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon --tlscertpath=/data/tls.cert listchannels | jq -e --arg pk \"$dest_pub\" '.channels[] | select(.remote_pubkey==$pk)' >/dev/null; then\nscripts/regtest/bootstrap-lnbits.sh:157:  $COMPOSE exec -T lnd-payer lncli --network=regtest --lnddir=/data --rpcserver=lnd-payer:$(rpc_port lnd-payer) --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon --tlscertpath=/data/tls.cert openchannel --node_key=\"$dest_pub\" --local_amt=1000000 --sat_per_vbyte=1 >/dev/null\nscripts/regtest/bootstrap-lnbits.sh:180:  $COMPOSE exec -T \"$svc\" lncli --network=regtest --lnddir=/data --rpcserver=\"$svc:$(rpc_port \"$svc\")\" --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon --tlscertpath=/data/tls.cert \"$@\"\nscripts/regtest/bootstrap-lnbits.sh:202:    btcHeight=$(bitcoin_cli getblockcount 2>/dev/null || echo 0)\nscripts/regtest/bootstrap-lnbits.sh:209:      echo \"[=] LND synced (bitcoind height ${btcHeight}, payer ${payerH}, merchant ${merchantH})\"\nscripts/regtest/bootstrap-lnbits.sh:213:    # If bitcoind is behind either node's known height, mine to catch up quickly.\nscripts/regtest/bootstrap-lnbits.sh:222:      echo \"[+] Mining ${chunk} blocks to catch up (bitcoind ${btcHeight} -> ${targetH}; payer ${payerH} synced=${payerSynced}, merchant ${merchantH} synced=${merchantSynced})\"\nscripts/regtest/bootstrap-lnbits.sh:225:      echo \"[+] Waiting for LND sync (bitcoind ${btcHeight}; payer ${payerH} synced=${payerSynced}, merchant ${merchantH} synced=${merchantSynced})\"\nscripts/regtest/bootstrap-lnbits.sh:232:  echo \"bitcoind: $(bitcoin_cli getblockchaininfo 2>/dev/null || true)\"\nscripts/regtest/bootstrap-lnbits.sh:289:  wait_for_bitcoind\ndocs/payments.md:55:- For a local demo, run `pnpm demo:regtest` (API on :3001, gallery on :4173).\napps/social/tests/telemetry-reconnect.spec.ts:32:      urlTried: 'http://localhost:3001'\napps/social/tests/telemetry-reconnect.spec.ts:83:  await page.route('**/api/bitcoin/status', async (route) => {\napps/docs/src/App.tsx:131:  const apiBase = import.meta.env.VITE_API_BASE_URL ?? 'http://localhost:3001';\napps/social/tests/demo-flows.spec.ts:58:const MOCK_BITCOIN_STATUS = {\napps/social/tests/demo-flows.spec.ts:86:  await page.route('**/api/bitcoin/status', (route) => {\napps/social/tests/demo-flows.spec.ts:90:      body: JSON.stringify(MOCK_BITCOIN_STATUS)\napps/social/tests/demo-flows.spec.ts:97:    '/api/bitcoin/status',\ndocs/testing.md:14:- Playwright: `pnpm --filter gallery e2e tests/bitcoin-network-status.spec.ts` (or full suite with `pnpm --filter gallery e2e`).\ndocs/testing.md:29:- If `pnpm dev:logs` fails with port conflicts (3001/4173), rerun with `FORCE_KILL_PORTS=1 pnpm dev:logs`.\ndocs/testing.md:61:   This starts the API (port 3001) and Gallery (port 4173).\nscripts/demo/run.sh:16:API_PORT=\"${API_PORT:-3001}\"\nscripts/demo/run.sh:75:    BITCOIN_NETWORK=\"$MODE\" \\\nscripts/demo/run.sh:102:    log \"Bringing up regtest lightning stack (bitcoind, lnd-merchant, lnd-payer, LNbits)...\"\ndocs/personal-site-kit.md:103:| `baseUrl`        | API base URL for telemetry  | `https://localhost:3001` |\ndocs/mcp-setup.md:59:- API: http://localhost:3001\ndocs/mcp-scripts/invoice-flow.md:22:     --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon \\\napps/api/openapi.json:103:    \"/bitcoin/status\": {\napps/api/openapi.json:112:    \"/api/bitcoin/status\": {\ndocs/local-demo.md:4:- **Regtest (real settlement)** â€“ bitcoind + two LND nodes + LNbits wired to the merchant node.\ndocs/local-demo.md:12:Profiles live in `.env.network.<name>` and set `BITCOIN_NETWORK`, `VITE_NETWORK`, and telemetry defaults. For mutinynet/mainnet, set `LN_BITS_URL` and `LN_BITS_API_KEY` first (and `MAINNET_DEMO_OK=true` for mainnet). If you override telemetry, set `TELEMETRY_PROVIDER=esplora` with a matching `TELEMETRY_ESPLORA_URL` (optionally restrict with `TELEMETRY_HOST_ALLOWLIST`).\ndocs/local-demo.md:36:   PUBLIC_ORIGIN=http://localhost:3001 \\\ndocs/local-demo.md:42:   VITE_API_BASE_URL=http://localhost:3001 \\\ndocs/local-demo.md:43:   VITE_NOSTRSTACK_HOST=localhost:3001 \\\ndocs/local-demo.md:51:   - If the wallet is empty, use **Fund regtest wallet** or call `curl -X POST http://localhost:3001/regtest/fund`.\ndocs/local-demo.md:57:     --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon \\\ndocs/local-demo.md:68:curl -X POST http://localhost:3001/regtest/fund\ndocs/local-demo.md:93:   PUBLIC_ORIGIN=http://localhost:3001 \\\ndocs/local-demo.md:102:Mutinynet/mainnet: swap `LN_BITS_URL/API_KEY` to your staging/prod LNbits and keep `LIGHTNING_PROVIDER=lnbits`. Use `TELEMETRY_PROVIDER=esplora` with `TELEMETRY_ESPLORA_URL` to pull chain data when bitcoind RPC isn't available.\ndocs/local-demo.md:117:PUBLIC_ORIGIN=http://localhost:3001 \\\ndocs/local-demo.md:124:VITE_API_BASE_URL=http://localhost:3001 \\\ndocs/local-demo.md:125:VITE_NOSTRSTACK_HOST=localhost:3001 \\\napps/social/src/gallery.css:38:  --ns-color-bitcoin: var(--ns-color-bitcoin-default);\napps/social/src/gallery.css:39:  --ns-color-bitcoin-glow: color-mix(\napps/social/src/gallery.css:41:    var(--ns-color-bitcoin-accent, var(--ns-color-bitcoin-default)) 40%,\napps/social/src/gallery.css:44:  --ns-color-bitcoin-subtle: var(\napps/social/src/gallery.css:45:    --ns-color-bitcoin-subtle,\napps/social/src/gallery.css:46:    color-mix(in oklch, var(--ns-color-bitcoin-default) 8%, transparent)\napps/social/src/gallery.css:56:  /* Zap colors - violet-tinted to distinguish from bitcoin */\napps/social/src/gallery.css:60:  /* Semantic tip/lightning colors - use primary, not bitcoin */\napps/social/src/gallery.css:913:  border-color: color-mix(in oklch, var(--ns-color-bitcoin, #f7931a) 30%, transparent);\napps/social/src/gallery.css:915:    0 0 16px -4px color-mix(in oklch, var(--ns-color-bitcoin, #f7931a) 15%, transparent),\napps/social/src/gallery.css:933:    var(--ns-color-bitcoin, #f7931a) 0%,\napps/social/src/gallery.css:934:    color-mix(in oklch, var(--ns-color-bitcoin, #f7931a) 80%, var(--ns-color-warning-default)) 100%\napps/social/src/gallery.css:1625:/* ===== BITCOIN NODE CARD ===== */\napps/social/src/gallery.css:1651:  color: var(--ns-color-bitcoin-default);\napps/social/src/gallery.css:2164:  color: var(--ns-color-bitcoin-500);\napps/social/src/gallery.css:3663:    /* Sats are bitcoin data, so keep bitcoin glow for actual sat amounts */\napps/social/src/gallery.css:3664:    text-shadow: 0 0 12px var(--ns-color-bitcoin-glow);\napps/social/src/gallery.css:3687:  background: var(--ns-color-bitcoin);\napps/social/src/gallery.css:3697:    color: var(--ns-color-bitcoin);\napps/social/src/gallery.css:3698:    text-shadow: 0 0 20px var(--ns-color-bitcoin-glow);\napps/social/src/gallery.css:3723:/* ===== ENHANCED BITCOIN NODE CARD ===== */\napps/social/src/gallery.css:3724:.ns-node-card--bitcoin {\napps/social/src/gallery.css:3730:    color-mix(in oklch, var(--ns-color-bitcoin) 3%, var(--ns-color-bg-subtle)) 100%\napps/social/src/gallery.css:3732:  border-color: color-mix(in oklch, var(--ns-color-bitcoin) 20%, var(--ns-color-border-default));\napps/social/src/gallery.css:3741:  background: var(--ns-color-bitcoin);\napps/social/src/gallery.css:3744:.ns-node-icon--bitcoin {\napps/social/src/gallery.css:3745:  color: var(--ns-color-bitcoin);\napps/social/src/gallery.css:3809:.ns-stat-value--bitcoin {\napps/social/src/gallery.css:3810:  color: var(--ns-color-bitcoin);\napps/social/src/gallery.css:3961:.lightning-card--bitcoin {\napps/social/src/gallery.css:4065:.action-btn--bitcoin {\napps/social/src/gallery.css:4074:.action-btn--bitcoin:hover:not(:disabled) {\napps/social/src/gallery.css:4078:.action-btn--bitcoin.is-success {\napps/social/src/gallery.css:4433:    color: var(--ns-color-bitcoin);\napps/social/src/utils/api-base.test.tsx:34:      const url = resolveRuntimeWsUrl('http://localhost:3001', '/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:35:      expect(url).toBe('ws://localhost:3001/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:52:      const url = resolveRuntimeWsUrl('ws://localhost:3001', '/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:53:      expect(url).toBe('wss://localhost:3001/ws/telemetry');\ndocs/lightning-observability.md:10:- `bitcoin_status_requests_total{result,source}` (counter): count of `/api/bitcoin/status` responses by result (`ok`/`error`) and telemetry source (`bitcoind`/`esplora`/`mock`).\ndocs/lightning-observability.md:11:- `bitcoin_status_failures_total{reason}` (counter): failure reasons for bitcoin status (`telemetry_error`, `lnbits_config`, `lnbits_unreachable`, `handler_exception`).\ndocs/lightning-observability.md:12:- `bitcoin_status_fetch_duration_seconds{result,source}` (histogram): status handler latency by result and source.\ndocs/demo-modes.md:7:- Network badge shows configured network (BITCOIN_NETWORK/VITE_NETWORK) plus telemetry source (bitcoind/esplora/mock) with a mainnet warning.\ndocs/demo-modes.md:8:- Status card reads `/api/bitcoin/status` for tip height, sync/IBD, mempool stats, and Lightning provider health.\ndocs/find-friend-tip.md:56:VITE_API_BASE_URL=http://localhost:3001\ndocs/ux/bitcoin-network-status.md:14:## Data contract (from /api/bitcoin/status)\ndocs/ux/bitcoin-network-status.md:17:- source: telemetry provider (bitcoind | esplora | mock).\ndocs/ux/bitcoin-network-status.md:39:  - Body: \"Real bitcoin and Lightning payments are enabled. Verify wallet and limits before sending.\"\ndocs/architecture.md:22:- API exposes `/api/bitcoin/status` for configured network, source (`bitcoind`/`esplora`/`mock`), sync/IBD, mempool stats, and Lightning provider health.\ndocs/architecture.md:31:- **Local**: SQLite dev DB, regtest LNbits/LND via `scripts/regtest-lndbits.sh`; social app on 4173, API 3001.\napps/social/tests/bitcoin-network-status.spec.ts:8:const SCREENSHOT_DIR = path.join(ROOT_DIR, 'docs', 'screenshots', 'bitcoin-network-status');\napps/social/tests/bitcoin-network-status.spec.ts:31:  await page.route('**/api/bitcoin/status', async (route) => {\napps/social/tests/bitcoin-network-status.spec.ts:118:    await page.route('**/api/bitcoin/status', async (route) => {\ndocs/dev-logs-and-ui-checks.md:5:- `make dev` also brings up the regtest stack (bitcoind + lnd-merchant + lnd-payer + LNbits) and auto-exports the LNbits admin key and first wallet id (`LN_BITS_API_KEY`, `VITE_LNBITS_ADMIN_KEY`, `VITE_LNBITS_WALLET_ID`) so the wallet panel works out of the box.\ndocs/issues/regtest-pay-env-mismatch.md:22:- Option A: In `scripts/dev/logs.sh`, mirror the `VITE_ENABLE_*` defaults into `ENABLE_REGTEST_PAY` and `ENABLE_REGTEST_FUND` when `BITCOIN_NETWORK=regtest`.\nscripts/dev/launch-local-demo.sh:23:: \"${PORT:=3001}\"\nscripts/dev/launch-local-demo.sh:28:: \"${VITE_API_BASE_URL:=http://localhost:3001}\"\nscripts/dev/session-manager.sh:8:NOSTRDEV_BASE_API_PORT=\"${NOSTRDEV_BASE_API_PORT:-3001}\"\nscripts/dev/network-switch.sh:50:export BITCOIN_NETWORK=\"${BITCOIN_NETWORK:-$NETWORK}\"\ndocs/architecture/bitcoin-telemetry-provider.md:4:Define a stable telemetry summary contract so the API and UI can swap between bitcoind RPC and external explorer providers without changing client code.\ndocs/architecture/bitcoin-telemetry-provider.md:14:The API uses this shape for `/api/telemetry/summary` and `/api/bitcoin/status` telemetry payloads:\ndocs/architecture/bitcoin-telemetry-provider.md:38:Related `/api/bitcoin/status` fields:\ndocs/architecture/bitcoin-telemetry-provider.md:39:- `source`: provider id (`bitcoind`, `esplora`, `mock`).\ndocs/architecture/bitcoin-telemetry-provider.md:43:| TelemetrySummary field | bitcoind RPC | Esplora/mempool HTTP |\ndocs/architecture/bitcoin-telemetry-provider.md:73:- When a provider fails and no cache is available, return `502 bitcoin_status_unavailable` (do not invent telemetry values).\nscripts/dev/logs.sh:45:export BITCOIN_NETWORK=\"${BITCOIN_NETWORK:-regtest}\"\nscripts/dev/logs.sh:46:export VITE_NETWORK=\"${VITE_NETWORK:-$BITCOIN_NETWORK}\"\nscripts/dev/logs.sh:48:if [[ \"$BITCOIN_NETWORK\" == \"regtest\" ]]; then\nscripts/dev/logs.sh:58:export PORT=\"${PORT:-3001}\"\nscripts/dev/logs.sh:97:# Start regtest stack (bitcoind + LND + LNbits) and export LNbits admin key for dev\nscripts/dev/logs.sh:98:if [[ \"$BITCOIN_NETWORK\" == \"regtest\" ]]; then\nscripts/dev/logs.sh:132:  echo \"ðŸŒ BITCOIN_NETWORK=$BITCOIN_NETWORK; skipping regtest stack startup\"\nscripts/dev/launch-honkbox.sh:10:API_PORT=3001\nscripts/dev/launch-honkbox.sh:18:BITCOIND_RPC=\"http://bitcoin:bitcoin@localhost:18443\"\nscripts/dev/launch-honkbox.sh:58:  for container in regtest-bitcoind-1 regtest-lnbits-1 nostrstack-postgres-1; do\nscripts/dev/launch-honkbox.sh:64:  if ! curl -s -u bitcoin:bitcoin -d '{\"jsonrpc\":\"1.0\",\"method\":\"getblockcount\"}' -H 'Content-Type: application/json' http://localhost:18443 | grep -q result; â€¦14295 tokens truncatedâ€¦n    --ns-color-cyan-700: oklch(0.48 0.12 210);\\n    --ns-color-cyan-800: oklch(0.40 0.1 210);\\n    --ns-color-cyan-900: oklch(0.32 0.08 210);\\n    --ns-color-danger-default: oklch(0.72 0.12 25);\\n    --ns-color-danger-hover: oklch(0.82 0.08 25);\\n    --ns-color-danger-muted: oklch(0.40 0.10 25);\\n    --ns-color-danger-subtle: oklch(0.32 0.08 25);\\n    --ns-color-danger-text: oklch(0.82 0.08 25);\\n    --ns-color-dark-base: oklch(0.12 0.015 280);\\n    --ns-color-dark-border: oklch(0.28 0.025 280 / 0.5);\\n    --ns-color-dark-borderStrong: oklch(0.35 0.03 280 / 0.6);\\n    --ns-color-dark-elevated: oklch(0.16 0.018 280);\\n    --ns-color-dark-highlight: oklch(0.25 0.022 280);\\n    --ns-color-dark-muted: oklch(0.30 0.02 280);\\n    --ns-color-dark-raised: oklch(0.20 0.02 280);\\n    --ns-color-focus-ring: oklch(0.68 0.15 185 / 0.5);\\n    --ns-color-green-100: oklch(0.93 0.05 155);\\n    --ns-color-green-200: oklch(0.88 0.1 155);\\n    --ns-color-green-300: oklch(0.78 0.15 155);\\n    --ns-color-green-400: oklch(0.70 0.18 155);\\n    --ns-color-green-500: oklch(0.62 0.19 155);\\n    --ns-color-green-50: oklch(0.97 0.02 155);\\n    --ns-color-green-600: oklch(0.55 0.18 155);\\n    --ns-color-green-700: oklch(0.48 0.16 155);\\n    --ns-color-green-800: oklch(0.40 0.14 155);\\n    --ns-color-green-900: oklch(0.32 0.12 155);\\n    --ns-color-indigo-100: oklch(0.93 0.05 280);\\n    --ns-color-indigo-200: oklch(0.86 0.1 280);\\n    --ns-color-indigo-300: oklch(0.76 0.15 280);\\n    --ns-color-indigo-400: oklch(0.66 0.19 280);\\n    --ns-color-indigo-500: oklch(0.55 0.22 280);\\n    --ns-color-indigo-50: oklch(0.97 0.02 280);\\n    --ns-color-indigo-600: oklch(0.48 0.22 280);\\n    --ns-color-indigo-700: oklch(0.40 0.2 280);\\n    --ns-color-indigo-800: oklch(0.32 0.17 280);\\n    --ns-color-indigo-900: oklch(0.25 0.14 280);\\n    --ns-color-info-default: oklch(0.72 0.14 210);\\n    --ns-color-info-hover: oklch(0.80 0.12 210);\\n    --ns-color-info-muted: oklch(0.40 0.1 210);\\n    --ns-color-info-subtle: oklch(0.32 0.08 210);\\n    --ns-color-info-text: oklch(0.80 0.12 210);\\n    --ns-color-interactive-active: oklch(0.86 0.12 185);\\n    --ns-color-interactive-default: oklch(0.72 0.18 185);\\n    --ns-color-interactive-disabled: oklch(0.45 0.012 280);\\n    --ns-color-interactive-hover: oklch(0.78 0.16 185);\\n    --ns-color-neutral-0: oklch(0.995 0.002 280);\\n    --ns-color-neutral-1000: oklch(0.08 0.015 280);\\n    --ns-color-neutral-100: oklch(0.97 0.006 280);\\n    --ns-color-neutral-200: oklch(0.92 0.008 280);\\n    --ns-color-neutral-300: oklch(0.87 0.01 280);\\n    --ns-color-neutral-400: oklch(0.7 0.012 280);\\n    --ns-color-neutral-500: oklch(0.55 0.012 280);\\n    --ns-color-neutral-50: oklch(0.985 0.004 280);\\n    --ns-color-neutral-600: oklch(0.45 0.012 280);\\n    --ns-color-neutral-700: oklch(0.35 0.015 280);\\n    --ns-color-neutral-800: oklch(0.25 0.018 280);\\n    --ns-color-neutral-900: oklch(0.18 0.02 280);\\n    --ns-color-neutral-950: oklch(0.12 0.02 280);\\n    --ns-color-overlay-default: oklch(0 0 0 / 0.7);\\n    --ns-color-overlay-strong: oklch(0 0 0 / 0.85);\\n    --ns-color-primary-active: oklch(0.86 0.12 185);\\n    --ns-color-primary-default: oklch(0.72 0.18 185);\\n    --ns-color-primary-hover: oklch(0.78 0.16 185);\\n    --ns-color-primary-muted: oklch(0.38 0.12 185);\\n    --ns-color-primary-subtle: oklch(0.30 0.10 185);\\n    --ns-color-primary-text: oklch(0.18 0.02 280);\\n    --ns-color-red-100: oklch(0.94 0.025 25);\\n    --ns-color-red-200: oklch(0.90 0.05 25);\\n    --ns-color-red-300: oklch(0.82 0.08 25);\\n    --ns-color-red-400: oklch(0.72 0.12 25);\\n    --ns-color-red-500: oklch(0.62 0.14 25);\\n    --ns-color-red-50: oklch(0.97 0.01 25);\\n    --ns-color-red-600: oklch(0.55 0.14 25);\\n    --ns-color-red-700: oklch(0.48 0.12 25);\\n    --ns-color-red-800: oklch(0.40 0.10 25);\\n    --ns-color-red-900: oklch(0.32 0.08 25);\\n    --ns-color-spark-400: oklch(0.72 0.16 25);\\n    --ns-color-spark-500: oklch(0.65 0.18 25);\\n    --ns-color-spark-600: oklch(0.58 0.18 25);\\n    --ns-color-static-black: #000000;\\n    --ns-color-static-transparent: transparent;\\n    --ns-color-static-white: #ffffff;\\n    --ns-color-success-default: oklch(0.70 0.18 155);\\n    --ns-color-success-hover: oklch(0.78 0.15 155);\\n    --ns-color-success-muted: oklch(0.40 0.14 155);\\n    --ns-color-success-subtle: oklch(0.32 0.12 155);\\n    --ns-color-success-text: oklch(0.78 0.15 155);\\n    --ns-color-surface-default: oklch(0.18 0.02 280);\\n    --ns-color-surface-overlay: oklch(0.15 0.02 280 / 0.95);\\n    --ns-color-surface-raised: oklch(0.25 0.018 280);\\n    --ns-color-surface-sunken: oklch(0.12 0.02 280);\\n    --ns-color-teal-100: oklch(0.93 0.06 185);\\n    --ns-color-teal-200: oklch(0.86 0.12 185);\\n    --ns-color-teal-300: oklch(0.78 0.16 185);\\n    --ns-color-teal-400: oklch(0.72 0.18 185);\\n    --ns-color-teal-500: oklch(0.65 0.18 185);\\n    --ns-color-teal-50: oklch(0.97 0.03 185);\\n    --ns-color-teal-600: oklch(0.55 0.16 185);\\n    --ns-color-teal-700: oklch(0.46 0.14 185);\\n    --ns-color-teal-800: oklch(0.38 0.12 185);\\n    --ns-color-teal-900: oklch(0.30 0.10 185);\\n    --ns-color-teal-950: oklch(0.22 0.08 185);\\n    --ns-color-teal-glow: oklch(0.72 0.18 185 / 0.5);\\n    --ns-color-text-default: oklch(0.985 0.004 280);\\n    --ns-color-text-disabled: oklch(0.45 0.012 280);\\n    --ns-color-text-inverse: oklch(0.18 0.02 280);\\n    --ns-color-text-link: oklch(0.72 0.18 185);\\n    --ns-color-text-linkHover: oklch(0.78 0.16 185);\\n    --ns-color-text-muted: oklch(0.7 0.012 280);\\n    --ns-color-text-subtle: oklch(0.55 0.012 280);\\n    --ns-color-violet-100: oklch(0.93 0.06 300);\\n    --ns-color-violet-200: oklch(0.86 0.12 300);\\n    --ns-color-violet-300: oklch(0.78 0.18 300);\\n    --ns-color-violet-400: oklch(0.70 0.22 300);\\n    --ns-color-violet-500: oklch(0.62 0.24 300);\\n    --ns-color-violet-50: oklch(0.97 0.03 300);\\n    --ns-color-violet-600: oklch(0.54 0.24 300);\\n    --ns-color-violet-700: oklch(0.45 0.22 300);\\n    --ns-color-violet-800: oklch(0.36 0.18 300);\\n    --ns-color-violet-900: oklch(0.28 0.15 300);\\n    --ns-color-violet-glow: oklch(0.70 0.24 300 / 0.5);\\n    --ns-color-warning-default: oklch(0.78 0.15 95);\\n    --ns-color-warning-hover: oklch(0.82 0.14 95);\\n    --ns-color-warning-muted: oklch(0.45 0.11 95);\\n    --ns-color-warning-subtle: oklch(0.35 0.09 95);\\n    --ns-color-warning-text: oklch(0.82 0.14 95);\\n    --ns-color-zap-default: oklch(0.70 0.22 300);\\n    --ns-color-zap-glow: oklch(0.66 0.18 290 / 0.5);\\n    --ns-color-zap-hover: oklch(0.78 0.18 300);\\n    --ns-color-zap-muted: oklch(0.36 0.18 300);\\n    --ns-color-zap-subtle: oklch(0.28 0.15 300);\\n    --ns-color-zap-text: oklch(0.78 0.18 300);\\n    --ns-shadow-2xl: 0 25px 50px -12px oklch(0 0 0 / 0.5);\\n    --ns-shadow-inner: inset 0 2px 4px 0 oklch(0 0 0 / 0.2);\\n    --ns-shadow-lg: 0 10px 15px -3px oklch(0 0 0 / 0.35), 0 4px 6px -4px oklch(0 0 0 / 0.3);\\n    --ns-shadow-md: 0 4px 6px -1px oklch(0 0 0 / 0.3), 0 2px 4px -2px oklch(0 0 0 / 0.25);\\n    --ns-shadow-none: none;\\n    --ns-shadow-sm: 0 1px 3px 0 oklch(0 0 0 / 0.25), 0 1px 2px -1px oklch(0 0 0 / 0.2);\\n    --ns-shadow-xl: 0 20px 25px -5px oklch(0 0 0 / 0.4), 0 8px 10px -6px oklch(0 0 0 / 0.35);\\n    --ns-shadow-xs: 0 1px 2px 0 oklch(0 0 0 / 0.15);\\n  }\\n}\\n\\n/* Dark theme - Explicit */\\n[data-theme=\"dark\"],\\n.ns-theme[data-theme=\"dark\"] {\\n  --ns-color-accent-active: oklch(0.88 0.1 210);\\n  --ns-color-accent-default: oklch(0.72 0.14 210);\\n  --ns-color-accent-hover: oklch(0.80 0.12 210);\\n  --ns-color-accent-muted: oklch(0.40 0.1 210);\\n  --ns-color-accent-subtle: oklch(0.32 0.08 210);\\n  --ns-color-accent-text: oklch(0.18 0.02 280);\\n  --ns-color-amber-100: oklch(0.93 0.08 95);\\n  --ns-color-amber-200: oklch(0.88 0.12 95);\\n  --ns-color-amber-300: oklch(0.82 0.14 95);\\n  --ns-color-amber-400: oklch(0.78 0.15 95);\\n  --ns-color-amber-500: oklch(0.75 0.15 95);\\n  --ns-color-amber-50: oklch(0.97 0.03 95);\\n  --ns-color-amber-600: oklch(0.65 0.14 95);\\n  --ns-color-amber-700: oklch(0.55 0.13 95);\\n  --ns-color-amber-800: oklch(0.45 0.11 95);\\n  --ns-color-amber-900: oklch(0.35 0.09 95);\\n  --ns-color-bg-default: oklch(0.12 0.02 280);\\n  --ns-color-bg-emphasis: oklch(0.35 0.015 280);\\n  --ns-color-bg-inverse: oklch(0.985 0.004 280);\\n  --ns-color-bg-muted: oklch(0.25 0.018 280);\\n  --ns-color-bg-subtle: oklch(0.18 0.02 280);\\n  --ns-color-bitcoin-100: oklch(0.94 0.06 55);\\n  --ns-color-bitcoin-200: oklch(0.90 0.10 55);\\n  --ns-color-bitcoin-300: oklch(0.84 0.14 55);\\n  --ns-color-bitcoin-400: oklch(0.78 0.17 55);\\n  --ns-color-bitcoin-500: #F7931A;\\n  --ns-color-bitcoin-50: oklch(0.97 0.03 55);\\n  --ns-color-bitcoin-600: oklch(0.68 0.18 55);\\n  --ns-color-bitcoin-700: oklch(0.58 0.16 55);\\n  --ns-color-bitcoin-800: oklch(0.48 0.14 55);\\n  --ns-color-bitcoin-900: oklch(0.38 0.12 55);\\n  --ns-color-bitcoin-950: oklch(0.28 0.10 55);\\n  --ns-color-bitcoin-accent: oklch(0.78 0.17 55);\\n  --ns-color-bitcoin-default: oklch(0.78 0.17 55);\\n  --ns-color-bitcoin-emphasis: oklch(0.78 0.17 55);\\n  --ns-color-bitcoin-glow: oklch(0.78 0.20 55 / 0.6);\\n  --ns-color-bitcoin-hover: oklch(0.84 0.14 55);\\n  --ns-color-bitcoin-muted: oklch(0.38 0.12 55);\\n  --ns-color-bitcoin-subtle: oklch(0.28 0.10 55);\\n  --ns-color-bitcoin-text: oklch(0.84 0.14 55);\\n  --ns-color-border-default: oklch(0.35 0.015 280);\\n  --ns-color-border-focus: oklch(0.72 0.18 185);\\n  --ns-color-border-strong: oklch(0.45 0.012 280);\\n  --ns-color-border-subtle: oklch(0.25 0.018 280);\\n  --ns-color-celebration-accent: oklch(0.70 0.16 340);\\n  --ns-color-celebration-cyan: oklch(0.65 0.15 210);\\n  --ns-color-celebration-glow: oklch(0.66 0.18 290 / 0.4);\\n  --ns-color-celebration-pink: oklch(0.70 0.16 340);\\n  --ns-color-celebration-primary: oklch(0.66 0.18 290);\\n  --ns-color-celebration-secondary: oklch(0.65 0.15 210);\\n  --ns-color-celebration-teal: oklch(0.60 0.15 185);\\n  --ns-color-celebration-tertiary: oklch(0.60 0.15 185);\\n  --ns-color-celebration-violet: oklch(0.66 0.18 290);\\n  --ns-color-cyan-100: oklch(0.93 0.05 210);\\n  --ns-color-cyan-200: oklch(0.88 0.1 210);\\n  --ns-color-cyan-300: oklch(0.80 0.12 210);\\n  --ns-color-cyan-400: oklch(0.72 0.14 210);\\n  --ns-color-cyan-500: oklch(0.65 0.15 210);\\n  --ns-color-cyan-50: oklch(0.97 0.02 210);\\n  --ns-color-cyan-600: oklch(0.55 0.14 210);\\n  --ns-color-cyan-700: oklch(0.48 0.12 210);\\n  --ns-color-cyan-800: oklch(0.40 0.1 210);\\n  --ns-color-cyan-900: oklch(0.32 0.08 210);\\n  --ns-color-danger-default: oklch(0.72 0.12 25);\\n  --ns-color-danger-hover: oklch(0.82 0.08 25);\\n  --ns-color-danger-muted: oklch(0.40 0.10 25);\\n  --ns-color-danger-subtle: oklch(0.32 0.08 25);\\n  --ns-color-danger-text: oklch(0.82 0.08 25);\\n  --ns-color-dark-base: oklch(0.12 0.015 280);\\n  --ns-color-dark-border: oklch(0.28 0.025 280 / 0.5);\\n  --ns-color-dark-borderStrong: oklch(0.35 0.03 280 / 0.6);\\n  --ns-color-dark-elevated: oklch(0.16 0.018 280);\\n  --ns-color-dark-highlight: oklch(0.25 0.022 280);\\n  --ns-color-dark-muted: oklch(0.30 0.02 280);\\n  --ns-color-dark-raised: oklch(0.20 0.02 280);\\n  --ns-color-focus-ring: oklch(0.68 0.15 185 / 0.5);\\n  --ns-color-green-100: oklch(0.93 0.05 155);\\n  --ns-color-green-200: oklch(0.88 0.1 155);\\n  --ns-color-green-300: oklch(0.78 0.15 155);\\n  --ns-color-green-400: oklch(0.70 0.18 155);\\n  --ns-color-green-500: oklch(0.62 0.19 155);\\n  --ns-color-green-50: oklch(0.97 0.02 155);\\n  --ns-color-green-600: oklch(0.55 0.18 155);\\n  --ns-color-green-700: oklch(0.48 0.16 155);\\n  --ns-color-green-800: oklch(0.40 0.14 155);\\n  --ns-color-green-900: oklch(0.32 0.12 155);\\n  --ns-color-indigo-100: oklch(0.93 0.05 280);\\n  --ns-color-indigo-200: oklch(0.86 0.1 280);\\n  --ns-color-indigo-300: oklch(0.76 0.15 280);\\n  --ns-color-indigo-400: oklch(0.66 0.19 280);\\n  --ns-color-indigo-500: oklch(0.55 0.22 280);\\n  --ns-color-indigo-50: oklch(0.97 0.02 280);\\n  --ns-color-indigo-600: oklch(0.48 0.22 280);\\n  --ns-color-indigo-700: oklch(0.40 0.2 280);\\n  --ns-color-indigo-800: oklch(0.32 0.17 280);\\n  --ns-color-indigo-900: oklch(0.25 0.14 280);\\n  --ns-color-info-default: oklch(0.72 0.14 210);\\n  --ns-color-info-hover: oklch(0.80 0.12 210);\\n  --ns-color-info-muted: oklch(0.40 0.1 210);\\n  --ns-color-info-subtle: oklch(0.32 0.08 210);\\n  --ns-color-info-text: oklch(0.80 0.12 210);\\n  --ns-color-interactive-active: oklch(0.86 0.12 185);\\n  --ns-color-interactive-default: oklch(0.72 0.18 185);\\n  --ns-color-interactive-disabled: oklch(0.45 0.012 280);\\n  --ns-color-interactive-hover: oklch(0.78 0.16 185);\\n  --ns-color-neutral-0: oklch(0.995 0.002 280);\\n  --ns-color-neutral-1000: oklch(0.08 0.015 280);\\n  --ns-color-neutral-100: oklch(0.97 0.006 280);\\n  --ns-color-neutral-200: oklch(0.92 0.008 280);\\n  --ns-color-neutral-300: oklch(0.87 0.01 280);\\n  --ns-color-neutral-400: oklch(0.7 0.012 280);\\n  --ns-color-neutral-500: oklch(0.55 0.012 280);\\n  --ns-color-neutral-50: oklch(0.985 0.004 280);\\n  --ns-color-neutral-600: oklch(0.45 0.012 280);\\n  --ns-color-neutral-700: oklch(0.35 0.015 280);\\n  --ns-color-neutral-800: oklch(0.25 0.018 280);\\n  --ns-color-neutral-900: oklch(0.18 0.02 280);\\n  --ns-color-neutral-950: oklch(0.12 0.02 280);\\n  --ns-color-overlay-default: oklch(0 0 0 / 0.7);\\n  --ns-color-overlay-strong: oklch(0 0 0 / 0.85);\\n  --ns-color-primary-active: oklch(0.86 0.12 185);\\n  --ns-color-primary-default: oklch(0.72 0.18 185);\\n  --ns-color-primary-hover: oklch(0.78 0.16 185);\\n  --ns-color-primary-muted: oklch(0.38 0.12 185);\\n  --ns-color-primary-subtle: oklch(0.30 0.10 185);\\n  --ns-color-primary-text: oklch(0.18 0.02 280);\\n  --ns-color-red-100: oklch(0.94 0.025 25);\\n  --ns-color-red-200: oklch(0.90 0.05 25);\\n  --ns-color-red-300: oklch(0.82 0.08 25);\\n  --ns-color-red-400: oklch(0.72 0.12 25);\\n  --ns-color-red-500: oklch(0.62 0.14 25);\\n  --ns-color-red-50: oklch(0.97 0.01 25);\\n  --ns-color-red-600: oklch(0.55 0.14 25);\\n  --ns-color-red-700: oklch(0.48 0.12 25);\\n  --ns-color-red-800: oklch(0.40 0.10 25);\\n  --ns-color-red-900: oklch(0.32 0.08 25);\\n  --ns-color-spark-400: oklch(0.72 0.16 25);\\n  --ns-color-spark-500: oklch(0.65 0.18 25);\\n  --ns-color-spark-600: oklch(0.58 0.18 25);\\n  --ns-color-static-black: #000000;\\n  --ns-color-static-transparent: transparent;\\n  --ns-color-static-white: #ffffff;\\n  --ns-color-success-default: oklch(0.70 0.18 155);\\n  --ns-color-success-hover: oklch(0.78 0.15 155);\\n  --ns-color-success-muted: oklch(0.40 0.14 155);\\n  --ns-color-success-subtle: oklch(0.32 0.12 155);\\n  --ns-color-success-text: oklch(0.78 0.15 155);\\n  --ns-color-surface-default: oklch(0.18 0.02 280);\\n  --ns-color-surface-overlay: oklch(0.15 0.02 280 / 0.95);\\n  --ns-color-surface-raised: oklch(0.25 0.018 280);\\n  --ns-color-surface-sunken: oklch(0.12 0.02 280);\\n  --ns-color-teal-100: oklch(0.93 0.06 185);\\n  --ns-color-teal-200: oklch(0.86 0.12 185);\\n  --ns-color-teal-300: oklch(0.78 0.16 185);\\n  --ns-color-teal-400: oklch(0.72 0.18 185);\\n  --ns-color-teal-500: oklch(0.65 0.18 185);\\n  --ns-color-teal-50: oklch(0.97 0.03 185);\\n  --ns-color-teal-600: oklch(0.55 0.16 185);\\n  --ns-color-teal-700: oklch(0.46 0.14 185);\\n  --ns-color-teal-800: oklch(0.38 0.12 185);\\n  --ns-color-teal-900: oklch(0.30 0.10 185);\\n  --ns-color-teal-950: oklch(0.22 0.08 185);\\n  --ns-color-teal-glow: oklch(0.72 0.18 185 / 0.5);\\n  --ns-color-text-default: oklch(0.985 0.004 280);\\n  --ns-color-text-disabled: oklch(0.45 0.012 280);\\n  --ns-color-text-inverse: oklch(0.18 0.02 280);\\n  --ns-color-text-link: oklch(0.72 0.18 185);\\n  --ns-color-text-linkHover: oklch(0.78 0.16 185);\\n  --ns-color-text-muted: oklch(0.7 0.012 280);\\n  --ns-color-text-subtle: oklch(0.55 0.012 280);\\n  --ns-color-violet-100: oklch(0.93 0.06 300);\\n  --ns-color-violet-200: oklch(0.86 0.12 300);\\n  --ns-color-violet-300: oklch(0.78 0.18 300);\\n  --ns-color-violet-400: oklch(0.70 0.22 300);\\n  --ns-color-violet-500: oklch(0.62 0.24 300);\\n  --ns-color-violet-50: oklch(0.97 0.03 300);\\n  --ns-color-violet-600: oklch(0.54 0.24 300);\\n  --ns-color-violet-700: oklch(0.45 0.22 300);\\n  --ns-color-violet-800: oklch(0.36 0.18 300);\\n  --ns-color-violet-900: oklch(0.28 0.15 300);\\n  --ns-color-violet-glow: oklch(0.70 0.24 300 / 0.5);\\n  --ns-color-warning-default: oklch(0.78 0.15 95);\\n  --ns-color-warning-hover: oklch(0.82 0.14 95);\\n  --ns-color-warning-muted: oklch(0.45 0.11 95);\\n  --ns-color-warning-subtle: oklch(0.35 0.09 95);\\n  --ns-color-warning-text: oklch(0.82 0.14 95);\\n  --ns-color-zap-default: oklch(0.70 0.22 300);\\n  --ns-color-zap-glow: oklch(0.66 0.18 290 / 0.5);\\n  --ns-color-zap-hover: oklch(0.78 0.18 300);\\n  --ns-color-zap-muted: oklch(0.36 0.18 300);\\n  --ns-color-zap-subtle: oklch(0.28 0.15 300);\\n  --ns-color-zap-text: oklch(0.78 0.18 300);\\n  --ns-shadow-2xl: 0 25px 50px -12px oklch(0 0 0 / 0.5);\\n  --ns-shadow-inner: inset 0 2px 4px 0 oklch(0 0 0 / 0.2);\\n  --ns-shadow-lg: 0 10px 15px -3px oklch(0 0 0 / 0.35), 0 4px 6px -4px oklch(0 0 0 / 0.3);\\n  --ns-shadow-md: 0 4px 6px -1px oklch(0 0 0 / 0.3), 0 2px 4px -2px oklch(0 0 0 / 0.25);\\n  --ns-shadow-none: none;\\n  --ns-shadow-sm: 0 1px 3px 0 oklch(0 0 0 / 0.25), 0 1px 2px -1px oklch(0 0 0 / 0.2);\\n  --ns-shadow-xl: 0 20px 25px -5px oklch(0 0 0 / 0.4), 0 8px 10px -6px oklch(0 0 0 / 0.35);\\n  --ns-shadow-xs: 0 1px 2px 0 oklch(0 0 0 / 0.15);\\n}\\n';\napps/social/src/ui/BlockCelebration.stories.tsx:90:            color: isActive ? 'var(--ns-color-bitcoin-default)' : 'var(--ns-color-text-default)',\napps/social/src/ui/BlockCelebration.stories.tsx:111:            background: 'var(--ns-color-bitcoin-default)',\napps/social/src/ui/BlockCelebration.stories.tsx:221:            background: 'var(--ns-color-bitcoin-default)',\napps/social/src/hooks/zapBatcher.ts:45:    case 'm': // milli-bitcoin (0.001 BTC)\napps/social/src/hooks/zapBatcher.ts:47:    case 'u': // micro-bitcoin (0.000001 BTC)\napps/social/src/hooks/zapBatcher.ts:49:    case 'n': // nano-bitcoin (0.000000001 BTC)\napps/social/src/hooks/zapBatcher.ts:51:    case 'p': // pico-bitcoin (0.000000000001 BTC)\napps/social/src/ui/TelemetrySkeleton.stories.tsx:43:// ===== BITCOIN NODE CARD SKELETON =====\napps/social/src/ui/TelemetrySkeleton.stories.tsx:262:              source: 'bitcoind',\napps/social/src/ui/TelemetrySkeleton.stories.tsx:365:          source: 'bitcoind',\napps/social/src/ui/TelemetryErrorState.stories.tsx:180:    message: 'Your local Bitcoin node is not responding. Check that bitcoind is running.',\napps/social/src/ui/ActivityLog.stories.tsx:275:              border: '1px solid var(--ns-color-bitcoin-default, #f7931a)',\napps/social/src/ui/ActivityLog.stories.tsx:276:              background: 'color-mix(in oklch, var(--ns-color-bitcoin-default, #f7931a) 8%, white)',\napps/social/src/ui/ActivityLog.stories.tsx:277:              color: 'var(--ns-color-bitcoin-default, #f7931a)',\napps/api/src/routes/telemetry-summary.test.ts:9:  BITCOIN_NETWORK: 'regtest',\napps/api/src/routes/telemetry-summary.test.ts:10:  TELEMETRY_PROVIDER: 'bitcoind',\napps/api/src/routes/telemetry-summary.test.ts:110:    expect(body.source).toBe('bitcoind');\napps/api/src/routes/telemetry-summary.test.ts:139:        BITCOIN_NETWORK: 'mutinynet'\napps/api/src/routes/telemetry-summary.test.ts:161:        BITCOIN_NETWORK: 'mutinynet'\napps/api/src/routes/telemetry-ws.ts:7:import { type TelemetrySource } from '../telemetry/bitcoind.js';\napps/api/src/routes/telemetry-ws.ts:141:    const mockNetwork = env.BITCOIN_NETWORK || 'mocknet';\npackages/react/src/hooks/useBitcoinStatus.ts:6:export type TelemetrySource = 'bitcoind' | 'esplora' | 'mock';\npackages/react/src/hooks/useBitcoinStatus.ts:72:  const url = baseUrl ? `${baseUrl}/api/bitcoin/status` : '/api/bitcoin/status';\n.env.network.mutinynet:2:BITCOIN_NETWORK=mutinynet\napps/api/src/routes/regtest-pay.ts:180:      `lncli --network=regtest --lnddir=/data --rpcserver=lnd-payer:10010 --macaroonpath=/data/data/chain/bitcoin/regtest/admin.macaroon --tlscertpath=/data/tls.cert payinvoice --force --json \"${invoice}\"`];\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_8","type":"reasoning","text":"**Investigating stale host references**"}}
{"type":"item.started","item":{"id":"item_9","type":"command_execution","command":"/usr/bin/bash -lc \"rg -n \\\"localhost:3002|:3002|bitcoin\\\\.status|api/bitcoin/status|VITE_API_BASE_URL|VITE_NOSTRSTACK_HOST\\\" apps/social packages/react apps/api scripts -S\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_10","type":"command_execution","command":"/usr/bin/bash -lc \"ls -la .logs/dev 2>/dev/null || true && find .logs/dev -maxdepth 2 -type f 2>/dev/null | sed -n '1,40p'\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_9","type":"command_execution","command":"/usr/bin/bash -lc \"rg -n \\\"localhost:3002|:3002|bitcoin\\\\.status|api/bitcoin/status|VITE_API_BASE_URL|VITE_NOSTRSTACK_HOST\\\" apps/social packages/react apps/api scripts -S\"","aggregated_output":"apps/social/README.md:36:3. Run the social app with `VITE_ENABLE_REGTEST_PAY=true` and `VITE_API_BASE_URL` pointing to the API.\napps/social/README.md:59:- `VITE_API_BASE_URL`: URL of the NostrStack API (default: `http://localhost:3001`).\napps/social/README.md:60:- `VITE_NOSTRSTACK_HOST`: Hostname for display/logic (default: `localhost`).\napps/social/Dockerfile:10:ARG VITE_API_BASE_URL\napps/social/Dockerfile:14:ENV VITE_API_BASE_URL=$VITE_API_BASE_URL\npackages/react/src/api-base.test.ts:32:  it('preserves localhost:3002 API base and keeps local HTTP on secure pages', () => {\npackages/react/src/api-base.test.ts:34:    const result = resolveApiBase('http://localhost:3002');\npackages/react/src/api-base.test.ts:36:    expect(result.baseUrl).toBe('http://localhost:3002');\npackages/react/src/api-base.test.ts:37:    expect(result.raw).toBe('http://localhost:3002');\npackages/react/src/api-base.test.ts:40:  it('normalizes legacy localhost:3002 HTTPS API base URLs', () => {\npackages/react/src/api-base.test.ts:42:    const result = resolveApiBase('https://localhost:3002');\npackages/react/src/api-base.test.ts:44:    expect(result.baseUrl).toBe('https://localhost:3002');\npackages/react/src/api-base.test.ts:45:    expect(result.raw).toBe('https://localhost:3002');\npackages/react/src/api-base.test.ts:48:  it('normalizes legacy localhost:3002 on non-secure pages', () => {\npackages/react/src/api-base.test.ts:50:    const result = resolveApiBase('http://localhost:3002');\npackages/react/src/api-base.test.ts:52:    expect(result.baseUrl).toBe('http://localhost:3002');\npackages/react/src/api-base.test.ts:53:    expect(result.raw).toBe('http://localhost:3002');\nscripts/demo/run.sh:81:    VITE_API_BASE_URL=\"${API_SCHEME}://localhost:${API_PORT}\" \\\nscripts/demo/run.sh:82:    VITE_NOSTRSTACK_HOST=\"localhost:${API_PORT}\" \\\nscripts/dev/logs.sh:137:  \"VITE_API_BASE_URL=$API_BASE_URL \\\nscripts/dev/logs.sh:139:   VITE_NOSTRSTACK_HOST=localhost:$PORT \\\nscripts/dev/watch-social.sh:16:  cd apps/social && VITE_API_BASE_URL=${VITE_API_BASE_URL:-http://localhost:'\"$PORT\"'} \\\nscripts/dev/watch-social.sh:18:  VITE_NOSTRSTACK_HOST=${VITE_NOSTRSTACK_HOST:-localhost:'\"$PORT\"'} \\\npackages/react/src/hooks/useBitcoinStatus.ts:72:  const url = baseUrl ? `${baseUrl}/api/bitcoin/status` : '/api/bitcoin/status';\nscripts/dev/watch-site.sh:16:  cd apps/app && VITE_API_BASE_URL=${VITE_API_BASE_URL:-http://localhost:'\"$PORT\"'} \\\nscripts/dev/watch-site.sh:17:  VITE_NOSTRSTACK_HOST=${VITE_NOSTRSTACK_HOST:-localhost:'\"$PORT\"'} \\\nscripts/dev/launch-honkbox.sh:96:VITE_API_BASE_URL=$API_SCHEME://localhost:$API_PORT\nscripts/dev/launch-honkbox.sh:97:VITE_NOSTRSTACK_HOST=localhost:$API_PORT\nscripts/dev/launch-local-demo.sh:28:: \"${VITE_API_BASE_URL:=http://localhost:3001}\"\nscripts/dev/launch-local-demo.sh:29:: \"${VITE_NOSTRSTACK_HOST:=lnbits-stg-west.thankfulwater-904823f2.westus3.azurecontainerapps.io}\"\nscripts/dev/launch-local-demo.sh:84:VITE_API_BASE_URL=$VITE_API_BASE_URL\nscripts/dev/launch-local-demo.sh:85:VITE_NOSTRSTACK_HOST=$VITE_NOSTRSTACK_HOST\nscripts/dev/launch-local-demo.sh:94:  VITE_API_BASE_URL=$VITE_API_BASE_URL VITE_NOSTRSTACK_HOST=$VITE_NOSTRSTACK_HOST VITE_ENABLE_REAL_PAYMENTS=$VITE_ENABLE_REAL_PAYMENTS \\\napps/social/tests/demo-flows.spec.ts:86:  await page.route('**/api/bitcoin/status', (route) => {\napps/social/tests/demo-flows.spec.ts:97:    '/api/bitcoin/status',\napps/social/tests/telemetry-reconnect.spec.ts:65:      /wss:\\/\\/localhost:3002\\/ws\\/telemetry/.test(text) ||\napps/social/tests/telemetry-reconnect.spec.ts:83:  await page.route('**/api/bitcoin/status', async (route) => {\napps/api/openapi.json:112:    \"/api/bitcoin/status\": {\napps/social/tests/reaction.spec.ts:12:    await page.route('**/api/bitcoin/status', async (route) => {\napps/social/tests/bitcoin-network-status.spec.ts:31:  await page.route('**/api/bitcoin/status', async (route) => {\napps/social/tests/bitcoin-network-status.spec.ts:118:    await page.route('**/api/bitcoin/status', async (route) => {\napps/social/playwright.config.ts:31:      VITE_NOSTRSTACK_HOST: process.env.VITE_NOSTRSTACK_HOST ?? 'mock',\napps/social/playwright.config.ts:32:      VITE_API_BASE_URL: process.env.VITE_API_BASE_URL ?? '/api',\napps/api/src/telemetry/routes.ts:154:  app.get('/api/bitcoin/status', async (_req, reply) => handleBitcoinStatusRequest(reply));\napps/social/src/App.tsx:860:    apiBase: import.meta.env.VITE_API_BASE_URL\napps/api/src/telemetry/routes.test.ts:38:describe('/api/bitcoin/status', () => {\napps/api/src/telemetry/routes.test.ts:53:    const res = await app.inject({ url: '/api/bitcoin/status' });\napps/api/src/telemetry/routes.test.ts:77:    const res = await app.inject({ url: '/api/bitcoin/status' });\napps/api/src/telemetry/routes.test.ts:100:    const res = await app.inject({ url: '/api/bitcoin/status' });\napps/api/src/telemetry/routes.test.ts:132:    const res = await app.inject({ url: '/api/bitcoin/status' });\napps/social/.env.example:1:VITE_API_BASE_URL=https://nostrstack-api-stg-west.thankfulwater-904823f2.westus3.azurecontainerapps.io\napps/social/.env.example:2:VITE_NOSTRSTACK_HOST=lnbits-stg-west.thankfulwater-904823f2.westus3.azurecontainerapps.io\napps/social/src/utils/api-base.ts:169:    import.meta.env.VITE_API_BASE_URL,\napps/social/src/utils/api-base.test.tsx:9:  it('preserves localhost:3002 API base', () => {\napps/social/src/utils/api-base.test.tsx:10:    const apiBase = resolveRuntimeApiBase('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:11:    expect(apiBase).toBe('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:14:  it('preserves localhost:3002 in gallery API base resolution', () => {\napps/social/src/utils/api-base.test.tsx:15:    const apiBase = resolveGalleryApiBase({ apiBase: 'http://localhost:3002' });\napps/social/src/utils/api-base.test.tsx:16:    expect(apiBase.baseUrl).toBe('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:18:    expect(apiBase.raw).toBe('http://localhost:3002');\napps/social/src/screens/EventDetailScreen.tsx:256:      String(import.meta.env.VITE_NOSTRSTACK_HOST ?? '')\napps/social/src/ui/NostrEventCard.tsx:236:  const paywallHost = resolveRuntimeHost(import.meta.env.VITE_NOSTRSTACK_HOST);\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_10","type":"command_execution","command":"/usr/bin/bash -lc \"ls -la .logs/dev 2>/dev/null || true && find .logs/dev -maxdepth 2 -type f 2>/dev/null | sed -n '1,40p'\"","aggregated_output":"total 952\ndrwxr-xr-x 1 klabo klabo    646 Feb 18 05:47 .\ndrwxr-xr-x 1 klabo klabo     60 Feb 16 09:42 ..\n-rw-r--r-- 1 klabo klabo 124204 Feb 16 10:28 agent-browser-guest-home.png\n-rw-r--r-- 1 klabo klabo 160196 Feb 17 10:15 agent-browser-profile-wallet-fix.png\n-rw-r--r-- 1 klabo klabo  43643 Feb 16 09:33 agent-browser-search.png\n-rw-r--r-- 1 klabo klabo 151983 Feb 17 10:17 agent-browser-wallet-state.png\n-rw-r--r-- 1 klabo klabo  10495 Feb 18 08:16 api.log\n-rw-r--r-- 1 klabo klabo 125702 Feb 16 10:00 codex-ui-login.png\n-rw-r--r-- 1 klabo klabo      0 Feb 17 09:02 dev-session.log\n-rw-r--r-- 1 klabo klabo   1050 Jan  5 23:11 gallery.log\n-rw-r--r-- 1 klabo klabo    426 Feb 18 05:47 issue126-vite-verify.log\n-rw-r--r-- 1 klabo klabo    893 Feb 18 02:47 issue186-devlogs.out\n-rw-r--r-- 1 klabo klabo      0 Feb 18 01:58 issue192-devlogs.out\n-rw-r--r-- 1 klabo klabo      0 Feb 18 02:59 issue248-devlogs.out\n-rw-r--r-- 1 klabo klabo  54122 Feb 17 10:13 mcp-devtools.log\n-rw-r--r-- 1 klabo klabo 104087 Feb 16 09:20 playwright-flow.png\n-rw-r--r-- 1 klabo klabo 160196 Feb 16 09:18 playwright-ui.png\ndrwxr-xr-x 1 klabo klabo    350 Feb 18 08:12 sessions\n-rw-r--r-- 1 klabo klabo    901 Feb 18 08:16 social.log\n.logs/dev/api.log\n.logs/dev/gallery.log\n.logs/dev/mcp-devtools.log\n.logs/dev/social.log\n.logs/dev/sessions/slot-1.session\n.logs/dev/sessions/slot-3.session\n.logs/dev/sessions/slot-2.session\n.logs/dev/sessions/slot-5.session\n.logs/dev/sessions/slot-4.session\n.logs/dev/sessions/slot-12.session\n.logs/dev/sessions/slot-14.session\n.logs/dev/sessions/slot-13.session\n.logs/dev/sessions/slot-16.session\n.logs/dev/sessions/slot-15.session\n.logs/dev/sessions/slot-17.session\n.logs/dev/sessions/slot-18.session\n.logs/dev/playwright-ui.png\n.logs/dev/playwright-flow.png\n.logs/dev/agent-browser-search.png\n.logs/dev/codex-ui-login.png\n.logs/dev/agent-browser-guest-home.png\n.logs/dev/dev-session.log\n.logs/dev/agent-browser-profile-wallet-fix.png\n.logs/dev/agent-browser-wallet-state.png\n.logs/dev/issue192-devlogs.out\n.logs/dev/issue186-devlogs.out\n.logs/dev/issue248-devlogs.out\n.logs/dev/issue126-vite-verify.log\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_11","type":"reasoning","text":"**Inspecting API-base utility**"}}
{"type":"item.completed","item":{"id":"item_12","type":"agent_message","text":"I found likely hotspots: API-base resolution tests and telemetry reconnect tests still reference `localhost:3002`, which matches the stale endpoint symptom. Next Iâ€™m inspecting runtime API-base code and recent logs to confirm whether production code can still emit the stale port."}}
{"type":"item.started","item":{"id":"item_13","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,240p' packages/react/src/api-base.ts\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_14","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,260p' apps/social/src/utils/api-base.ts\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_15","type":"command_execution","command":"/usr/bin/bash -lc \"tail -n 200 .logs/dev/social.log && echo '---' && tail -n 200 .logs/dev/api.log\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_14","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,260p' apps/social/src/utils/api-base.ts\"","aggregated_output":"import type { ApiBaseResolution } from '@nostrstack/react';\nimport { resolveApiBase } from '@nostrstack/react';\n\nexport type { ApiBaseResolution };\nexport { resolveApiBase };\n\nexport type GalleryApiBaseInput = {\n  apiBase?: string;\n  baseUrl?: string;\n  apiBaseConfig?: ApiBaseResolution;\n};\n\nconst DEFAULT_LOCAL_HOST = 'localhost';\nconst LOCAL_HOSTNAMES = ['localhost', '127.0.0.1', '[::1]', '::1'];\n\nfunction normalizeLegacyLocalApiBase(raw: string): string {\n  const trimmed = normalizeInput(raw);\n  if (!trimmed) return raw;\n  if (!/^https?:\\/\\/localhost:/.test(trimmed)) {\n    return trimmed;\n  }\n  return trimmed;\n}\n\nfunction normalizeInput(value?: string): string | undefined {\n  const trimmed = value?.trim();\n  if (!trimmed) return undefined;\n  return trimmed;\n}\n\nfunction resolveRuntimeApiOrigin(): string {\n  if (typeof window === 'undefined') {\n    return '';\n  }\n  const origin = window.location.origin;\n  return normalizeInput(origin) || '';\n}\n\nfunction resolveRuntimeHostname(): string {\n  if (typeof window === 'undefined') {\n    return '';\n  }\n  const host = window.location.hostname;\n  return normalizeInput(host) || '';\n}\n\nfunction isLocalRuntime(): boolean {\n  return import.meta.env.DEV || import.meta.env.NODE_ENV === 'test';\n}\n\nfunction resolveFallbackApiBase(): string {\n  if (isLocalRuntime()) {\n    return '/api';\n  }\n  return resolveRuntimeApiOrigin();\n}\n\nfunction pickFirstDefined(...values: Array<string | undefined>): string {\n  return (\n    values.map(normalizeInput).find((candidate): candidate is string => Boolean(candidate)) || ''\n  );\n}\n\nfunction trimTrailingSlash(value: string): string {\n  return value.replace(/\\/$/, '');\n}\n\nfunction ensureLeadingSlash(path: string): string {\n  return path.startsWith('/') ? path : `/${path}`;\n}\n\nfunction convertToWsScheme(url: string): string {\n  return url.replace(/^https:\\/\\//i, 'wss://').replace(/^http:\\/\\//i, 'ws://');\n}\n\nfunction preferSecureWsUrl(url: string): string {\n  const converted = convertToWsScheme(url);\n  if (typeof window === 'undefined') return converted;\n  if (window.location.protocol !== 'https:') return converted;\n  return converted.replace(/^ws:\\/\\//i, 'wss://');\n}\n\nfunction isLocalhostUrl(raw: string): boolean {\n  try {\n    const parsed = new URL(raw);\n    return (\n      (parsed.protocol === 'http:' || parsed.protocol === 'https:') &&\n      LOCAL_HOSTNAMES.includes(parsed.hostname)\n    );\n  } catch {\n    return false;\n  }\n}\n\nexport function resolveRuntimeApiBase(baseURL?: string): string {\n  const explicit = normalizeInput(baseURL);\n  if (explicit) {\n    const normalized = normalizeLegacyLocalApiBase(explicit);\n    if (isLocalhostUrl(normalized) && normalized.startsWith('http://')) {\n      return trimTrailingSlash(normalized);\n    }\n    return trimTrailingSlash(preferSecureBase(normalized));\n  }\n  const fallback = resolveFallbackApiBase();\n  if (isLocalhostUrl(fallback) && fallback.startsWith('http://')) {\n    return trimTrailingSlash(fallback);\n  }\n  return trimTrailingSlash(preferSecureBase(fallback));\n}\n\nexport function resolveRuntimeHost(host?: string): string {\n  const explicit = normalizeInput(host);\n  if (explicit) {\n    return explicit;\n  }\n  if (isLocalRuntime()) {\n    return DEFAULT_LOCAL_HOST;\n  }\n  return resolveRuntimeHostname();\n}\n\nexport function resolveRuntimeWsUrl(baseURL: string | undefined, path: string): string | null {\n  if (typeof window === 'undefined') return null;\n\n  const raw = resolveRuntimeApiBase(baseURL);\n  const runtimeApiBase = resolveApiBase(baseURL);\n  if (!raw) return null;\n  const normalizedPath = ensureLeadingSlash(path);\n  const websocketOrigin = convertToWsScheme(window.location.origin);\n\n  if (isLocalhostUrl(raw) && raw.startsWith('http://')) {\n    return `${convertToWsScheme(raw)}${normalizedPath}`;\n  }\n\n  if (!raw || /^ws(s)?:\\/\\//i.test(raw) || /^https?:\\/\\//i.test(raw)) {\n    return `${preferSecureWsUrl(raw)}${normalizedPath}`;\n  }\n\n  if (runtimeApiBase.isRelative && runtimeApiBase.raw === '/api') {\n    const apiPath = isLocalRuntime() ? '' : runtimeApiBase.raw;\n    return `${websocketOrigin}${apiPath}${normalizedPath}`;\n  }\n\n  if (raw.startsWith('/')) {\n    return `${websocketOrigin}${raw}${normalizedPath}`;\n  }\n\n  return `${websocketOrigin}/${raw}${normalizedPath}`;\n}\n\nfunction preferSecureBase(value: string): string {\n  if (typeof window === 'undefined') return value;\n  if (window.location.protocol !== 'https:') {\n    return value;\n  }\n  if (!/^http:\\/\\//i.test(value)) {\n    return value;\n  }\n  return value.replace(/^http:/i, 'https:');\n}\n\nexport function resolveGalleryApiBase(config: GalleryApiBaseInput = {}): ApiBaseResolution {\n  if (config.apiBaseConfig) {\n    return config.apiBaseConfig;\n  }\n  const raw = pickFirstDefined(\n    config.apiBase,\n    config.baseUrl,\n    import.meta.env.VITE_API_BASE_URL,\n    resolveFallbackApiBase()\n  );\n  const normalized = raw ? normalizeLegacyLocalApiBase(raw) : raw;\n  return resolveApiBase(normalized);\n}\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_13","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,240p' packages/react/src/api-base.ts\"","aggregated_output":"export type ApiBaseResolution = {\n  raw: string;\n  baseUrl: string;\n  isConfigured: boolean;\n  isMock: boolean;\n  isRelative: boolean;\n};\n\nconst LOCAL_HOSTNAMES = new Set(['localhost', '127.0.0.1', '[::1]', '::1']);\n\nfunction normalizeLegacyLocalApiBase(raw: string): string {\n  return raw;\n}\n\nfunction preferSecureBase(base: string) {\n  if (typeof window === 'undefined') return base;\n  if (window.location.protocol !== 'https:') return base;\n  if (!/^http:\\/\\//i.test(base)) return base;\n  try {\n    const parsed = new URL(base);\n    if (parsed.hostname && LOCAL_HOSTNAMES.has(parsed.hostname)) {\n      return base;\n    }\n  } catch {\n    return base;\n  }\n  return base.replace(/^http:/i, 'https:');\n}\n\nexport function resolveApiBase(raw?: string | null): ApiBaseResolution {\n  const trimmed = (raw ?? '').trim();\n  if (!trimmed) {\n    return { raw: '', baseUrl: '', isConfigured: false, isMock: false, isRelative: false };\n  }\n  const normalized = normalizeLegacyLocalApiBase(trimmed);\n  if (trimmed === 'mock') {\n    return { raw: trimmed, baseUrl: '', isConfigured: false, isMock: true, isRelative: false };\n  }\n  if (/^\\/api\\/?$/.test(normalized)) {\n    return { raw: trimmed, baseUrl: '', isConfigured: true, isMock: false, isRelative: true };\n  }\n\n  const cleaned = normalized.replace(/\\/$/, '');\n  return {\n    raw: normalized,\n    baseUrl: preferSecureBase(cleaned),\n    isConfigured: true,\n    isMock: false,\n    isRelative: false\n  };\n}\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_15","type":"command_execution","command":"/usr/bin/bash -lc \"tail -n 200 .logs/dev/social.log && echo '---' && tail -n 200 .logs/dev/api.log\"","aggregated_output":"\n  VITE v5.4.21  ready in 165 ms\n\n  âžœ  Local:   http://localhost:4191/\n  âžœ  Network: http://192.168.1.165:4191/\n  âžœ  Network: http://100.97.193.93:4191/\n  âžœ  Network: http://10.13.13.2:4191/\n  âžœ  Network: http://172.17.0.1:4191/\n  âžœ  Network: http://172.19.0.1:4191/\n  âžœ  Network: http://172.18.0.1:4191/\n  âžœ  Network: http://172.20.0.1:4191/\n\u001b[2m8:15:52 AM\u001b[22m \u001b[36m\u001b[1m[vite]\u001b[22m\u001b[39m \u001b[32mhmr update \u001b[39m\u001b[2m/src/screens/SearchScreen.tsx\u001b[22m\n\u001b[2m8:15:52 AM\u001b[22m \u001b[36m\u001b[1m[vite]\u001b[22m\u001b[39m \u001b[32mhmr update \u001b[39m\u001b[2m/src/screens/SearchScreen.tsx\u001b[22m\n\u001b[2m8:15:52 AM\u001b[22m \u001b[36m\u001b[1m[vite]\u001b[22m\u001b[39m \u001b[32mhmr update \u001b[39m\u001b[2m/src/screens/SearchScreen.tsx\u001b[22m\n8:15:52 AM [vite] hmr update /src/screens/SearchScreen.tsx\n\u001b[2m8:16:08 AM\u001b[22m \u001b[36m\u001b[1m[vite]\u001b[22m\u001b[39m \u001b[32mhmr update \u001b[39m\u001b[2m/src/screens/SearchScreen.tsx\u001b[22m\n8:16:08 AM [vite] hmr update /src/screens/SearchScreen.tsx\n---\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 26.042051017284393\n[08:13:21.126] INFO (1687840): wallet ws upgrade\n[08:13:21.126] INFO (1687840): wallet ws connection\n    clientCount: 1\n[08:16:14.727] INFO (1687840): incoming request\n    reqId: \"req-8\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/api/health\",\n      \"host\": \"localhost:3019\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 44636\n    }\n[08:16:14.728] INFO (1687840): request completed\n    reqId: \"req-8\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 0.47877898812294006\n[08:16:14.730] INFO (1687840): incoming request\n    reqId: \"req-9\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/api/health\",\n      \"host\": \"localhost:3019\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 44636\n    }\n[08:16:14.731] INFO (1687840): request completed\n    reqId: \"req-9\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 0.5218740105628967\n[08:16:15.230] INFO (1687840): incoming request\n    reqId: \"req-a\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/api/bitcoin/status\",\n      \"host\": \"localhost:3019\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 44636\n    }\n[08:16:15.232] INFO (1687840): incoming request\n    reqId: \"req-b\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/debug/ws-wallet\",\n      \"host\": \"localhost:3019\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 44640\n    }\n[08:16:15.233] INFO (1687840): request completed\n    reqId: \"req-b\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 0.5213209986686707\n[08:16:15.237] INFO (1687840): telemetry ws connection\n    clientCount: 2\n[08:16:15.239] INFO (1687840): incoming request\n    reqId: \"req-c\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/debug/ws-wallet\",\n      \"host\": \"localhost:3019\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 44640\n    }\n[08:16:15.239] INFO (1687840): request completed\n    reqId: \"req-c\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 0.3811729848384857\n[08:16:15.249] INFO (1687840): request completed\n    reqId: \"req-a\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 18.267783999443054\n[08:16:15.249] INFO (1687840): telemetry ws connection\n    clientCount: 3\n[08:16:15.667] INFO (1687840): wallet ws upgrade\n[08:16:15.668] INFO (1687840): wallet ws connection\n    clientCount: 2\n[08:16:18.910] INFO (1687840): incoming request\n    reqId: \"req-d\"\n    req: {\n      \"method\": \"OPTIONS\",\n      \"url\": \"/api/regtest/pay\",\n      \"host\": \"localhost:3019\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 44636\n    }\n[08:16:18.910] INFO (1687840): request completed\n    reqId: \"req-d\"\n    res: {\n      \"statusCode\": 204\n    }\n    responseTime: 0.4367859959602356\n[08:16:18.911] INFO (1687840): incoming request\n    reqId: \"req-e\"\n    req: {\n      \"method\": \"POST\",\n      \"url\": \"/api/regtest/pay\",\n      \"host\": \"localhost:3019\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 44636\n    }\n[08:16:18.913] INFO (1687840): regtest pay requested\n    reqId: \"24c2cd19-7064-4a87-b07f-5c52942985a8\"\n    invoicePrefix: \"lnbc210n1p5e\"\n[08:16:19.167] WARN (1687840): regtest payinvoice exec failed\n    reqId: \"24c2cd19-7064-4a87-b07f-5c52942985a8\"\n    err: {\n      \"type\": \"Error\",\n      \"message\": \"[lncli] rpc error: code = Unknown desc = invoice not for current active network 'regtest'\\n\",\n      \"stack\":\n          Error: [lncli] rpc error: code = Unknown desc = invoice not for current active network 'regtest'\n          \n              at <anonymous> (/home/klabo/code/nostrstack/apps/api/src/routes/regtest-pay.ts:25:30)\n              at ChildProcess.exithandler (node:child_process:424:5)\n              at ChildProcess.emit (node:events:508:28)\n              at maybeClose (node:internal/child_process:1085:16)\n              at ChildProcess._handle.onexit (node:internal/child_process:304:5)\n    }\n[08:16:20.411] WARN (1687840): regtest pay via LNbits failed\n    reqId: \"24c2cd19-7064-4a87-b07f-5c52942985a8\"\n    err: {\n      \"type\": \"Error\",\n      \"message\": \"{\\\"detail\\\":\\\"Payment failed: Unable to connect to https://lnd-merchant:8080.\\\",\\\"status\\\":\\\"failed\\\"}\",\n      \"stack\":\n          Error: {\"detail\":\"Payment failed: Unable to connect to https://lnd-merchant:8080.\",\"status\":\"failed\"}\n              at payViaLnBits (/home/klabo/code/nostrstack/apps/api/src/routes/regtest-pay.ts:47:11)\n              at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n              at async Object.handler (/home/klabo/code/nostrstack/apps/api/src/routes/regtest-pay.ts:203:26)\n    }\n[08:16:20.412] INFO (1687840): request completed\n    reqId: \"req-e\"\n    res: {\n      \"statusCode\": 500\n    }\n    responseTime: 1500.4300139844418\n[08:16:38.925] INFO (1687840): incoming request\n    reqId: \"req-f\"\n    req: {\n      \"method\": \"OPTIONS\",\n      \"url\": \"/api/regtest/pay\",\n      \"host\": \"localhost:3019\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 44636\n    }\n[08:16:38.925] INFO (1687840): request completed\n    reqId: \"req-f\"\n    res: {\n      \"statusCode\": 204\n    }\n    responseTime: 0.17560899257659912\n[08:16:38.927] INFO (1687840): incoming request\n    reqId: \"req-g\"\n    req: {\n      \"method\": \"POST\",\n      \"url\": \"/api/regtest/pay\",\n      \"host\": \"localhost:3019\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 44636\n    }\n[08:16:38.927] INFO (1687840): regtest pay requested\n    reqId: \"0e623c49-a599-4a6d-aa44-bf60e89c5cc0\"\n    invoicePrefix: \"lnbc210n1p5e\"\n[08:16:39.047] WARN (1687840): regtest payinvoice exec failed\n    reqId: \"0e623c49-a599-4a6d-aa44-bf60e89c5cc0\"\n    err: {\n      \"type\": \"Error\",\n      \"message\": \"[lncli] rpc error: code = Unknown desc = invoice not for current active network 'regtest'\\n\",\n      \"stack\":\n          Error: [lncli] rpc error: code = Unknown desc = invoice not for current active network 'regtest'\n          \n              at <anonymous> (/home/klabo/code/nostrstack/apps/api/src/routes/regtest-pay.ts:25:30)\n              at ChildProcess.exithandler (node:child_process:424:5)\n              at ChildProcess.emit (node:events:508:28)\n              at maybeClose (node:internal/child_process:1085:16)\n              at ChildProcess._handle.onexit (node:internal/child_process:304:5)\n    }\n[08:16:39.073] WARN (1687840): regtest pay falling back to LNbits\n    reqId: \"0e623c49-a599-4a6d-aa44-bf60e89c5cc0\"\n[08:16:39.074] INFO (1687840): regtest pay invoice settled\n    invoicePrefix: \"lnbc210n1p5e\"\n    paymentHash: \"50b19beba5dec4cf51757d59f29bf0e5b14c7130fa88ef1d5f9d9ae7c7f20638\"\n    feesSat: -2000\n[08:16:39.075] INFO (1687840): request completed\n    reqId: \"req-g\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 147.7434149980545\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_16","type":"reasoning","text":"**Investigating stale API base usage**"}}
{"type":"item.started","item":{"id":"item_17","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '780,980p' apps/social/src/App.tsx\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_18","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,260p' apps/social/src/hooks/useTelemetryStream.ts\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_19","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,240p' packages/react/src/hooks/useBitcoinStatus.ts\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_17","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '780,980p' apps/social/src/App.tsx\"","aggregated_output":"            tone=\"warning\"\n            title=\"Relay connectivity degraded\"\n            style={{ marginBottom: '1rem' }}\n          >\n            Some relay/WebSocket connections are failing. Wallet funding and publish actions may be\n            delayed or fail until relays recover. Check your relay settings in the Relays view.\n          </Alert>\n        )}\n        <ErrorBoundary\n          key={`${routeRecoveryIdentity}-${routeRecoveryKey}`}\n          resetToken={routeRecoveryKey}\n          fallback={\n            <RouteLoadFallback\n              message=\"Unable to load this route. Please try reloading.\"\n              onRetry={retryRouteAndHealthCheck}\n              retryLabel=\"Retry route\"\n            />\n          }\n        >\n          <Suspense\n            key={`${routeRecoveryIdentity}-${routeRecoveryKey}`}\n            fallback={<LoadingFallback message={`Loading ${routeBoundView} route...`} />}\n          >\n            {isRelaysRoute ? (\n              <RelaysView />\n            ) : isProfileRoute ? (\n              <>\n                {profileRouteError && (\n                  <Alert tone=\"danger\" title=\"Routing Error\">\n                    Invalid profile id. Showing your current view instead.\n                  </Alert>\n                )}\n                {profileRoutePubkey ? (\n                  <ProfileScreen\n                    pubkey={profileRoutePubkey}\n                    onNavigateToSettings={handleNavigateToSettings}\n                  />\n                ) : pubkey ? (\n                  <ProfileScreen pubkey={pubkey} onNavigateToSettings={handleNavigateToSettings} />\n                ) : (\n                  <div className=\"profile-guest-placeholder\">\n                    <p>Sign in to view your profile</p>\n                  </div>\n                )}\n              </>\n            ) : (\n              <>\n                {routeBoundView === 'feed' && <FeedScreen isImmersive={isImmersive} />}\n                {routeBoundView === 'search' && <SearchScreen />}\n                {routeBoundView === 'offers' && <OffersView />}\n                {routeBoundView === 'settings' && (\n                  <SettingsScreen\n                    theme={theme}\n                    setTheme={setTheme}\n                    brandPreset={brandPreset}\n                    setBrandPreset={setBrandPreset}\n                  />\n                )}\n              </>\n            )}\n          </Suspense>\n        </ErrorBoundary>\n      </main>\n      <aside className=\"telemetry-sidebar\">\n        <ErrorBoundary\n          fallback={\n            <div style={{ padding: '1rem', color: 'var(--ns-color-text-muted)' }}>\n              Telemetry Unavailable\n            </div>\n          }\n        >\n          <TelemetryBar />\n        </ErrorBoundary>\n      </aside>\n    </div>\n  );\n}\n\nexport default function App() {\n  const apiBaseConfig = resolveGalleryApiBase({\n    apiBase: import.meta.env.VITE_API_BASE_URL\n  });\n  const [resolvedApiBaseConfig, setResolvedApiBaseConfig] =\n    useState<ApiBaseResolution>(apiBaseConfig);\n  const [localApiCheckFailed, setLocalApiCheckFailed] = useState(false);\n  const [isResolvingLocalApiBase, setIsResolvingLocalApiBase] = useState(() =>\n    isLocalApiBase(apiBaseConfig)\n  );\n  const initialLocalApiConfig = useRef<ApiBaseResolution | null>(\n    isLocalApiBase(apiBaseConfig) ? apiBaseConfig : null\n  );\n\n  const retryLocalApiHealthCheck = useCallback(() => {\n    if (!initialLocalApiConfig.current) {\n      return;\n    }\n    setResolvedApiBaseConfig(initialLocalApiConfig.current);\n    setLocalApiCheckFailed(false);\n    setIsResolvingLocalApiBase(true);\n  }, []);\n\n  useEffect(() => {\n    if (!isResolvingLocalApiBase) {\n      return;\n    }\n    if (!isLocalApiBase(resolvedApiBaseConfig)) {\n      setIsResolvingLocalApiBase(false);\n      return;\n    }\n    let isMounted = true;\n\n    const checkApiHealth = async (url: string): Promise<boolean> => {\n      let timeoutHandle: number | null = null;\n      const timeoutPromise = new Promise<null>((resolve) => {\n        timeoutHandle = window.setTimeout(() => resolve(null), LOCAL_API_TIMEOUT_MS);\n      });\n      try {\n        const response = await Promise.race([fetch(`${url}/api/health`), timeoutPromise]);\n        return !!response && response.ok;\n      } catch {\n        return false;\n      } finally {\n        if (timeoutHandle !== null) {\n          window.clearTimeout(timeoutHandle);\n        }\n      }\n    };\n\n    const probe = async () => {\n      const shouldUseProxyFallback = shouldProbeProxyForLocalApi(resolvedApiBaseConfig);\n      const primaryBase = shouldUseProxyFallback ? FALLBACK_API_BASE : resolvedApiBaseConfig;\n      const primaryHealthCheckWorks = await checkApiHealth(primaryBase.baseUrl);\n\n      if (primaryHealthCheckWorks) {\n        if (shouldUseProxyFallback && isMounted) {\n          setResolvedApiBaseConfig(FALLBACK_API_BASE);\n        }\n      } else if (shouldUseProxyFallback) {\n        if (isMounted) {\n          setLocalApiCheckFailed(true);\n          setResolvedApiBaseConfig((current) =>\n            isLocalApiBase(current) ? LOCAL_API_UNAVAILABLE : current\n          );\n        }\n      } else {\n        const fallbackWorks = await checkApiHealth(FALLBACK_API_BASE.baseUrl);\n\n        if (fallbackWorks) {\n          if (isMounted) {\n            setResolvedApiBaseConfig(FALLBACK_API_BASE);\n          }\n        } else {\n          if (isMounted) {\n            setLocalApiCheckFailed(true);\n            setResolvedApiBaseConfig((current) =>\n              isLocalApiBase(current) ? LOCAL_API_UNAVAILABLE : current\n            );\n          }\n        }\n      }\n\n      if (isMounted) {\n        setIsResolvingLocalApiBase(false);\n      }\n    };\n\n    void probe();\n    return () => {\n      isMounted = false;\n    };\n  }, [resolvedApiBaseConfig]); // eslint-disable-line react-hooks/exhaustive-deps\n  const apiBase = resolvedApiBaseConfig.baseUrl;\n  if (localApiCheckFailed) {\n    console.warn('Social API health check failed; continuing with fallback API configuration.');\n  }\n  const enableRegtestPay =\n    String(import.meta.env.VITE_ENABLE_REGTEST_PAY ?? '').toLowerCase() === 'true' ||\n    import.meta.env.DEV;\n  const relays = parseRelays(import.meta.env.VITE_NOSTRSTACK_RELAYS);\n  const envZapAddress =\n    (\n      import.meta.env.VITE_ZAP_LNURL ??\n      import.meta.env.VITE_ZAP_ADDRESS ??\n      import.meta.env.VITE_NOSTRSTACK_TIP_LNADDR ??\n      ''\n    ).trim() || undefined;\n  const apiBaseForLnurl =\n    apiBase && /^https?:\\/\\//i.test(apiBase) ? apiBase.replace(/\\/$/, '') : '';\n  const demoLnurlAddress =\n    enableRegtestPay && apiBaseForLnurl ? `${apiBaseForLnurl}/.well-known/lnurlp/alice` : undefined;\n  const lnurlAddress = envZapAddress ?? demoLnurlAddress;\n\n  return (\n    <NostrstackProvider\n      apiBase={apiBase}\n      apiBaseConfig={resolvedApiBaseConfig}\n      baseUrl={apiBase}\n      relays={relays.length ? relays : undefined}\n      onRelayFailure={relayMonitor.reportFailure.bind(relayMonitor)}\n      enableRegtestPay={enableRegtestPay}\n      lnAddress={lnurlAddress}\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_18","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,260p' apps/social/src/hooks/useTelemetryStream.ts\"","aggregated_output":"sed: can't read apps/social/src/hooks/useTelemetryStream.ts: No such file or directory\n","exit_code":2,"status":"failed"}}
{"type":"item.completed","item":{"id":"item_19","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,240p' packages/react/src/hooks/useBitcoinStatus.ts\"","aggregated_output":"import { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { resolveApiBase } from '../api-base';\nimport { useNostrstackConfig } from '../context';\n\nexport type TelemetrySource = 'bitcoind' | 'esplora' | 'mock';\n\nexport type TelemetrySummary = {\n  height: number;\n  hash: string;\n  time: number;\n  txs?: number;\n  size?: number;\n  weight?: number;\n  interval?: number;\n  mempoolTxs?: number;\n  mempoolBytes?: number;\n  network?: string;\n  version?: number;\n  subversion?: string;\n  connections?: number;\n  headers?: number;\n  blocks?: number;\n  verificationProgress?: number;\n  initialBlockDownload?: boolean;\n};\n\nexport type LnbitsHealth =\n  | { status: 'skipped'; reason: 'provider_not_lnbits' }\n  | { status: 'error'; error: 'LN_BITS_URL not set' }\n  | { status: 'ok'; httpStatus: number; elapsedMs: number; body: string; urlTried: string }\n  | { status: 'fail'; error: 'health endpoint not reachable'; elapsedMs: number };\n\nexport type BitcoinStatus = {\n  network: string;\n  configuredNetwork: string;\n  source: TelemetrySource;\n  telemetry: TelemetrySummary;\n  telemetryError?: string;\n  lightning: {\n    provider: string;\n    lnbits: LnbitsHealth;\n  };\n};\n\nexport type BitcoinStatusState = {\n  status: BitcoinStatus | null;\n  error: string | null;\n  isLoading: boolean;\n  isConfigured: boolean;\n  refresh: () => void;\n};\n\nconst STATUS_CACHE_TTL_MS = 10_000;\n\ntype CacheEntry = {\n  data?: BitcoinStatus;\n  fetchedAt?: number;\n  promise?: Promise<BitcoinStatus>;\n};\n\nconst statusCache = new Map<string, CacheEntry>();\n\nfunction readCachedStatus(cacheKey: string): BitcoinStatus | null {\n  const entry = statusCache.get(cacheKey);\n  if (!entry?.data || !entry.fetchedAt) return null;\n  if (Date.now() - entry.fetchedAt > STATUS_CACHE_TTL_MS) return null;\n  return entry.data;\n}\n\nasync function fetchBitcoinStatus(baseUrl: string): Promise<BitcoinStatus> {\n  const url = baseUrl ? `${baseUrl}/api/bitcoin/status` : '/api/bitcoin/status';\n  const res = await fetch(url, { headers: { accept: 'application/json' } });\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(text ? `HTTP ${res.status}: ${text}` : `HTTP ${res.status}`);\n  }\n  return (await res.json()) as BitcoinStatus;\n}\n\nasync function fetchBitcoinStatusCached(cacheKey: string, baseUrl: string): Promise<BitcoinStatus> {\n  const existing = statusCache.get(cacheKey);\n  if (existing?.promise) return existing.promise;\n\n  const previousData = existing?.data;\n  const previousFetchedAt = existing?.fetchedAt;\n  const promise = fetchBitcoinStatus(baseUrl);\n  statusCache.set(cacheKey, { ...existing, promise });\n\n  try {\n    const data = await promise;\n    statusCache.set(cacheKey, { data, fetchedAt: Date.now() });\n    return data;\n  } catch (err) {\n    if (previousData) {\n      statusCache.set(cacheKey, { data: previousData, fetchedAt: previousFetchedAt });\n    } else {\n      statusCache.delete(cacheKey);\n    }\n    throw err;\n  } finally {\n    const current = statusCache.get(cacheKey);\n    if (current?.promise === promise) {\n      statusCache.delete(cacheKey);\n      if (previousData) {\n        statusCache.set(cacheKey, { data: previousData, fetchedAt: previousFetchedAt });\n      }\n    }\n  }\n}\n\nexport function useBitcoinStatus(apiBase?: string): BitcoinStatusState {\n  const cfg = useNostrstackConfig();\n  const apiBaseRaw = apiBase ?? cfg.apiBase ?? cfg.baseUrl ?? '';\n  const apiBaseConfig = useMemo(\n    () => cfg.apiBaseConfig ?? resolveApiBase(apiBaseRaw),\n    [cfg.apiBaseConfig, apiBaseRaw]\n  );\n  const cacheKey = apiBaseConfig.isConfigured\n    ? apiBaseConfig.isRelative\n      ? 'relative'\n      : apiBaseConfig.baseUrl\n    : '';\n  const [status, setStatus] = useState<BitcoinStatus | null>(() =>\n    cacheKey ? readCachedStatus(cacheKey) : null\n  );\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(apiBaseConfig.isConfigured && !status);\n  const [isOnline, setIsOnline] = useState<boolean>(() => {\n    if (typeof navigator === 'undefined') return true;\n    return navigator.onLine;\n  });\n  const [refreshToken, setRefreshToken] = useState(0);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const handleOnline = () => setIsOnline(true);\n    const handleOffline = () => setIsOnline(false);\n\n    setIsOnline(window.navigator.onLine);\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, []);\n\n  const refresh = useCallback(() => {\n    if (!cacheKey) return;\n    statusCache.delete(cacheKey);\n    setRefreshToken((prev) => prev + 1);\n  }, [cacheKey]);\n\n  useEffect(() => {\n    if (!apiBaseConfig.isConfigured) {\n      setStatus(null);\n      setIsLoading(false);\n      setError(apiBaseConfig.isMock ? 'API base is mock.' : 'API base not configured.');\n      return;\n    }\n    if (!isOnline) {\n      setIsLoading(false);\n      setError('Bitcoin status updates are paused while offline.');\n      return;\n    }\n\n    const cached = cacheKey ? readCachedStatus(cacheKey) : null;\n    if (cached && refreshToken === 0) {\n      setStatus(cached);\n      setIsLoading(false);\n      setError(null);\n      return;\n    }\n\n    let cancelled = false;\n    setIsLoading(true);\n    setError(null);\n    const baseUrl = apiBaseConfig.isRelative ? '' : apiBaseConfig.baseUrl;\n    fetchBitcoinStatusCached(cacheKey, baseUrl)\n      .then((data) => {\n        if (cancelled) return;\n        setStatus(data);\n        setError(null);\n      })\n      .catch((err) => {\n        if (cancelled) return;\n        const rawMessage = err instanceof Error ? err.message : 'Bitcoin status unavailable.';\n        const message = /^HTTP\\s+\\d+:/.test(rawMessage)\n          ? `Bitcoin status unavailable. ${rawMessage}`\n          : rawMessage;\n        setError(message);\n      })\n      .finally(() => {\n        if (cancelled) return;\n        setIsLoading(false);\n      });\n\n    return () => {\n      cancelled = true;\n    };\n  }, [\n    apiBaseConfig.baseUrl,\n    apiBaseConfig.isConfigured,\n    apiBaseConfig.isMock,\n    apiBaseConfig.isRelative,\n    cacheKey,\n    refreshToken,\n    isOnline\n  ]);\n\n  return {\n    status,\n    error,\n    isLoading,\n    isConfigured: apiBaseConfig.isConfigured,\n    refresh\n  };\n}\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_20","type":"reasoning","text":"**Investigating localStorage config usage**"}}
{"type":"item.started","item":{"id":"item_21","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"LOCAL_API_UNAVAILABLE|FALLBACK_API_BASE|shouldProbeProxyForLocalApi|isLocalApiBase\" apps/social/src -S'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_22","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"localStorage|sessionStorage|apiBase|baseUrl|resolveRuntimeWsUrl|ws/telemetry|debug/ws-wallet|3002\" apps/social/src packages/react/src -S'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_21","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"LOCAL_API_UNAVAILABLE|FALLBACK_API_BASE|shouldProbeProxyForLocalApi|isLocalApiBase\" apps/social/src -S'","aggregated_output":"apps/social/src/App.tsx:183:const LOCAL_API_UNAVAILABLE: ApiBaseResolution = {\napps/social/src/App.tsx:191:function isLocalApiBase(apiBase: ApiBaseResolution): boolean {\napps/social/src/App.tsx:205:function shouldProbeProxyForLocalApi(apiBase: ApiBaseResolution): boolean {\napps/social/src/App.tsx:207:  if (!isLocalApiBase(apiBase) || !apiBase.baseUrl) return false;\napps/social/src/App.tsx:220:const FALLBACK_API_BASE = resolveGalleryApiBase({ apiBase: LOCAL_API_BASE_FALLBACK });\napps/social/src/App.tsx:866:    isLocalApiBase(apiBaseConfig)\napps/social/src/App.tsx:869:    isLocalApiBase(apiBaseConfig) ? apiBaseConfig : null\napps/social/src/App.tsx:885:    if (!isLocalApiBase(resolvedApiBaseConfig)) {\napps/social/src/App.tsx:909:      const shouldUseProxyFallback = shouldProbeProxyForLocalApi(resolvedApiBaseConfig);\napps/social/src/App.tsx:910:      const primaryBase = shouldUseProxyFallback ? FALLBACK_API_BASE : resolvedApiBaseConfig;\napps/social/src/App.tsx:915:          setResolvedApiBaseConfig(FALLBACK_API_BASE);\napps/social/src/App.tsx:921:            isLocalApiBase(current) ? LOCAL_API_UNAVAILABLE : current\napps/social/src/App.tsx:925:        const fallbackWorks = await checkApiHealth(FALLBACK_API_BASE.baseUrl);\napps/social/src/App.tsx:929:            setResolvedApiBaseConfig(FALLBACK_API_BASE);\napps/social/src/App.tsx:935:              isLocalApiBase(current) ? LOCAL_API_UNAVAILABLE : current\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_22","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"localStorage|sessionStorage|apiBase|baseUrl|resolveRuntimeWsUrl|ws/telemetry|debug/ws-wallet|3002\" apps/social/src packages/react/src -S'","aggregated_output":"apps/social/src/OffersView.tsx:174:  const apiBaseConfig = resolveGalleryApiBase(cfg);\napps/social/src/OffersView.tsx:175:  const apiBase = apiBaseConfig.baseUrl;\napps/social/src/OffersView.tsx:192:  const baseUrl = useMemo(\napps/social/src/OffersView.tsx:193:    () => (apiBaseConfig.isConfigured ? apiBase : ''),\napps/social/src/OffersView.tsx:194:    [apiBaseConfig.isConfigured, apiBase]\napps/social/src/OffersView.tsx:234:    if (!apiBaseConfig.isConfigured) {\napps/social/src/OffersView.tsx:255:          const response = await fetch(`${baseUrl}/api/bolt12/offers`, {\napps/social/src/OffersView.tsx:313:    if (!apiBaseConfig.isConfigured) {\napps/social/src/OffersView.tsx:327:      const res = await fetch(`${baseUrl}/api/bolt12/invoices`, {\napps/social/src/OffersView.tsx:365:          {apiBaseConfig.isConfigured ? 'API ready' : 'API base missing'}\napps/social/src/App.tsx:185:  baseUrl: '',\napps/social/src/App.tsx:191:function isLocalApiBase(apiBase: ApiBaseResolution): boolean {\napps/social/src/App.tsx:192:  if (!apiBase.baseUrl || apiBase.isRelative || !apiBase.isConfigured || apiBase.isMock)\napps/social/src/App.tsx:195:    const parsed = new URL(apiBase.baseUrl);\napps/social/src/App.tsx:205:function shouldProbeProxyForLocalApi(apiBase: ApiBaseResolution): boolean {\napps/social/src/App.tsx:207:  if (!isLocalApiBase(apiBase) || !apiBase.baseUrl) return false;\napps/social/src/App.tsx:209:    const parsed = new URL(apiBase.baseUrl);\napps/social/src/App.tsx:217:  return resolveGalleryApiBase({ apiBase: LOCAL_API_BASE_FALLBACK });\napps/social/src/App.tsx:220:const FALLBACK_API_BASE = resolveGalleryApiBase({ apiBase: LOCAL_API_BASE_FALLBACK });\napps/social/src/App.tsx:228:  const stored = localStorage.getItem(THEME_STORAGE_KEY);\napps/social/src/App.tsx:237:  const stored = localStorage.getItem(BRAND_PRESET_STORAGE_KEY);\napps/social/src/App.tsx:246:      const raw = window.localStorage.getItem('nostrstack.relayStats.v2');\napps/social/src/App.tsx:337:    return localStorage.getItem('nostrstack.guest') === 'true';\napps/social/src/App.tsx:342:    localStorage.removeItem('nostrstack.guest');\napps/social/src/App.tsx:347:  // Wrap setTheme to persist to localStorage\napps/social/src/App.tsx:351:    localStorage.setItem(THEME_STORAGE_KEY, newTheme);\napps/social/src/App.tsx:357:    localStorage.setItem(BRAND_PRESET_STORAGE_KEY, newPreset);\napps/social/src/App.tsx:859:  const apiBaseConfig = resolveGalleryApiBase({\napps/social/src/App.tsx:860:    apiBase: import.meta.env.VITE_API_BASE_URL\napps/social/src/App.tsx:863:    useState<ApiBaseResolution>(apiBaseConfig);\napps/social/src/App.tsx:866:    isLocalApiBase(apiBaseConfig)\napps/social/src/App.tsx:869:    isLocalApiBase(apiBaseConfig) ? apiBaseConfig : null\napps/social/src/App.tsx:911:      const primaryHealthCheckWorks = await checkApiHealth(primaryBase.baseUrl);\napps/social/src/App.tsx:925:        const fallbackWorks = await checkApiHealth(FALLBACK_API_BASE.baseUrl);\napps/social/src/App.tsx:951:  const apiBase = resolvedApiBaseConfig.baseUrl;\napps/social/src/App.tsx:966:  const apiBaseForLnurl =\napps/social/src/App.tsx:967:    apiBase && /^https?:\\/\\//i.test(apiBase) ? apiBase.replace(/\\/$/, '') : '';\napps/social/src/App.tsx:969:    enableRegtestPay && apiBaseForLnurl ? `${apiBaseForLnurl}/.well-known/lnurlp/alice` : undefined;\napps/social/src/App.tsx:974:      apiBase={apiBase}\napps/social/src/App.tsx:975:      apiBaseConfig={resolvedApiBaseConfig}\napps/social/src/App.tsx:976:      baseUrl={apiBase}\napps/social/src/hooks/useWallet.ts:7:  resolveRuntimeWsUrl\napps/social/src/hooks/useWallet.ts:11:  const apiBase = runtimeApiBase;\napps/social/src/hooks/useWallet.ts:12:  if (!apiBase) return false;\napps/social/src/hooks/useWallet.ts:18:    const url = `${apiBase}/debug/ws-wallet`;\napps/social/src/hooks/useWallet.ts:59:  const apiBaseConfig = useMemo(\napps/social/src/hooks/useWallet.ts:62:        apiBase: cfg.apiBase,\napps/social/src/hooks/useWallet.ts:63:        baseUrl: cfg.baseUrl,\napps/social/src/hooks/useWallet.ts:64:        apiBaseConfig: cfg.apiBaseConfig\napps/social/src/hooks/useWallet.ts:66:    [cfg.apiBase, cfg.apiBaseConfig, cfg.baseUrl]\napps/social/src/hooks/useWallet.ts:68:  const apiBase = useMemo(\napps/social/src/hooks/useWallet.ts:69:    () => resolveRuntimeApiBase(apiBaseConfig.baseUrl),\napps/social/src/hooks/useWallet.ts:70:    [apiBaseConfig.baseUrl]\napps/social/src/hooks/useWallet.ts:103:      const wsUrl = resolveRuntimeWsUrl(apiBaseConfig.baseUrl, '/ws/wallet');\napps/social/src/hooks/useWallet.ts:112:      const isEnabled = await checkWalletEnabled(apiBase);\napps/social/src/hooks/useWallet.ts:201:  }, [apiBase, apiBaseConfig.baseUrl, enabled, retryCount]);\napps/social/src/hooks/useOnboarding.ts:61:    const completed = localStorage.getItem(ONBOARDING_KEY);\napps/social/src/hooks/useOnboarding.ts:71:    localStorage.setItem(ONBOARDING_KEY, 'true');\napps/social/src/hooks/useOnboarding.ts:94:    localStorage.removeItem(ONBOARDING_KEY);\npackages/react/src/paywalled-content.tsx:9:  apiBase?: string;\npackages/react/src/paywalled-content.tsx:18:  apiBase,\npackages/react/src/paywalled-content.tsx:38:        baseURL: apiBase,\npackages/react/src/paywalled-content.tsx:49:    [amountSats, apiBase, host, handleUnlock, isUnlocked]\npackages/react/src/tip-widget.tsx:18:  baseUrl?: string;\npackages/react/src/tip-widget.tsx:44:  baseUrl,\npackages/react/src/tip-widget.tsx:66:      baseUrl: baseUrl ?? cfg.baseUrl\npackages/react/src/tip-widget.tsx:68:  }, [lnAddress, baseUrl, host, cfg.lnAddress, cfg.baseUrl, cfg.host]);\npackages/react/src/tip-widget.tsx:104:      baseURL: resolved.baseUrl,\npackages/react/src/tip-widget.tsx:122:    resolved.baseUrl,\napps/social/src/screens/SearchScreen.tsx:57:  const apiBaseConfig = resolveGalleryApiBase(cfg);\napps/social/src/screens/SearchScreen.tsx:58:  const apiBase = apiBaseConfig.baseUrl;\napps/social/src/screens/SearchScreen.tsx:68:  const { status, result, error, resolveNow } = useIdentityResolver(identityInput, { apiBase });\napps/social/src/screens/SearchScreen.tsx:330:      baseUrl: apiBase,\napps/social/src/screens/SearchScreen.tsx:358:  }, [status, result, npub, apiBase, profileRetryKey]);\npackages/react/src/tip-button.tsx:13:  baseUrl?: string;\npackages/react/src/tip-button.tsx:22:  baseUrl,\npackages/react/src/tip-button.tsx:37:    const resolvedBase = baseUrl ?? cfg.baseUrl;\npackages/react/src/tip-button.tsx:50:  }, [lnAddress, amountSats, label, baseUrl, host, cfg.lnAddress, cfg.baseUrl, cfg.host]);\npackages/react/src/send-sats.tsx:47:  apiBase?: string;\npackages/react/src/send-sats.tsx:66:  apiBase,\npackages/react/src/send-sats.tsx:97:  const apiBaseRaw = apiBase ?? cfg.apiBase ?? cfg.baseUrl ?? '';\npackages/react/src/send-sats.tsx:98:  const apiBaseConfig = useMemo(\npackages/react/src/send-sats.tsx:99:    () => cfg.apiBaseConfig ?? resolveApiBase(apiBaseRaw),\npackages/react/src/send-sats.tsx:100:    [cfg.apiBaseConfig, apiBaseRaw]\npackages/react/src/send-sats.tsx:102:  const resolvedApiBase = apiBaseConfig.baseUrl;\npackages/react/src/send-sats.tsx:104:  const regtestAvailable = regtestEnabled && apiBaseConfig.isConfigured;\npackages/react/src/send-sats.tsx:106:    regtestEnabled && !apiBaseConfig.isConfigured\npackages/react/src/send-sats.tsx:352:    if (!apiBaseConfig.isConfigured) {\npackages/react/src/send-sats.tsx:398:  }, [invoice, regtestEnabled, apiBaseConfig.isConfigured, resolvedApiBase, emitPaymentTelemetry]);\napps/social/src/screens/SettingsScreen.tsx:26:  const raw = window.localStorage.getItem(NWC_PAYMENT_KEY);\napps/social/src/screens/SettingsScreen.tsx:188:    const raw = window.localStorage.getItem(NWC_STORAGE_KEY);\napps/social/src/screens/SettingsScreen.tsx:189:    const rememberRaw = window.localStorage.getItem(NWC_REMEMBER_KEY);\napps/social/src/screens/SettingsScreen.tsx:243:      const raw = window.localStorage.getItem(DEV_NETWORK_KEY);\napps/social/src/screens/SettingsScreen.tsx:335:      window.localStorage.setItem(NWC_REMEMBER_KEY, persistNwc ? '1' : '0');\napps/social/src/screens/SettingsScreen.tsx:337:        window.localStorage.setItem(NWC_STORAGE_KEY, JSON.stringify(payload));\napps/social/src/screens/SettingsScreen.tsx:339:        window.localStorage.removeItem(NWC_STORAGE_KEY);\napps/social/src/screens/SettingsScreen.tsx:362:      window.localStorage.removeItem(NWC_STORAGE_KEY);\napps/social/src/screens/SettingsScreen.tsx:374:    window.localStorage.setItem(NWC_REMEMBER_KEY, next ? '1' : '0');\napps/social/src/screens/SettingsScreen.tsx:376:      window.localStorage.removeItem(NWC_STORAGE_KEY);\napps/social/src/screens/SettingsScreen.tsx:388:      window.localStorage.setItem(NWC_STORAGE_KEY, JSON.stringify(payload));\napps/social/src/screens/SettingsScreen.tsx:462:      window.localStorage.setItem(DEV_NETWORK_KEY, value);\napps/social/src/screens/SettingsScreen.tsx:464:      window.localStorage.removeItem(DEV_NETWORK_KEY);\napps/social/src/screens/SettingsScreen.tsx:673:            localStorage.removeItem('nostrstack.onboarding.v1');\npackages/react/src/tip-activity-feed.tsx:13:  baseUrl?: string;\npackages/react/src/tip-activity-feed.tsx:22:  baseUrl,\npackages/react/src/tip-activity-feed.tsx:33:      baseUrl: baseUrl ?? cfg.baseUrl\npackages/react/src/tip-activity-feed.tsx:35:  }, [lnAddress, baseUrl, host, cfg.lnAddress, cfg.baseUrl, cfg.host]);\npackages/react/src/tip-activity-feed.tsx:45:      baseURL: resolved.baseUrl,\npackages/react/src/tip-activity-feed.tsx:57:  }, [itemId, maxItems, resolved.baseUrl, resolved.host]);\npackages/react/src/send-sats.test.tsx:32:  baseUrl: 'http://localhost:3001',\npackages/react/src/send-sats.test.tsx:67:      apiBase: 'http://localhost:3001',\npackages/react/src/send-sats.test.tsx:68:      baseUrl: 'http://localhost:3001',\npackages/react/src/send-sats.test.tsx:69:      apiBaseConfig: mockApiBaseConfig,\npackages/react/src/support-section.tsx:46:  baseUrl?: string;\npackages/react/src/support-section.tsx:93:  baseUrl,\npackages/react/src/support-section.tsx:166:      baseUrl={baseUrl ?? cfg.baseUrl}\napps/social/src/screens/EventDetailScreen.tsx:233:  const apiBaseConfig = useMemo(\napps/social/src/screens/EventDetailScreen.tsx:236:        apiBase: cfg.apiBase,\napps/social/src/screens/EventDetailScreen.tsx:237:        baseUrl: cfg.baseUrl,\napps/social/src/screens/EventDetailScreen.tsx:238:        apiBaseConfig: cfg.apiBaseConfig\napps/social/src/screens/EventDetailScreen.tsx:240:    [cfg.apiBase, cfg.apiBaseConfig, cfg.baseUrl]\napps/social/src/screens/EventDetailScreen.tsx:242:  const apiBase = apiBaseConfig.baseUrl;\napps/social/src/screens/EventDetailScreen.tsx:441:            baseUrl: apiBase,\napps/social/src/screens/EventDetailScreen.tsx:506:        if (apiBaseConfig.isConfigured) {\napps/social/src/screens/EventDetailScreen.tsx:510:                baseUrl: apiBase,\napps/social/src/screens/EventDetailScreen.tsx:586:    apiBase,\napps/social/src/screens/EventDetailScreen.tsx:587:    apiBaseConfig.isConfigured,\napps/social/src/screens/EventDetailScreen.tsx:606:  const previewsEnabled = apiBaseConfig.isConfigured;\napps/social/src/screens/EventDetailScreen.tsx:649:    apiBaseConfig.isConfigured &&\napps/social/src/screens/EventDetailScreen.tsx:669:        baseUrl: apiBase,\napps/social/src/screens/EventDetailScreen.tsx:764:              apiBase={apiBase}\napps/social/src/screens/EventDetailScreen.tsx:815:                      apiBase={apiBase}\napps/social/src/screens/EventDetailScreen.tsx:865:                              apiBase={apiBase}\napps/social/src/features/wallet/WalletView.tsx:20:  apiBase: string;\napps/social/src/features/wallet/WalletView.tsx:31:  apiBase,\napps/social/src/features/wallet/WalletView.tsx:162:      const res = await fetch(`${apiBase}/api/lnurl-withdraw/request`, {\napps/social/src/features/wallet/WalletView.tsx:183:  }, [apiBase, apiConfigured, maxWithdrawMsat, open, withdrawEnabled]);\napps/social/src/features/wallet/WalletView.tsx:220:        const res = await fetch(`${apiBase}/api/lnurl-withdraw/status/${request.k1}`);\napps/social/src/features/wallet/WalletView.tsx:251:  }, [apiBase, open, request, status, toast]);\npackages/react/src/nostr-profile.tsx:11:  baseUrl?: string;\npackages/react/src/nostr-profile.tsx:20:  baseUrl,\npackages/react/src/nostr-profile.tsx:30:      baseUrl: baseUrl ?? cfg.baseUrl,\npackages/react/src/nostr-profile.tsx:34:    [baseUrl, host, relays, cfg.baseUrl, cfg.host, cfg.relays]\npackages/react/src/nostr-profile.tsx:44:      baseURL: resolved.baseUrl,\npackages/react/src/nostr-profile.tsx:58:  }, [identifier, resolved.baseUrl, resolved.host, resolved.relays, title]);\npackages/react/src/zap-button.tsx:44:  apiBase?: string;\npackages/react/src/zap-button.tsx:86:  apiBase,\npackages/react/src/zap-button.tsx:135:  const apiBaseRaw = apiBase ?? cfg.apiBase ?? cfg.baseUrl ?? '';\npackages/react/src/zap-button.tsx:136:  const apiBaseConfig = useMemo(\npackages/react/src/zap-button.tsx:137:    () => cfg.apiBaseConfig ?? resolveApiBase(apiBaseRaw),\npackages/react/src/zap-button.tsx:138:    [cfg.apiBaseConfig, apiBaseRaw]\npackages/react/src/zap-button.tsx:140:  const resolvedApiBase = apiBaseConfig.baseUrl;\npackages/react/src/zap-button.tsx:142:  const regtestAvailable = regtestEnabled && apiBaseConfig.isConfigured;\npackages/react/src/zap-button.tsx:144:    regtestEnabled && !apiBaseConfig.isConfigured\npackages/react/src/zap-button.tsx:450:    if (!apiBaseConfig.isConfigured) {\npackages/react/src/zap-button.tsx:497:  }, [invoice, regtestEnabled, apiBaseConfig.isConfigured, resolvedApiBase, emitPaymentTelemetry]);\napps/social/src/screens/LoginScreen.tsx:47:  const apiBaseRaw = cfg.apiBase ?? cfg.baseUrl ?? '';\napps/social/src/screens/LoginScreen.tsx:48:  const apiBaseConfig = useMemo(\napps/social/src/screens/LoginScreen.tsx:49:    () => cfg.apiBaseConfig ?? resolveApiBase(apiBaseRaw),\napps/social/src/screens/LoginScreen.tsx:50:    [cfg.apiBaseConfig, apiBaseRaw]\napps/social/src/screens/LoginScreen.tsx:52:  const apiBase = useMemo(() => {\napps/social/src/screens/LoginScreen.tsx:53:    if (apiBaseConfig.isRelative) return '';\napps/social/src/screens/LoginScreen.tsx:54:    return apiBaseConfig.baseUrl;\napps/social/src/screens/LoginScreen.tsx:55:  }, [apiBaseConfig.baseUrl, apiBaseConfig.isRelative]);\napps/social/src/screens/LoginScreen.tsx:83:    if (!apiBaseConfig.isConfigured) {\napps/social/src/screens/LoginScreen.tsx:90:      const response = await fetch(`${apiBase}/api/lnurl-auth/request`);\napps/social/src/screens/LoginScreen.tsx:107:  }, [apiBase, apiBaseConfig.isConfigured, enableLnurlAuth]);\napps/social/src/screens/LoginScreen.tsx:266:        const response = await fetch(`${apiBase}/api/lnurl-auth/status/${lnurlRequest.k1}`);\napps/social/src/screens/LoginScreen.tsx:299:  }, [apiBase, lnurlModalOpen, lnurlRequest, lnurlStatus, loginWithLnurl]);\napps/social/src/screens/LoginScreen.tsx:385:                localStorage.setItem('nostrstack.guest', 'true');\npackages/react/src/index.test.tsx:156:      <NostrstackProvider baseUrl=\"http://localhost:3001\">\napps/social/src/screens/ProfileScreen.tsx:56:  const apiBase = resolveRuntimeApiBase(\napps/social/src/screens/ProfileScreen.tsx:58:      apiBase: cfg.apiBase,\napps/social/src/screens/ProfileScreen.tsx:59:      baseUrl: cfg.baseUrl,\napps/social/src/screens/ProfileScreen.tsx:60:      apiBaseConfig: cfg.apiBaseConfig\napps/social/src/screens/ProfileScreen.tsx:61:    }).baseUrl\napps/social/src/screens/ProfileScreen.tsx:259:        apiBase={apiBase}\napps/social/src/screens/ProfileScreen.tsx:263:    [profile?.lud16, profile?.lud06, apiBase, enableRegtestPay]\npackages/react/src/comment-tip-widget.tsx:22:  baseUrl?: string;\npackages/react/src/comment-tip-widget.tsx:61:  baseUrl,\npackages/react/src/comment-tip-widget.tsx:83:      baseUrl: baseUrl ?? cfg.baseUrl\npackages/react/src/comment-tip-widget.tsx:85:  }, [lnAddress, baseUrl, host, cfg.lnAddress, cfg.baseUrl, cfg.host]);\npackages/react/src/comment-tip-widget.tsx:103:      baseURL: resolved.baseUrl,\npackages/react/src/comment-tip-widget.tsx:143:    resolved.baseUrl,\napps/social/src/layout/TelemetryBar.tsx:23:import { resolveGalleryApiBase, resolveRuntimeWsUrl } from '../utils/api-base';\napps/social/src/layout/TelemetryBar.tsx:285:  const apiBaseConfig = useMemo(\napps/social/src/layout/TelemetryBar.tsx:288:        apiBase: cfg.apiBase,\napps/social/src/layout/TelemetryBar.tsx:289:        baseUrl: cfg.baseUrl,\napps/social/src/layout/TelemetryBar.tsx:290:        apiBaseConfig: cfg.apiBaseConfig\napps/social/src/layout/TelemetryBar.tsx:292:    [cfg.apiBase, cfg.apiBaseConfig, cfg.baseUrl]\napps/social/src/layout/TelemetryBar.tsx:369:      const raw = window.localStorage.getItem(DEV_NETWORK_KEY);\napps/social/src/layout/TelemetryBar.tsx:471:    const telemetryWsUrl = resolveRuntimeWsUrl(apiBaseConfig.baseUrl, '/ws/telemetry');\napps/social/src/layout/TelemetryBar.tsx:683:  }, [apiBaseConfig.baseUrl, appendLog, refresh, telemetryTiming]);\npackages/react/src/blockchain-stats.tsx:9:  baseUrl?: string;\npackages/react/src/blockchain-stats.tsx:15:export function BlockchainStats({ baseUrl, host, title, className }: BlockchainStatsProps) {\npackages/react/src/blockchain-stats.tsx:21:      baseUrl: baseUrl ?? cfg.baseUrl,\npackages/react/src/blockchain-stats.tsx:24:    [baseUrl, host, cfg.baseUrl, cfg.host]\npackages/react/src/blockchain-stats.tsx:33:      baseURL: resolved.baseUrl,\npackages/react/src/blockchain-stats.tsx:46:  }, [resolved.baseUrl, resolved.host, title]);\napps/social/src/screens/FeedScreen.tsx:33:  const apiBase = resolveRuntimeApiBase(\napps/social/src/screens/FeedScreen.tsx:35:      apiBase: cfg.apiBase,\napps/social/src/screens/FeedScreen.tsx:36:      baseUrl: cfg.baseUrl,\napps/social/src/screens/FeedScreen.tsx:37:      apiBaseConfig: cfg.apiBaseConfig\napps/social/src/screens/FeedScreen.tsx:38:    }).baseUrl\napps/social/src/screens/FeedScreen.tsx:99:    const saved = localStorage.getItem('nostrstack.feedMode');\napps/social/src/screens/FeedScreen.tsx:107:    const saved = localStorage.getItem('nostrstack.sortMode');\napps/social/src/screens/FeedScreen.tsx:111:  // Persist feed mode to localStorage\napps/social/src/screens/FeedScreen.tsx:114:      localStorage.setItem('nostrstack.feedMode', feedMode);\napps/social/src/screens/FeedScreen.tsx:118:  // Persist sort mode to localStorage\napps/social/src/screens/FeedScreen.tsx:121:      localStorage.setItem('nostrstack.sortMode', sortMode);\napps/social/src/screens/FeedScreen.tsx:238:        apiBase={apiBase}\napps/social/src/screens/FeedScreen.tsx:243:    [apiBase, enableRegtestPay, handleOpenThread]\npackages/react/src/zap-button.test.tsx:55:      apiBase: 'https://api.example.com',\napps/social/src/layout/Sidebar.tsx:96:  const apiBaseConfig = resolveGalleryApiBase(cfg);\napps/social/src/layout/Sidebar.tsx:97:  const apiBase = apiBaseConfig.baseUrl;\napps/social/src/layout/Sidebar.tsx:129:    withdrawEnabled && apiBaseConfig.isConfigured && (wallet?.balance ?? 0) >= 1;\napps/social/src/layout/Sidebar.tsx:132:    : !apiBaseConfig.isConfigured\napps/social/src/layout/Sidebar.tsx:136:    regtestFundEnabled && !apiBaseConfig.isConfigured\napps/social/src/layout/Sidebar.tsx:143:      const raw = window.localStorage.getItem(DEV_NETWORK_KEY);\napps/social/src/layout/Sidebar.tsx:165:    if (!apiBaseConfig.isConfigured) {\napps/social/src/layout/Sidebar.tsx:175:      const url = apiBase ? `${apiBase}/api/regtest/fund` : '/api/regtest/fund';\napps/social/src/layout/Sidebar.tsx:400:                  disabled={isFunding || !apiBaseConfig.isConfigured}\napps/social/src/layout/Sidebar.tsx:405:                      : !apiBaseConfig.isConfigured\napps/social/src/layout/Sidebar.tsx:410:                  {!apiBaseConfig.isConfigured ? (\napps/social/src/layout/Sidebar.tsx:483:          apiBase={apiBase}\napps/social/src/layout/Sidebar.tsx:484:          apiConfigured={apiBaseConfig.isConfigured}\napps/social/src/layout/Sidebar.test.tsx:23:      apiBase: 'https://api.example.test'\napps/social/src/RelaysView.tsx:177:    return (localStorage.getItem(SORT_STORAGE_KEY) as SortOption) || 'name';\napps/social/src/RelaysView.tsx:181:    return (localStorage.getItem(FILTER_STORAGE_KEY) as FilterOption) || 'all';\napps/social/src/RelaysView.tsx:291:      localStorage.setItem(SORT_STORAGE_KEY, sortBy);\napps/social/src/RelaysView.tsx:297:      localStorage.setItem(FILTER_STORAGE_KEY, filterBy);\npackages/react/src/auth.tsx:70:      const mode = localStorage.getItem(STORAGE_KEY_MODE) as AuthMode | null;\npackages/react/src/auth.tsx:100:        const nsec = localStorage.getItem(STORAGE_KEY_NSEC);\npackages/react/src/auth.tsx:109:            localStorage.removeItem(STORAGE_KEY_MODE);\npackages/react/src/auth.tsx:110:            localStorage.removeItem(STORAGE_KEY_NSEC);\npackages/react/src/auth.tsx:122:        const linkingKey = localStorage.getItem(STORAGE_KEY_LNURL);\npackages/react/src/auth.tsx:126:          localStorage.removeItem(STORAGE_KEY_MODE);\npackages/react/src/auth.tsx:127:          localStorage.removeItem(STORAGE_KEY_LNURL);\npackages/react/src/auth.tsx:145:      localStorage.setItem(STORAGE_KEY_MODE, 'nip07');\npackages/react/src/auth.tsx:163:      localStorage.setItem(STORAGE_KEY_MODE, 'nsec');\npackages/react/src/auth.tsx:164:      localStorage.setItem(STORAGE_KEY_NSEC, cleanNsec);\npackages/react/src/auth.tsx:179:    localStorage.setItem(STORAGE_KEY_MODE, 'lnurl');\npackages/react/src/auth.tsx:180:    localStorage.setItem(STORAGE_KEY_LNURL, cleanKey);\npackages/react/src/auth.tsx:185:    localStorage.removeItem(STORAGE_KEY_MODE);\npackages/react/src/auth.tsx:186:    localStorage.removeItem(STORAGE_KEY_NSEC);\npackages/react/src/auth.tsx:187:    localStorage.removeItem(STORAGE_KEY_LNURL);\npackages/react/src/auth.tsx:196:        const nsec = localStorage.getItem(STORAGE_KEY_NSEC);\npackages/react/src/auth.tsx:213:        const nsec = localStorage.getItem(STORAGE_KEY_NSEC);\npackages/react/src/auth.tsx:228:        const nsec = localStorage.getItem(STORAGE_KEY_NSEC);\npackages/react/src/blockchain-stats.test.tsx:17:      baseUrl: 'https://api.example.com'\npackages/react/src/auth.test.tsx:41:    localStorage.clear();\npackages/react/src/auth.test.tsx:95:    expect(localStorage.getItem('nostrstack.auth.mode')).toBe('nip07');\npackages/react/src/auth.test.tsx:101:    localStorage.setItem('nostrstack.auth.mode', 'nip07'); // Trigger polling\npackages/react/src/auth.test.tsx:179:    expect(localStorage.getItem('nostrstack.auth.mode')).toBe('nsec');\npackages/react/src/auth.test.tsx:180:    expect(localStorage.getItem('nostrstack.auth.nsec')).toBe(mockNsec);\npackages/react/src/auth.test.tsx:232:    expect(localStorage.getItem('nostrstack.auth.mode')).toBe(null);\npackages/react/src/auth.test.tsx:233:    expect(localStorage.getItem('nostrstack.auth.nsec')).toBe(null);\npackages/react/src/context.tsx:31:  apiBase?: string;\npackages/react/src/context.tsx:32:  apiBaseConfig?: ApiBaseResolution;\npackages/react/src/context.tsx:33:  baseUrl?: string;\npackages/react/src/context.tsx:65:  const raw = window.localStorage.getItem(NWC_STORAGE_KEY);\npackages/react/src/api-base.test.ts:32:  it('preserves localhost:3002 API base and keeps local HTTP on secure pages', () => {\npackages/react/src/api-base.test.ts:34:    const result = resolveApiBase('http://localhost:3002');\npackages/react/src/api-base.test.ts:36:    expect(result.baseUrl).toBe('http://localhost:3002');\npackages/react/src/api-base.test.ts:37:    expect(result.raw).toBe('http://localhost:3002');\npackages/react/src/api-base.test.ts:40:  it('normalizes legacy localhost:3002 HTTPS API base URLs', () => {\npackages/react/src/api-base.test.ts:42:    const result = resolveApiBase('https://localhost:3002');\npackages/react/src/api-base.test.ts:44:    expect(result.baseUrl).toBe('https://localhost:3002');\npackages/react/src/api-base.test.ts:45:    expect(result.raw).toBe('https://localhost:3002');\npackages/react/src/api-base.test.ts:48:  it('normalizes legacy localhost:3002 on non-secure pages', () => {\npackages/react/src/api-base.test.ts:50:    const result = resolveApiBase('http://localhost:3002');\npackages/react/src/api-base.test.ts:52:    expect(result.baseUrl).toBe('http://localhost:3002');\npackages/react/src/api-base.test.ts:53:    expect(result.raw).toBe('http://localhost:3002');\npackages/react/src/api-base.test.ts:61:    expect(result.baseUrl).toBe('http://127.0.0.1:4001');\npackages/react/src/api-base.test.ts:69:    expect(result.baseUrl).toBe('');\npackages/react/src/api-base.test.ts:78:    expect(result.baseUrl).toBe('');\npackages/react/src/hooks/useBitcoinStatus.ts:71:async function fetchBitcoinStatus(baseUrl: string): Promise<BitcoinStatus> {\npackages/react/src/hooks/useBitcoinStatus.ts:72:  const url = baseUrl ? `${baseUrl}/api/bitcoin/status` : '/api/bitcoin/status';\npackages/react/src/hooks/useBitcoinStatus.ts:81:async function fetchBitcoinStatusCached(cacheKey: string, baseUrl: string): Promise<BitcoinStatus> {\npackages/react/src/hooks/useBitcoinStatus.ts:87:  const promise = fetchBitcoinStatus(baseUrl);\npackages/react/src/hooks/useBitcoinStatus.ts:112:export function useBitcoinStatus(apiBase?: string): BitcoinStatusState {\npackages/react/src/hooks/useBitcoinStatus.ts:114:  const apiBaseRaw = apiBase ?? cfg.apiBase ?? cfg.baseUrl ?? '';\npackages/react/src/hooks/useBitcoinStatus.ts:115:  const apiBaseConfig = useMemo(\npackages/react/src/hooks/useBitcoinStatus.ts:116:    () => cfg.apiBaseConfig ?? resolveApiBase(apiBaseRaw),\npackages/react/src/hooks/useBitcoinStatus.ts:117:    [cfg.apiBaseConfig, apiBaseRaw]\npackages/react/src/hooks/useBitcoinStatus.ts:119:  const cacheKey = apiBaseConfig.isConfigured\npackages/react/src/hooks/useBitcoinStatus.ts:120:    ? apiBaseConfig.isRelative\npackages/react/src/hooks/useBitcoinStatus.ts:122:      : apiBaseConfig.baseUrl\npackages/react/src/hooks/useBitcoinStatus.ts:128:  const [isLoading, setIsLoading] = useState<boolean>(apiBaseConfig.isConfigured && !status);\npackages/react/src/hooks/useBitcoinStatus.ts:157:    if (!apiBaseConfig.isConfigured) {\npackages/react/src/hooks/useBitcoinStatus.ts:160:      setError(apiBaseConfig.isMock ? 'API base is mock.' : 'API base not configured.');\npackages/react/src/hooks/useBitcoinStatus.ts:180:    const baseUrl = apiBaseConfig.isRelative ? '' : apiBaseConfig.baseUrl;\npackages/react/src/hooks/useBitcoinStatus.ts:181:    fetchBitcoinStatusCached(cacheKey, baseUrl)\npackages/react/src/hooks/useBitcoinStatus.ts:204:    apiBaseConfig.baseUrl,\npackages/react/src/hooks/useBitcoinStatus.ts:205:    apiBaseConfig.isConfigured,\npackages/react/src/hooks/useBitcoinStatus.ts:206:    apiBaseConfig.isMock,\npackages/react/src/hooks/useBitcoinStatus.ts:207:    apiBaseConfig.isRelative,\npackages/react/src/hooks/useBitcoinStatus.ts:217:    isConfigured: apiBaseConfig.isConfigured,\napps/social/src/utils/api-base.ts:8:  apiBase?: string;\napps/social/src/utils/api-base.ts:9:  baseUrl?: string;\napps/social/src/utils/api-base.ts:10:  apiBaseConfig?: ApiBaseResolution;\napps/social/src/utils/api-base.ts:122:export function resolveRuntimeWsUrl(baseURL: string | undefined, path: string): string | null {\napps/social/src/utils/api-base.ts:163:  if (config.apiBaseConfig) {\napps/social/src/utils/api-base.ts:164:    return config.apiBaseConfig;\napps/social/src/utils/api-base.ts:167:    config.apiBase,\napps/social/src/utils/api-base.ts:168:    config.baseUrl,\npackages/react/src/zap-button.stories.tsx:45:  apiBase: 'https://api.nostrstack.com',\npackages/react/src/zap-button.stories.tsx:46:  baseUrl: 'https://nostrstack.com',\napps/social/src/utils/api-base.test.tsx:3:import { resolveGalleryApiBase, resolveRuntimeApiBase, resolveRuntimeWsUrl } from './api-base';\napps/social/src/utils/api-base.test.tsx:5:describe('resolveRuntimeWsUrl', () => {\napps/social/src/utils/api-base.test.tsx:9:  it('preserves localhost:3002 API base', () => {\napps/social/src/utils/api-base.test.tsx:10:    const apiBase = resolveRuntimeApiBase('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:11:    expect(apiBase).toBe('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:14:  it('preserves localhost:3002 in gallery API base resolution', () => {\napps/social/src/utils/api-base.test.tsx:15:    const apiBase = resolveGalleryApiBase({ apiBase: 'http://localhost:3002' });\napps/social/src/utils/api-base.test.tsx:16:    expect(apiBase.baseUrl).toBe('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:17:    expect(apiBase.isConfigured).toBe(true);\napps/social/src/utils/api-base.test.tsx:18:    expect(apiBase.raw).toBe('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:22:    const url = resolveRuntimeWsUrl('https://api.local', '/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:23:    expect(url).toBe('wss://api.local/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:34:      const url = resolveRuntimeWsUrl('http://localhost:3001', '/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:35:      expect(url).toBe('ws://localhost:3001/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:52:      const url = resolveRuntimeWsUrl('ws://localhost:3001', '/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:53:      expect(url).toBe('wss://localhost:3001/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:63:    const url = resolveRuntimeWsUrl('/api', '/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:64:    expect(url).toBe(`${getWebSocketOrigin()}/ws/telemetry`);\napps/social/src/utils/api-base.test.tsx:68:    const url = resolveRuntimeWsUrl('/api-proxy', '/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:69:    expect(url).toBe(`${getWebSocketOrigin()}/api-proxy/ws/telemetry`);\npackages/react/src/api-base.ts:3:  baseUrl: string;\npackages/react/src/api-base.ts:33:    return { raw: '', baseUrl: '', isConfigured: false, isMock: false, isRelative: false };\npackages/react/src/api-base.ts:37:    return { raw: trimmed, baseUrl: '', isConfigured: false, isMock: true, isRelative: false };\npackages/react/src/api-base.ts:40:    return { raw: trimmed, baseUrl: '', isConfigured: true, isMock: false, isRelative: true };\npackages/react/src/api-base.ts:46:    baseUrl: preferSecureBase(cleaned),\napps/social/src/utils/mock-relay.ts:121:        if (this.url.includes('/ws/telemetry')) {\napps/social/src/utils/mock-relay.ts:248:      resolved.includes('/ws/telemetry') ||\npackages/react/src/nwc-pay.ts:40:      window.localStorage.setItem(NWC_PAYMENT_KEY, JSON.stringify(payload));\napps/social/src/utils/identity.test.tsx:67:    const result = await resolveIdentity('Alice@LocalHost', { apiBase: 'https://api.example.com' });\napps/social/src/utils/identity.test.tsx:81:  it('resolves nip05 via proxy when apiBase has trailing slash', async () => {\napps/social/src/utils/identity.test.tsx:89:    const result = await resolveIdentity('Bob@LocalHost', { apiBase: '/api/' });\napps/social/src/utils/identity.test.tsx:109:    const result = await resolveIdentity('alice@localhost', { apiBase: 'https://api.example.com' });\napps/social/src/utils/identity.test.tsx:122:    const result = await resolveIdentity('alice@localhost', { apiBase: 'https://api.example.com' });\npackages/react/src/send-sats.stories.tsx:31:  apiBase: 'https://api.nostrstack.com',\npackages/react/src/send-sats.stories.tsx:32:  baseUrl: 'https://nostrstack.com',\npackages/react/src/reaction-button.stories.tsx:132:            <ReactionButton event={{ ...mockEvent, kind: 30023 }} />\napps/social/src/utils/identity.ts:38:  apiBase?: string;\napps/social/src/utils/identity.ts:39:  apiBaseConfig?: ApiBaseResolution;\napps/social/src/utils/identity.ts:118:  const { apiBase, apiBaseConfig, timeoutMs = 3000, signal } = options;\napps/social/src/utils/identity.ts:119:  const apiConfig = resolveGalleryApiBase({ apiBase, apiBaseConfig });\napps/social/src/utils/identity.ts:120:  const base = apiConfig.baseUrl || '';\napps/social/src/ui/ThreadedReplies.tsx:10:  apiBase: string;\napps/social/src/ui/ThreadedReplies.tsx:67:  apiBase,\napps/social/src/ui/ThreadedReplies.tsx:74:  apiBase: string;\napps/social/src/ui/ThreadedReplies.tsx:97:          apiBase={apiBase}\napps/social/src/ui/ThreadedReplies.tsx:133:                apiBase={apiBase}\napps/social/src/ui/ThreadedReplies.tsx:148:  apiBase,\napps/social/src/ui/ThreadedReplies.tsx:168:          apiBase={apiBase}\napps/social/src/nostr/api.ts:103:function normalizeApiEventBase(baseUrl: string) {\napps/social/src/nostr/api.ts:104:  const trimmed = baseUrl ? baseUrl.replace(/\\/+$/, '') : '';\napps/social/src/nostr/api.ts:157:  baseUrl: string;\napps/social/src/nostr/api.ts:169:  baseUrl: string,\napps/social/src/nostr/api.ts:180:  const base = baseUrl ? baseUrl.replace(/\\/$/, '') : '';\napps/social/src/nostr/api.ts:225:  const url = buildNostrEventUrl(options.baseUrl, options.id, {\napps/social/src/nostr/api.test.tsx:103:      baseUrl: 'https://api.nostrstack.com/api/',\napps/social/src/nostr/api.test.tsx:120:      baseUrl: '/api',\napps/social/src/nostr/api.test.tsx:145:        baseUrl: '/api',\napps/social/src/nostr/api.test.tsx:165:        baseUrl: '/api',\napps/social/src/nostr/eventRenderers.tsx:123:    case 30023:\napps/social/src/nostr/eventRenderers.tsx:432:  if (event.kind === 30023) {\napps/social/src/nostr/ReferencePreview.tsx:17:  apiBase: string;\napps/social/src/nostr/ReferencePreview.tsx:78:  if (event.kind === 30023) {\napps/social/src/nostr/ReferencePreview.tsx:93:export function ReferencePreview({ target, apiBase, hrefTarget }: ReferencePreviewProps) {\napps/social/src/nostr/ReferencePreview.tsx:104:          fetchNostrEventFromApi({ baseUrl: apiBase, id: target }),\napps/social/src/nostr/ReferencePreview.tsx:125:  }, [apiBase, targetKey]);\napps/social/src/nostr/relayHealth.ts:27:      const raw = localStorage.getItem(STATS_KEY);\napps/social/src/nostr/relayHealth.ts:43:      localStorage.setItem(STATS_KEY, JSON.stringify(obj));\napps/social/src/ui/NostrEventCard.tsx:77:  30023: 'Article',\napps/social/src/ui/NostrEventCard.tsx:113:  apiBase?: string;\napps/social/src/ui/NostrEventCard.tsx:123:  apiBase,\napps/social/src/ui/NostrEventCard.tsx:235:  const paywallApiBase = resolveRuntimeApiBase(apiBase);\napps/social/src/ui/NostrEventCard.tsx:297:              apiBase={paywallApiBase}\napps/social/src/ui/NostrEventCard.tsx:347:            apiBase={apiBase}\napps/social/src/ui/BlockCelebration.tsx:34:    soundEnabled: window.localStorage.getItem(CELEBRATION_SOUND_KEY) === 'true',\napps/social/src/ui/BlockCelebration.tsx:35:    animationEnabled: window.localStorage.getItem(CELEBRATION_ANIMATION_KEY) !== 'false',\napps/social/src/ui/BlockCelebration.tsx:36:    style: normalizeCelebrationStyle(window.localStorage.getItem(CELEBRATION_STYLE_KEY))\napps/social/src/ui/BlockCelebration.tsx:42:  window.localStorage.setItem(CELEBRATION_SOUND_KEY, String(prefs.soundEnabled));\napps/social/src/ui/BlockCelebration.tsx:43:  window.localStorage.setItem(CELEBRATION_ANIMATION_KEY, String(prefs.animationEnabled));\napps/social/src/ui/BlockCelebration.tsx:44:  window.localStorage.setItem(CELEBRATION_STYLE_KEY, prefs.style);\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_23","type":"reasoning","text":"**Inspecting app start ports**"}}
{"type":"item.started","item":{"id":"item_24","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '150,250p' apps/social/src/App.tsx\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_24","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '150,250p' apps/social/src/App.tsx\"","aggregated_output":"function usePathname() {\n  const [pathname, setPathname] = useState(() =>\n    typeof window === 'undefined' ? '/' : `${window.location.pathname}${window.location.search}`\n  );\n\n  useEffect(() => {\n    const handle = () => setPathname(`${window.location.pathname}${window.location.search}`);\n    window.addEventListener('popstate', handle);\n    return () => window.removeEventListener('popstate', handle);\n  }, []);\n\n  return pathname;\n}\n\nfunction getNostrRouteId(pathname: string) {\n  const match = pathname.match(/^\\/nostr\\/([^/?#]+)/i);\n  if (!match) return null;\n  try {\n    const raw = decodeURIComponent(match[1]);\n    return raw.replace(/^nostr:/i, '');\n  } catch {\n    return match[1];\n  }\n}\n\nconst THEME_STORAGE_KEY = 'nostrstack.theme';\nconst BRAND_PRESET_STORAGE_KEY = 'nostrstack.brandPreset';\nconst BRAND_PRESET_DEFAULT: NsBrandPreset = 'default';\nconst BRAND_PRESET_LIST: NsBrandPreset[] = Object.keys(nsBrandPresets) as NsBrandPreset[];\nconst LOCAL_API_HOSTS = new Set(['localhost', '127.0.0.1', '[::1]', '::1']);\nconst LOCAL_API_TIMEOUT_MS = 3_000;\nconst LOCAL_API_BASE_FALLBACK = '/api';\nconst RELAY_DEGRADED_WINDOW_MS = 5 * 60_000;\nconst LOCAL_API_UNAVAILABLE: ApiBaseResolution = {\n  raw: '',\n  baseUrl: '',\n  isConfigured: false,\n  isMock: false,\n  isRelative: false\n};\n\nfunction isLocalApiBase(apiBase: ApiBaseResolution): boolean {\n  if (!apiBase.baseUrl || apiBase.isRelative || !apiBase.isConfigured || apiBase.isMock)\n    return false;\n  try {\n    const parsed = new URL(apiBase.baseUrl);\n    return (\n      (parsed.protocol === 'http:' || parsed.protocol === 'https:') &&\n      LOCAL_API_HOSTS.has(parsed.hostname)\n    );\n  } catch {\n    return false;\n  }\n}\n\nfunction shouldProbeProxyForLocalApi(apiBase: ApiBaseResolution): boolean {\n  if (window.location.protocol !== 'https:') return false;\n  if (!isLocalApiBase(apiBase) || !apiBase.baseUrl) return false;\n  try {\n    const parsed = new URL(apiBase.baseUrl);\n    return parsed.protocol === 'http:' && LOCAL_API_HOSTS.has(parsed.hostname);\n  } catch {\n    return false;\n  }\n}\n\nfunction buildApiBaseFallback(): ApiBaseResolution {\n  return resolveGalleryApiBase({ apiBase: LOCAL_API_BASE_FALLBACK });\n}\n\nconst FALLBACK_API_BASE = resolveGalleryApiBase({ apiBase: LOCAL_API_BASE_FALLBACK });\n\nfunction isBrandPreset(value: string | null): value is NsBrandPreset {\n  return value !== null && (BRAND_PRESET_LIST as readonly string[]).includes(value);\n}\n\nfunction getInitialTheme(): 'light' | 'dark' {\n  if (typeof window === 'undefined') return 'light';\n  const stored = localStorage.getItem(THEME_STORAGE_KEY);\n  if (stored === 'light' || stored === 'dark') return stored;\n  // Respect system preference\n  if (window.matchMedia?.('(prefers-color-scheme: dark)').matches) return 'dark';\n  return 'light';\n}\n\nfunction getInitialBrandPreset(): NsBrandPreset {\n  if (typeof window === 'undefined') return BRAND_PRESET_DEFAULT;\n  const stored = localStorage.getItem(BRAND_PRESET_STORAGE_KEY);\n  return isBrandPreset(stored) ? stored : BRAND_PRESET_DEFAULT;\n}\n\nfunction hasRecentRelayFailures(now: number = Date.now()) {\n  const inMemoryStats = Object.values(relayMonitor.getStatsSnapshot()) as RelayStats[];\n  let persistedStats: RelayStats[] = [];\n  if (typeof window !== 'undefined') {\n    try {\n      const raw = window.localStorage.getItem('nostrstack.relayStats.v2');\n      if (raw) {\n        persistedStats = Object.values(JSON.parse(raw) as Record<string, RelayStats>);\n      }\n    } catch {\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_25","type":"reasoning","text":"**Investigating stale host in health check**"}}
{"type":"item.completed","item":{"id":"item_26","type":"agent_message","text":"I confirmed the app-level fallback is `/api`, not a hardcoded old port. Iâ€™m now checking backend telemetry/Bitcoin status code for any default host/port path that could still emit stale requests in logs."}}
{"type":"item.started","item":{"id":"item_27","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,320p' apps/api/src/telemetry/routes.ts\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_28","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,260p' apps/api/src/routes/telemetry-summary.ts\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_29","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"bitcoin/status|LN_BITS_URL|urlTried|localhost|3001|3002|telemetry\" apps/api/src -S'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_27","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,320p' apps/api/src/telemetry/routes.ts\"","aggregated_output":"import type { FastifyInstance, FastifyReply } from 'fastify';\n\nimport { env } from '../env.js';\nimport { type TelemetrySource, type TelemetrySummary } from './bitcoind.js';\nimport {\n  bitcoinStatusFailureCounter,\n  bitcoinStatusFetchDuration,\n  bitcoinStatusRequestCounter\n} from './metrics.js';\nimport { createTelemetryFetcher } from './providers.js';\n\ntype LnbitsHealth =\n  | { status: 'skipped'; reason: 'provider_not_lnbits' }\n  | { status: 'error'; error: 'LN_BITS_URL not set' }\n  | { status: 'ok'; httpStatus: number; elapsedMs: number; body: string; urlTried: string }\n  | { status: 'fail'; error: 'health endpoint not reachable'; elapsedMs: number };\n\ntype BitcoinStatus = {\n  network: string;\n  configuredNetwork: string;\n  source: TelemetrySource;\n  telemetry: TelemetrySummary;\n  telemetryError?: string;\n  lightning: {\n    provider: string;\n    lnbits: LnbitsHealth;\n  };\n};\n\ntype TelemetryFetchResult = {\n  source: TelemetrySource;\n  summary: TelemetrySummary;\n  error?: string;\n};\n\nexport function registerTelemetryRoutes(app: FastifyInstance) {\n  app.get('/metrics', async (_req, reply) => {\n    const body = await app.metricsRegistry.metrics();\n    reply.type('text/plain').send(body);\n  });\n\n  app.get('/config/env', async () => ({\n    env: env.NODE_ENV,\n    publicOrigin: env.PUBLIC_ORIGIN\n  }));\n\n  const lnbitsHealthHandler = async (): Promise<LnbitsHealth> => {\n    if (env.LIGHTNING_PROVIDER !== 'lnbits') {\n      return { status: 'skipped', reason: 'provider_not_lnbits' };\n    }\n    if (!env.LN_BITS_URL) {\n      return { status: 'error', error: 'LN_BITS_URL not set' };\n    }\n\n    const fetchWithTimeout = async (url: string) => {\n      const controller = new AbortController();\n      const timeout = setTimeout(() => controller.abort(), 3_000);\n      try {\n        return await fetch(url, { signal: controller.signal });\n      } catch (err) {\n        if (err instanceof Error && err.name === 'AbortError') {\n          throw new Error('lnbits health check timeout after 3000ms');\n        }\n        throw err;\n      } finally {\n        clearTimeout(timeout);\n      }\n    };\n\n    const started = Date.now();\n    const base = env.LN_BITS_URL.replace(/\\/$/, '');\n    const candidates = [`${base}/api/v1/health`, `${base}/status/health`];\n    for (const url of candidates) {\n      try {\n        const res = await fetchWithTimeout(url);\n        const body = await res.text();\n        if (res.ok) {\n          return {\n            status: 'ok',\n            httpStatus: res.status,\n            elapsedMs: Date.now() - started,\n            body: body.slice(0, 200),\n            urlTried: url\n          };\n        }\n      } catch {\n        // try next candidate\n      }\n    }\n    return {\n      status: 'fail',\n      error: 'health endpoint not reachable',\n      elapsedMs: Date.now() - started\n    };\n  };\n\n  const telemetryFetcher = createTelemetryFetcher();\n  const fetchTelemetry = async (): Promise<TelemetryFetchResult> =>\n    telemetryFetcher.fetchSummaryWithFallback();\n\n  // Expose under both roots: some clients treat \"/api\" as their base.\n  app.get('/health/lnbits', lnbitsHealthHandler);\n  app.get('/api/health/lnbits', lnbitsHealthHandler);\n\n  const bitcoinStatusHandler = async (): Promise<BitcoinStatus> => {\n    const telemetry = await fetchTelemetry();\n    const lnbits = await lnbitsHealthHandler();\n    const network = telemetry.summary.network || env.BITCOIN_NETWORK;\n    return {\n      network,\n      configuredNetwork: env.BITCOIN_NETWORK,\n      source: telemetry.source,\n      telemetry: telemetry.summary,\n      telemetryError: telemetry.error,\n      lightning: {\n        provider: env.LIGHTNING_PROVIDER,\n        lnbits\n      }\n    };\n  };\n\n  const handleBitcoinStatusRequest = async (reply: FastifyReply) => {\n    const started = Date.now();\n    let source: TelemetrySource | 'unknown' = 'unknown';\n    try {\n      const status = await bitcoinStatusHandler();\n      source = status.source;\n      const elapsedSeconds = (Date.now() - started) / 1000;\n      bitcoinStatusRequestCounter.labels('ok', source).inc();\n      bitcoinStatusFetchDuration.labels('ok', source).observe(elapsedSeconds);\n      if (status.telemetryError) {\n        bitcoinStatusFailureCounter.labels('telemetry_error').inc();\n      }\n      if (status.lightning.lnbits.status === 'error') {\n        bitcoinStatusFailureCounter.labels('lnbits_config').inc();\n      } else if (status.lightning.lnbits.status === 'fail') {\n        bitcoinStatusFailureCounter.labels('lnbits_unreachable').inc();\n      }\n      return reply.send(status);\n    } catch (err) {\n      const elapsedSeconds = (Date.now() - started) / 1000;\n      bitcoinStatusRequestCounter.labels('error', source).inc();\n      bitcoinStatusFetchDuration.labels('error', source).observe(elapsedSeconds);\n      bitcoinStatusFailureCounter.labels('handler_exception').inc();\n      app.log.warn({ err }, 'bitcoin status failed');\n      return reply.status(502).send({\n        error: 'bitcoin_status_unavailable',\n        message: 'Bitcoin status unavailable.'\n      });\n    }\n  };\n\n  app.get('/bitcoin/status', async (_req, reply) => handleBitcoinStatusRequest(reply));\n  app.get('/api/bitcoin/status', async (_req, reply) => handleBitcoinStatusRequest(reply));\n}\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_28","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,260p' apps/api/src/routes/telemetry-summary.ts\"","aggregated_output":"import type { FastifyInstance } from 'fastify';\n\nimport { telemetrySummaryCounter } from '../telemetry/metrics.js';\nimport { createTelemetryFetcher } from '../telemetry/providers.js';\n\nconst CACHE_TTL_MS = 10_000;\n\nexport async function registerTelemetrySummaryRoute(app: FastifyInstance) {\n  const telemetryFetcher = createTelemetryFetcher({ cacheTtlMs: CACHE_TTL_MS });\n\n  app.get('/api/telemetry/summary', {\n    schema: {\n      response: {\n        200: {\n          type: 'object',\n          additionalProperties: true,\n          properties: {\n            type: { type: 'string' },\n            source: { type: 'string' },\n            height: { type: 'integer' },\n            hash: { type: 'string' },\n            time: { type: 'integer' },\n            txs: { type: 'integer' },\n            size: { type: 'integer' },\n            weight: { type: 'integer' },\n            interval: { type: 'integer' },\n            mempoolTxs: { type: 'integer' },\n            mempoolBytes: { type: 'integer' },\n            network: { type: 'string' },\n            version: { type: 'integer' },\n            subversion: { type: 'string' },\n            connections: { type: 'integer' },\n            headers: { type: 'integer' },\n            blocks: { type: 'integer' },\n            verificationProgress: { type: 'number' },\n            initialBlockDownload: { type: 'boolean' }\n          }\n        },\n        502: {\n          type: 'object',\n          properties: {\n            error: { type: 'string' },\n            message: { type: 'string' },\n            requestId: { type: 'string' }\n          }\n        }\n      }\n    }\n  }, async (request, reply) => {\n    try {\n      const result = await telemetryFetcher.fetchSummaryWithFallback();\n      if (result.cached) {\n        telemetrySummaryCounter.labels('cached').inc();\n      } else if (result.source === 'mock') {\n        telemetrySummaryCounter.labels('mock').inc();\n      } else {\n        telemetrySummaryCounter.labels('ok').inc();\n      }\n      if (result.source === 'mock' && result.error) {\n        app.log.warn({ err: result.error }, 'telemetry summary fetch failed, returning mock data');\n      }\n      return reply.send({ type: 'block', source: result.source, ...result.summary });\n    } catch (err) {\n      telemetrySummaryCounter.labels('error').inc();\n      app.log.warn({ err }, 'telemetry summary fetch failed');\n      return reply.code(502).send({\n        error: 'telemetry_unavailable',\n        message: 'Telemetry data unavailable.',\n        requestId: request.id\n      });\n    }\n  });\n}\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_29","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"bitcoin/status|LN_BITS_URL|urlTried|localhost|3001|3002|telemetry\" apps/api/src -S'","aggregated_output":"apps/api/src/server.test.ts:5:process.env.PUBLIC_ORIGIN = 'http://localhost:3001';\napps/api/src/server.ts:23:import { registerTelemetryWs } from './routes/telemetry-ws.js';\napps/api/src/server.ts:30:import { metricsPlugin } from './telemetry/metrics.js';\napps/api/src/server.ts:31:import { requestIdHook } from './telemetry/request-id.js';\napps/api/src/server.ts:32:import { startTracing } from './telemetry/tracing.js';\napps/api/src/server.ts:34:const LOCALHOST_HOSTS = new Set(['localhost', '127.0.0.1', '0.0.0.0', '::1']);\napps/api/src/server.ts:205:      if (!env.LN_BITS_URL || !env.LN_BITS_API_KEY) {\napps/api/src/server.ts:206:        server.log.error('LN_BITS_URL/LN_BITS_API_KEY required for lnbits provider');\napps/api/src/server.ts:210:        { baseUrl: env.LN_BITS_URL, apiKey: env.LN_BITS_API_KEY },\napps/api/src/env.ts:8:import { parseHostAllowlist, validateTelemetryUrl } from './telemetry/url-guard.js';\napps/api/src/env.ts:23:const postgresDefault = 'postgres://nostrstack:nostrstack@localhost:5432/nostrstack';\napps/api/src/env.ts:39:    PORT: z.coerce.number().default(3001),\napps/api/src/env.ts:47:    LN_BITS_URL: z.string().url().optional(),\napps/api/src/env.ts:79:    PUBLIC_ORIGIN: z.string().url().default('http://localhost:3001'),\napps/api/src/env.ts:115:    const telemetryAllowlist = parseHostAllowlist(data.TELEMETRY_HOST_ALLOWLIST);\napps/api/src/env.ts:127:    const telemetryUrlError = validateTelemetryUrl(data.TELEMETRY_ESPLORA_URL, {\napps/api/src/env.ts:131:      allowlist: telemetryAllowlist\napps/api/src/env.ts:133:    if (telemetryUrlError) {\napps/api/src/env.ts:137:        message: telemetryUrlError\napps/api/src/env.ts:145:      allowlist: telemetryAllowlist\napps/api/src/setup-routes.ts:4:import { registerTelemetryRoutes } from './telemetry/routes.js';\napps/api/src/nostr/relay-utils.ts:1:const LOCALHOST_HOSTS = new Set(['localhost', '127.0.0.1', '::1']);\napps/api/src/nostr/event-resolver.ts:22:} from '../telemetry/metrics.js';\napps/api/src/nostr/event-resolver.test.ts:74:    const address = `30023:${'6'.repeat(64)}:slug`;\napps/api/src/telemetry/metrics.ts:69:export const telemetrySummaryCounter = new client.Counter({\napps/api/src/telemetry/metrics.ts:70:  name: 'telemetry_summary_requests_total',\napps/api/src/telemetry/metrics.ts:75:export const telemetryPollFailuresCounter = new client.Counter({\napps/api/src/telemetry/metrics.ts:76:  name: 'telemetry_poll_failures_total',\napps/api/src/telemetry/metrics.ts:83:  help: 'Bitcoin status requests by result and telemetry source',\napps/api/src/nostr/relaylist.test.ts:98:  it('ignores invalid patterns and respects localhost ws allowances', () => {\napps/api/src/nostr/relaylist.test.ts:100:      ['ws://localhost:8080', 'ws://relay.example.com', 'wss://relay.test'],\napps/api/src/nostr/relaylist.test.ts:107:    expect(relays).toEqual(['ws://localhost:8080', 'wss://relay.test']);\napps/api/src/nostr/relaylist.test.ts:110:  it('accepts IPv6 localhost ws relays and rejects non-local ws', () => {\napps/api/src/telemetry/url-guard.ts:22:const LOCALHOST_HOSTS = new Set(['localhost', 'localhost.', '127.0.0.1', '0.0.0.0', '::1', '::']);\napps/api/src/telemetry/url-guard.ts:145:    return `${options.label} must not use localhost or private IPs in production.`;\napps/api/src/telemetry/esplora.test.ts:10:describe('esplora telemetry', () => {\napps/api/src/telemetry/bitcoind.ts:25:const DEFAULT_RPC_URL = 'http://bitcoin:bitcoin@localhost:18443';\napps/api/src/telemetry/bitcoind.ts:43:    const body = JSON.stringify({ jsonrpc: '2.0', id: 'telemetry', method, params });\napps/api/src/telemetry/tracing.ts:1:import { getNodeAutoInstrumentations } from '@opentelemetry/auto-instrumentations-node';\napps/api/src/telemetry/tracing.ts:2:import { OTLPTraceExporter } from '@opentelemetry/exporter-trace-otlp-http';\napps/api/src/telemetry/tracing.ts:3:import { resourceFromAttributes } from '@opentelemetry/resources';\napps/api/src/telemetry/tracing.ts:4:import { NodeSDK } from '@opentelemetry/sdk-node';\napps/api/src/telemetry/tracing.ts:5:import { SemanticResourceAttributes } from '@opentelemetry/semantic-conventions';\napps/api/src/telemetry/tracing.ts:33:        '@opentelemetry/instrumentation-fastify': {},\napps/api/src/telemetry/tracing.ts:34:        '@opentelemetry/instrumentation-http': {},\napps/api/src/telemetry/tracing.ts:35:        '@opentelemetry/instrumentation-undici': {}\napps/api/src/telemetry/url-guard.test.ts:30:  it('rejects localhost in production', () => {\napps/api/src/telemetry/url-guard.test.ts:31:    const error = validateTelemetryUrl('https://localhost:3001', baseOptions);\napps/api/src/telemetry/url-guard.test.ts:32:    expect(error).toContain('localhost');\napps/api/src/telemetry/url-guard.test.ts:36:    const allowlist = parseHostAllowlist('localhost,10.0.0.1');\napps/api/src/telemetry/url-guard.test.ts:37:    const error = validateTelemetryUrl('https://localhost:3001', {\napps/api/src/telemetry/url-guard.test.ts:44:  it('allows http localhost in dev', () => {\napps/api/src/telemetry/url-guard.test.ts:68:  it('rejects IPv6 localhost in production', () => {\napps/api/src/telemetry/url-guard.test.ts:70:    expect(error).toContain('localhost');\napps/api/src/telemetry/routes.ts:14:  | { status: 'error'; error: 'LN_BITS_URL not set' }\napps/api/src/telemetry/routes.ts:15:  | { status: 'ok'; httpStatus: number; elapsedMs: number; body: string; urlTried: string }\napps/api/src/telemetry/routes.ts:22:  telemetry: TelemetrySummary;\napps/api/src/telemetry/routes.ts:23:  telemetryError?: string;\napps/api/src/telemetry/routes.ts:51:    if (!env.LN_BITS_URL) {\napps/api/src/telemetry/routes.ts:52:      return { status: 'error', error: 'LN_BITS_URL not set' };\napps/api/src/telemetry/routes.ts:71:    const base = env.LN_BITS_URL.replace(/\\/$/, '');\napps/api/src/telemetry/routes.ts:83:            urlTried: url\napps/api/src/telemetry/routes.ts:97:  const telemetryFetcher = createTelemetryFetcher();\napps/api/src/telemetry/routes.ts:99:    telemetryFetcher.fetchSummaryWithFallback();\napps/api/src/telemetry/routes.ts:106:    const telemetry = await fetchTelemetry();\napps/api/src/telemetry/routes.ts:108:    const network = telemetry.summary.network || env.BITCOIN_NETWORK;\napps/api/src/telemetry/routes.ts:112:      source: telemetry.source,\napps/api/src/telemetry/routes.ts:113:      telemetry: telemetry.summary,\napps/api/src/telemetry/routes.ts:114:      telemetryError: telemetry.error,\napps/api/src/telemetry/routes.ts:131:      if (status.telemetryError) {\napps/api/src/telemetry/routes.ts:132:        bitcoinStatusFailureCounter.labels('telemetry_error').inc();\napps/api/src/telemetry/routes.ts:153:  app.get('/bitcoin/status', async (_req, reply) => handleBitcoinStatusRequest(reply));\napps/api/src/telemetry/routes.ts:154:  app.get('/api/bitcoin/status', async (_req, reply) => handleBitcoinStatusRequest(reply));\napps/api/src/telemetry/routes.test.ts:38:describe('/api/bitcoin/status', () => {\napps/api/src/telemetry/routes.test.ts:52:  it('returns configured network status with mock telemetry', async () => {\napps/api/src/telemetry/routes.test.ts:53:    const res = await app.inject({ url: '/api/bitcoin/status' });\napps/api/src/telemetry/routes.test.ts:59:    expect(body.telemetry.network).toBe('mutinynet');\napps/api/src/telemetry/routes.test.ts:64:  it('falls back to mock telemetry when esplora fails in dev', async () => {\napps/api/src/telemetry/routes.test.ts:77:    const res = await app.inject({ url: '/api/bitcoin/status' });\napps/api/src/telemetry/routes.test.ts:81:    expect(body.telemetryError).toContain('esplora down');\napps/api/src/telemetry/routes.test.ts:82:    expect(body.telemetry.network).toBe('mainnet');\napps/api/src/telemetry/routes.test.ts:100:    const res = await app.inject({ url: '/api/bitcoin/status' });\napps/api/src/telemetry/routes.test.ts:127:      LN_BITS_URL: 'https://lnbits.test',\napps/api/src/telemetry/routes.test.ts:132:    const res = await app.inject({ url: '/api/bitcoin/status' });\napps/api/src/services/regtest-fund.ts:9:const LNBITS_URL = process.env.LN_BITS_URL ?? 'http://localhost:15001';\napps/api/src/services/lnurl-withdraw.ts:132:  if (!env.LN_BITS_URL || !env.LN_BITS_API_KEY) {\napps/api/src/services/lnurl-withdraw.ts:135:  const res = await fetch(`${env.LN_BITS_URL}/api/v1/payments`, {\napps/api/src/telemetry/providers.ts:33:const telemetryAllowlist = parseHostAllowlist(env.TELEMETRY_HOST_ALLOWLIST);\napps/api/src/telemetry/providers.ts:42:    allowlist: telemetryAllowlist\napps/api/src/routes/telemetry-ws.test.ts:4:import { registerTelemetryWs } from './telemetry-ws.js';\napps/api/src/routes/telemetry-ws.test.ts:10:describe('telemetry ws polling', () => {\napps/api/src/routes/telemetry-summary.test.ts:83:  const { registerTelemetrySummaryRoute } = await import('./telemetry-summary.js');\napps/api/src/routes/telemetry-summary.test.ts:89:describe('/api/telemetry/summary', () => {\napps/api/src/routes/telemetry-summary.test.ts:106:    const res = await app.inject({ url: '/api/telemetry/summary' });\napps/api/src/routes/telemetry-summary.test.ts:123:    const res = await app.inject({ url: '/api/telemetry/summary' });\napps/api/src/routes/telemetry-summary.test.ts:144:    const res = await app.inject({ url: '/api/telemetry/summary' });\napps/api/src/routes/telemetry-summary.test.ts:166:    const res = await app.inject({ url: '/api/telemetry/summary' });\napps/api/src/routes/index.ts:18:import { registerTelemetrySummaryRoute } from './telemetry-summary.js';\napps/api/src/routes/nostr-identity.security.test.ts:49:  it('allows http for localhost when explicitly enabled', async () => {\napps/api/src/routes/nostr-identity.security.test.ts:57:    const res = await server.inject({ url: '/api/nostr/identity?nip05=alice@localhost' });\napps/api/src/routes/nostr-identity.security.test.ts:60:      'http://localhost/.well-known/nostr.json?name=alice',\napps/api/src/routes/nostr-identity.ts:16:} from '../telemetry/metrics.js';\napps/api/src/routes/nostr-identity.ts:40:    hostname === 'localhost' ||\napps/api/src/routes/lnurl-withdraw.test.ts:15:process.env.LN_BITS_URL = 'http://localhost:3000';\napps/api/src/routes/regtest-pay.ts:32:  const baseUrl = process.env.LN_BITS_URL?.replace(/\\/$/, '');\napps/api/src/routes/nostr-event.test.ts:235:      message: 'Relays must use wss:// (or ws://localhost for dev).',\napps/api/src/routes/pay.ts:201:      // Placeholder: front-end can switch to /ws/telemetry for now\napps/api/src/routes/wallet-ws.ts:233:  const baseUrl = (process.env.LN_BITS_URL || '').replace(/\\/$/, '');\napps/api/src/routes/wallet-ws.ts:239:    app.log.warn('LN_BITS_URL/LN_BITS_API_KEY missing; /ws/wallet disabled');\napps/api/src/routes/wallet-ws.ts:332:        message: 'Wallet is not configured. Set LN_BITS_URL and LN_BITS_API_KEY.',\napps/api/src/routes/nostr-event.security.test.ts:124:      message: 'Relays must use wss:// (or ws://localhost for dev).',\napps/api/src/routes/regtest-pay.test.ts:98:      process.env.LN_BITS_URL = 'http://lnbits.local';\napps/api/src/routes/telemetry-summary.ts:3:import { telemetrySummaryCounter } from '../telemetry/metrics.js';\napps/api/src/routes/telemetry-summary.ts:4:import { createTelemetryFetcher } from '../telemetry/providers.js';\napps/api/src/routes/telemetry-summary.ts:9:  const telemetryFetcher = createTelemetryFetcher({ cacheTtlMs: CACHE_TTL_MS });\napps/api/src/routes/telemetry-summary.ts:11:  app.get('/api/telemetry/summary', {\napps/api/src/routes/telemetry-summary.ts:51:      const result = await telemetryFetcher.fetchSummaryWithFallback();\napps/api/src/routes/telemetry-summary.ts:53:        telemetrySummaryCounter.labels('cached').inc();\napps/api/src/routes/telemetry-summary.ts:55:        telemetrySummaryCounter.labels('mock').inc();\napps/api/src/routes/telemetry-summary.ts:57:        telemetrySummaryCounter.labels('ok').inc();\napps/api/src/routes/telemetry-summary.ts:60:        app.log.warn({ err: result.error }, 'telemetry summary fetch failed, returning mock data');\napps/api/src/routes/telemetry-summary.ts:64:      telemetrySummaryCounter.labels('error').inc();\napps/api/src/routes/telemetry-summary.ts:65:      app.log.warn({ err }, 'telemetry summary fetch failed');\napps/api/src/routes/telemetry-summary.ts:67:        error: 'telemetry_unavailable',\napps/api/src/routes/telemetry-ws.ts:7:import { type TelemetrySource } from '../telemetry/bitcoind.js';\napps/api/src/routes/telemetry-ws.ts:8:import { telemetryPollFailuresCounter } from '../telemetry/metrics.js';\napps/api/src/routes/telemetry-ws.ts:9:import { getTelemetryProvider } from '../telemetry/providers.js';\napps/api/src/routes/telemetry-ws.ts:42:    if (!path.endsWith('/ws/telemetry')) return;\napps/api/src/routes/telemetry-ws.ts:65:    app.log.info({ clientCount: wss.clients.size }, 'telemetry ws connection');\napps/api/src/routes/telemetry-ws.ts:99:    telemetryPollFailuresCounter.labels(reason).inc();\napps/api/src/routes/telemetry-ws.ts:110:      app.log.warn({ err }, 'telemetry fetchBlock failed');\napps/api/src/routes/telemetry-ws.ts:111:      broadcastError(`telemetry ${provider.source} fetch failed; check node status`);\napps/api/src/routes/telemetry-ws.ts:131:        app.log.warn('telemetry provider returned non-numeric block height, switching to mock telemetry');\napps/api/src/routes/telemetry-ws.ts:134:      app.log.warn({ err }, 'telemetry initial tip fetch failed, switching to mock telemetry');\napps/api/src/routes/telemetry-ws.ts:229:        broadcastError('telemetry provider block height unavailable');\napps/api/src/routes/telemetry-ws.ts:245:          app.log.info({ err, pollDelayMs }, 'telemetry poll backpressure, backing off');\napps/api/src/routes/telemetry-ws.ts:247:          app.log.warn({ err, pollDelayMs }, 'telemetry block poll failed');\napps/api/src/routes/telemetry-ws.ts:251:        broadcastError(isBackpressure ? 'telemetry backpressure; retrying' : 'telemetry poll failed; see API logs');\napps/api/src/routes/nostr-event.ts:105:        message: 'Relays must use wss:// (or ws://localhost for dev).',\napps/api/src/routes/wallet.ts:12:    const resolvedBase = (baseUrl || process.env.LN_BITS_URL || '').replace(/\\/$/, '');\napps/api/src/routes/tips-ws.ts:7:import { tipsWsConnectionsCounter, tipsWsErrorsCounter } from '../telemetry/metrics.js';\napps/api/src/routes/tips-ws.ts:36:    const base = `http://${req.headers.host ?? 'localhost'}`;\napps/api/src/routes/wallet-ws.test.ts:31:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:48:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:68:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:86:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:101:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:115:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:131:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:151:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:171:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:191:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:216:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:231:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:265:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:270:      'http://localhost:5000/api/v1/wallet?usr=wallet-abc-123',\napps/api/src/routes/wallet-ws.test.ts:290:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:297:      'http://localhost:5000/api/v1/wallet?usr=missing-wallet',\napps/api/src/routes/wallet-ws.test.ts:302:      'http://localhost:5000/api/v1/wallet',\napps/api/src/routes/wallet-ws.test.ts:328:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\napps/api/src/routes/wallet-ws.test.ts:335:      'http://localhost:5000/api/v1/wallet?usr=missing-wallet',\napps/api/src/routes/wallet-ws.test.ts:340:      'http://localhost:5000/api/v1/wallet',\napps/api/src/routes/wallet-ws.test.ts:360:    const { fetch: fetcher } = createWalletFetcher(mockLog, 'http://localhost:5000', 'test-key');\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_30","type":"reasoning","text":"**Investigating stale config via logs**"}}
{"type":"item.completed","item":{"id":"item_31","type":"agent_message","text":"Iâ€™m moving to direct reproduction now: starting `dev:logs` under a dedicated agent slot and then driving the UI to capture actual network targets during startup/navigation."}}
{"type":"item.started","item":{"id":"item_32","type":"command_execution","command":"/usr/bin/bash -lc 'NOSTRDEV_AGENT=github_worker_188 pnpm dev:logs'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_33","type":"reasoning","text":"**Planning session keep-alive via playwright**"}}
{"type":"item.completed","item":{"id":"item_34","type":"agent_message","text":"Dev logs are running on `social:4192` and `api:3020`; next Iâ€™m using browser automation to navigate and inspect network requests/console for any stale `3001/3002` Bitcoin status calls."}}
{"type":"item.started","item":{"id":"item_35","type":"mcp_tool_call","server":"playwright","tool":"browser_navigate","arguments":{"url":"http://localhost:4192/"},"result":null,"error":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_35","type":"mcp_tool_call","server":"playwright","tool":"browser_navigate","arguments":{"url":"http://localhost:4192/"},"result":{"content":[{"type":"text","text":"### Error\nError: Browser is already in use for /home/klabo/.cache/ms-playwright/mcp-chrome, use --isolated to run multiple instances of the same browser"}],"structured_content":null},"error":null,"status":"failed"}}
{"type":"item.started","item":{"id":"item_36","type":"mcp_tool_call","server":"playwright","tool":"browser_wait_for","arguments":{"time":3},"result":null,"error":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_36","type":"mcp_tool_call","server":"playwright","tool":"browser_wait_for","arguments":{"time":3},"result":{"content":[{"type":"text","text":"### Error\nError: No open pages available."}],"structured_content":null},"error":null,"status":"failed"}}
{"type":"item.completed","item":{"id":"item_37","type":"reasoning","text":"**Planning fallback test execution**"}}
{"type":"item.completed","item":{"id":"item_38","type":"agent_message","text":"Chrome DevTools MCP is unavailable in this session (`Browser is already in use`), so Iâ€™m using the Playwright QA fallback path (`pnpm qa:regtest-demo`) to assert no console/request failures and confirm endpoint behavior."}}
{"type":"item.started","item":{"id":"item_39","type":"command_execution","command":"/usr/bin/bash -lc 'pnpm qa:regtest-demo'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_40","type":"reasoning","text":"**Noticing stale test data**"}}
{"type":"item.completed","item":{"id":"item_39","type":"command_execution","command":"/usr/bin/bash -lc 'pnpm qa:regtest-demo'","aggregated_output":"\n> nostrstack@0.0.0 qa:regtest-demo /home/klabo/code/nostrstack\n> pnpm --filter api exec tsx ../social/scripts/qa-regtest-demo.ts\n\nâ„¹ï¸ preflight: checking https://localhost:4173 (attempt 1/3)\n(node:1745448) Warning: Setting the NODE_TLS_REJECT_UNAUTHORIZED environment variable to '0' makes TLS connections and HTTPS requests insecure by disabling certificate verification.\n(Use `node --trace-warnings ...` to show where the warning was created)\nâŒ QA failed\n\n[qa]\nlocator.click: Timeout 30000ms exceeded.\nCall log:\n\u001b[2m  - waiting for locator('button:has-text(\"PAY_REGTEST\")')\u001b[22m\n\n    at tryZapPay (/home/klabo/code/nostrstack/apps/social/scripts/qa-regtest-demo.ts:114:24)\n    at async main (/home/klabo/code/nostrstack/apps/social/scripts/qa-regtest-demo.ts:273:18)\nundefined\n/home/klabo/code/nostrstack/apps/api:\nâ€‰ERR_PNPM_RECURSIVE_EXEC_FIRST_FAILâ€‰ Command failed with exit code 1: tsx ../social/scripts/qa-regtest-demo.ts\nâ€‰ELIFECYCLEâ€‰ Command failed with exit code 1.\n","exit_code":1,"status":"failed"}}
{"type":"item.completed","item":{"id":"item_41","type":"reasoning","text":"**Investigating stale port causes**"}}
{"type":"item.completed","item":{"id":"item_42","type":"agent_message","text":"QA fallback script failed for an unrelated UI expectation, so Iâ€™m pivoting to a narrower reproduction: inspect the UI audit/regtest scripts and runtime config path for hardcoded status host/port values that cause mixed-port calls."}}
{"type":"item.started","item":{"id":"item_43","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,260p' apps/social/scripts/qa-regtest-demo.ts\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_44","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,280p' scripts/qa-ui-audit.mjs\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_45","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,240p' issue122-verify.mjs\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_43","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,260p' apps/social/scripts/qa-regtest-demo.ts\"","aggregated_output":"#!/usr/bin/env node\nimport { chromium, expect, type Page } from '@playwright/test';\n\ntype Failure = { kind: string; detail: string };\n\nfunction envFlag(name: string, fallback: boolean) {\n  const raw = process.env[name];\n  if (!raw) return fallback;\n  return raw === '1' || raw.toLowerCase() === 'true' || raw.toLowerCase() === 'yes';\n}\n\nfunction isLocalUrl(url: string) {\n  try {\n    const u = new URL(url);\n    return u.hostname === 'localhost' || u.hostname === '127.0.0.1' || u.hostname === '::1';\n  } catch {\n    return false;\n  }\n}\n\nasync function ensureGalleryAvailable(baseUrl: string) {\n  if (envFlag('SKIP_PREFLIGHT', false)) {\n    console.log('â„¹ï¸ preflight: skipping per SKIP_PREFLIGHT=1');\n    return;\n  }\n\n  const maxAttempts = Number(process.env.PREFLIGHT_RETRIES ?? 3) || 1;\n  const attemptDelay = Number(process.env.PREFLIGHT_DELAY_MS ?? 2000) || 2000;\n  const timeoutMs = Number(process.env.PREFLIGHT_TIMEOUT_MS ?? 5000) || 5000;\n\n  for (let attempt = 1; attempt <= maxAttempts; attempt++) {\n    const controller = new AbortController();\n    const timeout = setTimeout(() => controller.abort(), timeoutMs);\n    try {\n      console.log(`â„¹ï¸ preflight: checking ${baseUrl} (attempt ${attempt}/${maxAttempts})`);\n      const res = await fetch(baseUrl, { method: 'GET', signal: controller.signal });\n      // 404 is acceptable for preflight (page exists but sub-path might be missing)\n      if (res.ok || res.status === 404) {\n        clearTimeout(timeout);\n        return;\n      }\n      throw new Error(`HTTP ${res.status}`);\n    } catch (err) {\n      clearTimeout(timeout);\n      if (attempt === maxAttempts) {\n        const localHint = `Gallery server not reachable at ${baseUrl}. Start dev servers with \"pnpm dev:logs\" and try again, or set GALLERY_URL to a running instance.`;\n        const remoteHint = `Gallery server not reachable at ${baseUrl}. Check the URL or set GALLERY_URL to a running instance.`;\n        console.error('âŒ QA preflight failed');\n        console.error(isLocalUrl(baseUrl) ? localHint : remoteHint);\n        if (err instanceof Error) {\n          console.error(`Details: ${err.message}`);\n        }\n        process.exit(1);\n      }\n      console.log(`âš ï¸ preflight: attempt ${attempt} failed, retrying in ${attemptDelay}ms...`);\n      await new Promise((r) => setTimeout(r, attemptDelay));\n    }\n  }\n}\n\nasync function loginWithNsec(page: Page, nsec: string) {\n  await expect(page.getByRole('heading', { name: 'NostrStack' })).toBeVisible({ timeout: 30_000 });\n  await page.getByText('Enter nsec manually').click();\n  await page.getByPlaceholder('nsec1...').fill(nsec);\n  await page.getByRole('button', { name: 'Sign in' }).click();\n  await expect(page.getByText('Live Feed')).toBeVisible({ timeout: 20_000 });\n}\n\nasync function tryZapPay(page: Page, mode: 'regtest' | 'nwc') {\n  const zapButtons = page.locator('.zap-btn');\n  await zapButtons.first().waitFor({ state: 'visible', timeout: 20_000 });\n  const total = await zapButtons.count();\n  for (let i = 0; i < Math.min(total, 5); i += 1) {\n    await zapButtons.nth(i).dispatchEvent('click');\n    await expect(page.locator('.payment-modal')).toBeVisible();\n    if (mode === 'nwc') {\n      const nwcPaid = await page\n        .getByText('NWC payment sent.')\n        .waitFor({ state: 'visible', timeout: 20_000 })\n        .then(() => true)\n        .catch(() => false);\n      if (!nwcPaid) {\n        await page.locator('.payment-header button').getByText(/CLOSE/i).click({ force: true });\n        continue;\n      }\n      await expect(page.getByText('Payment successful!')).toBeVisible({ timeout: 10_000 });\n      const closeBtn = page.locator('button:has-text(\"CLOSE\")').first();\n      await closeBtn.waitFor({ state: 'visible', timeout: 10_000 });\n      await closeBtn.click({ force: true });\n      return true;\n    }\n\n    const invoiceReady = await page\n      .locator('.payment-grid')\n      .waitFor({ state: 'visible', timeout: 8000 })\n      .then(() => true)\n      .catch(() => false);\n    if (!invoiceReady) {\n      await page.locator('.payment-header button').getByText(/CLOSE/i).click({ force: true });\n      continue;\n    }\n    await expect(page.locator('.payment-qr')).toBeVisible();\n    await expect(page.locator('.payment-panel')).toBeVisible();\n    await expect(page.locator('.payment-panel-title')).toHaveText('INVOICE');\n    await expect(page.locator('.payment-invoice-box')).toBeVisible();\n    // Use text-based selector since aria-label is different from button text\n    const regtestBtn = page.locator('button:has-text(\"PAY_REGTEST\")');\n    if (!(await regtestBtn.isVisible())) {\n      throw new Error('Regtest pay button missing after invoice ready.');\n    }\n    await regtestBtn.waitFor({ state: 'visible' });\n    let paid = false;\n    for (let attempt = 0; attempt < 2; attempt += 1) {\n      await regtestBtn.click({ force: true });\n      paid = await expect(page.locator('.payment-modal'))\n        .toContainText(/Payment (sent|confirmed)\\./, { timeout: 20_000 })\n        .then(() => true)\n        .catch(() => false);\n      if (paid) break;\n    }\n    if (!paid) {\n      const closeBtn = page.locator('button:has-text(\"CLOSE\")').first();\n      await closeBtn.waitFor({ state: 'visible', timeout: 10_000 });\n      await closeBtn.click({ force: true });\n      continue;\n    }\n    // Use text-based selector for CLOSE button\n    const closeBtn = page.locator('button:has-text(\"CLOSE\")').first();\n    await closeBtn.waitFor({ state: 'visible', timeout: 10_000 });\n    await closeBtn.click({ force: true });\n    return true;\n  }\n  return false;\n}\n\nasync function tryBolt12Flow(page: Page) {\n  await page.getByRole('button', { name: /Offers/i }).click();\n  await expect(page.getByText('BOLT12 Offers')).toBeVisible({ timeout: 20_000 });\n\n  await page.getByLabel('Description').fill('Regtest QA offer');\n  await page.getByRole('button', { name: 'CREATE_OFFER' }).click();\n\n  const offerWidget = page.locator('.offer-widget__title', { hasText: 'Offer' });\n  await expect(offerWidget).toBeVisible({ timeout: 20_000 });\n\n  const offerError = page.locator('.offer-error');\n  if (await offerError.isVisible()) {\n    throw new Error(`BOLT12 offer error: ${await offerError.textContent()}`);\n  }\n\n  await page.getByRole('button', { name: 'REQUEST_INVOICE' }).click();\n  const invoiceWidget = page.locator('.offer-widget__title', { hasText: 'Invoice' });\n  await expect(invoiceWidget).toBeVisible({ timeout: 20_000 });\n  await expect(page.locator('.offer-widget__value').nth(1)).toBeVisible({ timeout: 20_000 });\n\n  await page.getByRole('button', { name: /Feed/i }).click();\n  await expect(page.getByText('Live Feed')).toBeVisible({ timeout: 20_000 });\n}\n\nasync function configureNwc(\n  page: Page,\n  options: { uri: string; relays?: string; maxSats?: string }\n) {\n  await page.getByRole('button', { name: /Settings/i }).click();\n  await page.getByLabel('NWC_URI').fill(options.uri);\n  if (options.relays) {\n    await page.getByLabel(/RELAYS/i).fill(options.relays);\n  }\n  if (options.maxSats) {\n    await page.getByLabel(/MAX_SATS_PER_PAYMENT/i).fill(options.maxSats);\n  }\n  await page.getByRole('button', { name: 'CONNECT' }).click();\n  await expect(page.locator('.nwc-status-pill')).toHaveText(/CONNECTED/, { timeout: 20_000 });\n  await page.getByRole('button', { name: /Feed/i }).click();\n  await expect(page.getByText('Live Feed')).toBeVisible({ timeout: 20_000 });\n}\n\nasync function main() {\n  // Allow Node-side HTTPS calls to the self-signed dev cert (only for local QA).\n  process.env.NODE_TLS_REJECT_UNAUTHORIZED = process.env.NODE_TLS_REJECT_UNAUTHORIZED ?? '0';\n\n  const baseUrl = process.env.GALLERY_URL ?? 'https://localhost:4173';\n  const headless = envFlag('HEADLESS', true);\n  const slowMo = Number(process.env.SLOWMO_MS ?? 0) || 0;\n  const testNsec =\n    process.env.TEST_NSEC ?? 'nsec1v0fhzv8swp7gax4kn8ux6p5wj2ljz32xj0v2ssuxvck5aa0d8xxslue67d';\n  const nwcUri = process.env.NWC_URI;\n  const nwcRelays = process.env.NWC_RELAYS;\n  const nwcMaxSats = process.env.NWC_MAX_SATS;\n  const enableBolt12 = envFlag('ENABLE_BOLT12', false) || envFlag('VITE_ENABLE_BOLT12', false);\n\n  await ensureGalleryAvailable(baseUrl);\n\n  const failures: Failure[] = [];\n  const consoleErrors: string[] = [];\n  const consoleWarnings: string[] = [];\n  const localRequestFailures: string[] = [];\n  const localResponses404: string[] = [];\n  const pageErrors: string[] = [];\n  let tearingDown = false;\n\n  const browser = await chromium.launch({\n    headless,\n    slowMo,\n    args: ['--ignore-certificate-errors']\n  });\n  const context = await browser.newContext({\n    baseURL: baseUrl,\n    ignoreHTTPSErrors: true,\n    permissions: ['clipboard-read', 'clipboard-write']\n  });\n  await context.addInitScript(() => {\n    localStorage.setItem('nostrstack.onboarding.v1', 'true');\n  });\n  const page = await context.newPage();\n  await page.emulateMedia({ reducedMotion: 'reduce' });\n\n  page.on('pageerror', (err) => {\n    if (tearingDown) return;\n    pageErrors.push(String(err));\n  });\n  page.on('console', (msg) => {\n    if (tearingDown) return;\n    const type = msg.type();\n    const text = msg.text();\n    if (type === 'error') consoleErrors.push(text);\n    if (type === 'warning' || type === 'warn') {\n      consoleWarnings.push(text);\n    }\n  });\n  page.on('requestfailed', (req) => {\n    if (tearingDown) return;\n    const url = req.url();\n    if (!isLocalUrl(url)) return;\n    const failure = req.failure();\n    const errText = failure?.errorText ?? 'unknown error';\n    if (\n      (url.includes('/logs/stream') || url.includes('/api/logs/stream')) &&\n      (errText === 'net::ERR_ABORTED' || errText === 'net::ERR_NETWORK_IO_SUSPENDED')\n    ) {\n      return;\n    }\n    localRequestFailures.push(`${url} :: ${errText}`);\n  });\n  page.on('response', (res) => {\n    if (tearingDown) return;\n    if (res.status() !== 404) return;\n    const url = res.url();\n    if (!isLocalUrl(url)) return;\n    localResponses404.push(url);\n  });\n\n  try {\n    await page.goto(baseUrl, { waitUntil: 'domcontentloaded' });\n    await loginWithNsec(page, testNsec);\n\n    const usingNwc = Boolean(nwcUri);\n    if (usingNwc && nwcUri) {\n      await configureNwc(page, { uri: nwcUri, relays: nwcRelays, maxSats: nwcMaxSats });\n    } else {\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_44","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,280p' scripts/qa-ui-audit.mjs\"","aggregated_output":"/* eslint-env node */\nimport { chromium } from 'playwright';\nimport fs from 'node:fs';\nimport path from 'node:path';\nimport { fileURLToPath } from 'node:url';\n\nconst DEFAULT_BASE_URL = 'https://localhost:4173';\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\nconst REPO_ROOT = path.resolve(__dirname, '..');\n\nfunction parseSessionFile(filePath) {\n  const content = fs.readFileSync(filePath, 'utf8');\n  const fields = {};\n  for (const line of content.split('\\n')) {\n    const eq = line.indexOf('=');\n    if (eq <= 0) continue;\n    const key = line.slice(0, eq);\n    const value = line.slice(eq + 1);\n    fields[key] = value;\n  }\n  return fields;\n}\n\nfunction pidAlive(pidText) {\n  const pid = Number(pidText);\n  if (!Number.isInteger(pid) || pid <= 0) return false;\n  try {\n    process.kill(pid, 0);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nfunction resolveManagedGalleryUrl() {\n  const sessionsDir = path.join(REPO_ROOT, '.logs', 'dev', 'sessions');\n  if (!fs.existsSync(sessionsDir)) return null;\n  const files = fs\n    .readdirSync(sessionsDir)\n    .filter((name) => name.endsWith('.session'))\n    .map((name) => path.join(sessionsDir, name))\n    .sort((a, b) => fs.statSync(b).mtimeMs - fs.statSync(a).mtimeMs);\n\n  for (const file of files) {\n    try {\n      const fields = parseSessionFile(file);\n      if (!pidAlive(fields.NOSTRDEV_SESSION_PID)) continue;\n      const port = Number(fields.NOSTRDEV_SESSION_SOCIAL_PORT);\n      if (Number.isInteger(port) && port > 0) {\n        return `https://localhost:${port}`;\n      }\n    } catch {\n      // Ignore unreadable/stale session files and continue fallback resolution.\n    }\n  }\n  return null;\n}\n\nconst BASE_URL = process.env.GALLERY_URL || resolveManagedGalleryUrl() || DEFAULT_BASE_URL;\nconst BASE_ORIGIN = new URL(BASE_URL).origin;\nconst TEST_NSEC = process.env.TEST_NSEC || 'nsec1v0fhzv8swp7gax4kn8ux6p5wj2ljz32xj0v2ssuxvck5aa0d8xxslue67d';\n\nconst wait = (ms) => new Promise((r) => setTimeout(r, ms));\nconst safe = async (fn) => {\n  try {\n    return await fn();\n  } catch {\n    return null;\n  }\n};\nconst uniq = (items) => [...new Set((items || []).filter(Boolean))];\n\nconst findings = { interactions: [] };\n\nconst results = {\n  consoleErrors: [],\n  consoleWarnings: [],\n  pageErrors: [],\n  requestFailures: [],\n  response404: []\n};\n\nfunction shouldIgnoreRequestFailure(req) {\n  const url = req.url();\n  if (!url.startsWith(BASE_ORIGIN)) return true;\n  if (url.includes('/api/logs/stream')) return true;\n\n  const err = req.failure()?.errorText || '';\n  if (err !== 'net::ERR_ABORTED' && err !== 'net::ERR_NETWORK_IO_SUSPENDED') {\n    return false;\n  }\n\n  // Direct route navigation can abort superseded document fetches.\n  if (req.resourceType() === 'document') {\n    return true;\n  }\n\n  // Local dev health probes are short-lived and may be cancelled during route changes.\n  if (url.includes('/api/health') || url.includes('/api/debug/ws-wallet')) {\n    return true;\n  }\n\n  return false;\n}\n\nasync function clickMaybe(locator, opts) {\n  return safe(() => locator.first().click(opts));\n}\n\nasync function waitMaybe(locator, opts) {\n  return safe(() => locator.waitFor(opts));\n}\n\nasync function interactOnFeed(page) {\n  await clickMaybe(page.getByRole('button', { name: 'All' }));\n  findings.interactions.push('clicked-feed-view-all');\n  await clickMaybe(page.getByRole('button', { name: 'Following' }));\n  findings.interactions.push('clicked-feed-view-following');\n  await clickMaybe(page.getByRole('button', { name: /Trending 4h/i }));\n  findings.interactions.push('clicked-feed-view-trending');\n  await clickMaybe(page.getByRole('button', { name: /(Latest|Chronological)/i }));\n  findings.interactions.push('toggled-feed-sort');\n  await clickMaybe(page.getByRole('button', { name: /^ðŸ›¡ï¸|On|Off/ }));\n  findings.interactions.push('toggled-spam-filter');\n  await clickMaybe(page.getByRole('button', { name: /Search posts and profiles/i }));\n\n  const thread = page.getByTestId('social-event-thread').first();\n  if ((await thread.count()) > 0) {\n    await thread.click().catch(() => {});\n    findings.interactions.push('opened-post-thread');\n    if (/\\/nostr\\//.test(page.url())) {\n      await page.goBack({ waitUntil: 'domcontentloaded' }).catch(() => {});\n    }\n  }\n\n  await clickMaybe(page.getByTestId('social-event-reply').first());\n  findings.interactions.push('opened-reply-modal');\n  const replyTextarea = page.getByRole('textbox', { name: 'Reply content' }).first();\n  if ((await replyTextarea.count()) > 0) {\n    await replyTextarea.fill('UI test reply').catch(() => {});\n    await clickMaybe(page.getByRole('button', { name: 'Cancel editing' }));\n    findings.interactions.push('closed-reply-modal');\n  }\n\n  await clickMaybe(page.getByTestId('social-event-copy-link').first());\n  findings.interactions.push('copied-post-link');\n  await clickMaybe(page.getByTestId('social-event-source-toggle').first());\n  findings.interactions.push('opened-post-source-json');\n  await clickMaybe(page.getByTestId('social-event-source-toggle').first());\n  findings.interactions.push('closed-post-source-json');\n\n  await clickMaybe(page.getByRole('button', { name: /Load more posts|Load more/i }).first());\n  findings.interactions.push('load-more-clicked');\n\n  const writeBtn = page.getByRole('button', { name: /Write your first post/i }).first();\n  if ((await writeBtn.count()) > 0) {\n    await writeBtn.click().catch(() => {});\n    findings.interactions.push('write-first-post');\n    const editor = page.getByRole('textbox', { name: 'Note content' }).first();\n    if ((await editor.count()) > 0) {\n      await editor.fill('Hello from audit automation').catch(() => {});\n      await clickMaybe(page.getByRole('button', { name: 'Publish' }).first());\n      findings.interactions.push('attempt-publish');\n    }\n  }\n\n  await clickMaybe(page.getByRole('button', { name: /Find friend/i }));\n  findings.interactions.push('clicked-find-friend-card');\n}\n\nasync function interactOnSearch(page) {\n  const query = page.getByLabel('Search query').first();\n  if ((await query.count()) === 0) return;\n  await query.fill('bitcoin').catch(() => {});\n  await clickMaybe(page.getByRole('button', { name: 'Search' }).first());\n  findings.interactions.push('search-keyword');\n  await wait(600);\n\n  await clickMaybe(page.getByRole('button', { name: 'Retry search' }));\n  findings.interactions.push('search-retry');\n\n  await query.fill('alice').catch(() => {});\n  await clickMaybe(page.getByRole('button', { name: 'Search' }).first());\n  findings.interactions.push('search-identity');\n  await wait(800);\n\n  const openProfile = page.getByRole('button', { name: /Open profile for/i }).first();\n  if ((await openProfile.count()) > 0) {\n    await openProfile.click().catch(() => {});\n    findings.interactions.push('open-profile-from-search');\n    await wait(600);\n    await page.goBack({ waitUntil: 'domcontentloaded' }).catch(() => {});\n  }\n\n  await clickMaybe(page.getByRole('button', { name: 'Load More' }).first());\n  findings.interactions.push('search-load-more');\n}\n\nasync function interactOnOffers(page) {\n  const description = page.getByLabel('Description').first();\n  if ((await description.count()) === 0) return;\n  await description.fill('Audit offer').catch(() => {});\n  await clickMaybe(page.getByRole('button', { name: 'Create Offer' }));\n  findings.interactions.push('create-offer');\n  await clickMaybe(page.getByRole('button', { name: 'Request Invoice' }).first());\n  findings.interactions.push('request-offer-invoice');\n\n  const copyBtn = page.getByRole('button', { name: /Copy/i }).first();\n  await clickMaybe(copyBtn);\n  findings.interactions.push('copy-offer');\n}\n\nasync function interactOnSettings(page) {\n  await clickMaybe(page.getByRole('button', { name: /Theme:/i }).first());\n  findings.interactions.push('toggle-theme');\n  await clickMaybe(page.getByRole('button', { name: /MIDNIGHT/i }));\n  findings.interactions.push('select-brand-preset');\n  await clickMaybe(page.getByRole('button', { name: 'Restart Tour' }));\n  findings.interactions.push('restart-tour');\n  await clickMaybe(page.getByRole('button', { name: 'Enable Notifications' }));\n  findings.interactions.push('enable-notifications');\n\n  const uri = page.getByLabel('Connection String');\n  if ((await uri.count()) > 0) {\n    await uri.fill('nostr+walletconnect://bad').catch(() => {});\n    await clickMaybe(page.getByRole('button', { name: 'Connect' }).first());\n    findings.interactions.push('attempt-nwc-connect');\n    await clickMaybe(page.getByRole('button', { name: 'Check Balance' }).first());\n    findings.interactions.push('attempt-nwc-balance');\n    await clickMaybe(page.getByRole('checkbox', { name: /Remember on this device/i }));\n    findings.interactions.push('toggle-nwc-remember');\n    await clickMaybe(page.getByRole('button', { name: 'Disconnect' }));\n    findings.interactions.push('disconnect-nwc');\n  }\n}\n\nasync function interactOnProfile(page) {\n  await clickMaybe(page.getByRole('button', { name: 'Edit Profile' }));\n  findings.interactions.push('edit-profile');\n  const isProfileRoute = page.url().includes('/profile') || page.url().includes('/p/');\n  if (!isProfileRoute) {\n    await page.goBack({ waitUntil: 'domcontentloaded' }).catch(() => {});\n  }\n  await clickMaybe(page.getByRole('button', { name: 'Copy npub' }).first());\n  findings.interactions.push('copy-npub');\n  await clickMaybe(page.getByRole('button', { name: /Follow this user|Following|Unfollow this user/i }).first());\n  findings.interactions.push('toggle-follow');\n  await clickMaybe(page.getByRole('button', { name: /Mute this user|UNMUTE/i }).first());\n  findings.interactions.push('toggle-mute');\n  await clickMaybe(page.getByRole('button', { name: /Load More|LOAD MORE/i }).first());\n  findings.interactions.push('profile-load-more');\n}\n\nasync function interactSidebar(page) {\n  await page.setViewportSize({ width: 375, height: 844 });\n  await clickMaybe(page.getByRole('button', { name: 'Open menu' }));\n  findings.interactions.push('open-mobile-menu');\n  await clickMaybe(page.getByRole('button', { name: /Help/i }));\n  findings.interactions.push('open-help');\n  await clickMaybe(page.locator('.sidebar-overlay'));\n  findings.interactions.push('close-mobile-overlay');\n  await page.setViewportSize({ width: 1365, height: 2000 });\n}\n\n(async () => {\n  process.env.NODE_TLS_REJECT_UNAUTHORIZED = process.env.NODE_TLS_REJECT_UNAUTHORIZED ?? '0';\n\n  const browser = await chromium.launch({\n    headless: true,\n    args: ['--ignore-certificate-errors', '--no-sandbox']\n  });\n  const context = await browser.newContext({\n    baseURL: BASE_URL,\n    ignoreHTTPSErrors: true,\n    permissions: ['clipboard-read', 'clipboard-write']\n  });\n  const page = await context.newPage();\n\n  page.on('console', (msg) => {\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_45","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,240p' issue122-verify.mjs\"","aggregated_output":"import { chromium } from 'playwright';\n\nconst browser = await chromium.launch({ headless: true, ignoreHTTPSErrors: true });\nconst page = await browser.newPage();\n\npage.on('console', msg => {\n  const txt = msg.text();\n  if (/localhost:3002/i.test(txt) || /bitcoin.status/i.test(txt) || msg.type() === 'error') {\n    console.log(`console:${msg.type()}: ${txt}`);\n  }\n});\n\npage.on('request', req => {\n  const url = req.url();\n  if (url.includes('/api/bitcoin/status') || url.includes('localhost:3002')) {\n    console.log('request:', url);\n  }\n});\n\nawait page.goto('https://localhost:4175/', { waitUntil: 'networkidle' });\nawait page.getByRole('button', { name: /Browse as guest/i }).click();\nawait page.waitForLoadState('networkidle');\nawait page.waitForTimeout(4000);\nawait browser.close();\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_46","type":"reasoning","text":"**Analyzing session mismatch in logs**"}}
{"type":"item.started","item":{"id":"item_47","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"3001|3002|bitcoin/status|ws/telemetry|debug/ws-wallet|localhost:\" .logs/dev/social.log .logs/dev/api.log -S'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_47","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"3001|3002|bitcoin/status|ws/telemetry|debug/ws-wallet|localhost:\" .logs/dev/social.log .logs/dev/api.log -S'","aggregated_output":".logs/dev/social.log:4:  \u001b[32mâžœ\u001b[39m  \u001b[1mLocal\u001b[22m:   \u001b[36mhttp://localhost:\u001b[1m4192\u001b[22m/\u001b[39m\n.logs/dev/api.log:30:      \"host\": \"localhost:3019\",\n.logs/dev/api.log:45:      \"host\": \"localhost:3019\",\n.logs/dev/api.log:59:      \"url\": \"/api/bitcoin/status\",\n.logs/dev/api.log:60:      \"host\": \"localhost:3019\",\n.logs/dev/api.log:68:      \"url\": \"/debug/ws-wallet\",\n.logs/dev/api.log:69:      \"host\": \"localhost:3019\",\n.logs/dev/api.log:85:      \"url\": \"/debug/ws-wallet\",\n.logs/dev/api.log:86:      \"host\": \"localhost:3019\",\n.logs/dev/api.log:112:      \"host\": \"localhost:3019\",\n.logs/dev/api.log:127:      \"host\": \"localhost:3019\",\n.logs/dev/api.log:170:      \"host\": \"localhost:3019\",\n.logs/dev/api.log:185:      \"host\": \"localhost:3019\",\n","exit_code":0,"status":"completed"}}
{"type":"item.started","item":{"id":"item_48","type":"command_execution","command":"/usr/bin/bash -lc 'pnpm dev:ps'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_48","type":"command_execution","command":"/usr/bin/bash -lc 'pnpm dev:ps'","aggregated_output":"\n> nostrstack@0.0.0 dev:ps /home/klabo/code/nostrstack\n> ./scripts/dev/dev-ps.sh\n\nSLOT AGENT PID API_PORT SOCIAL_PORT STATE CMD\n1 github_worker_213 3181399 3002 4174 running \n12 github_worker134 4171819 3013 4185 running \n13 codex249 739079 3014 4186 running \n14 github_worker258 589102 3015 4187 running \n15 github151 1364153 3016 4188 running \n16 github_worker246 1111354 3017 4189 running \n17 codex233 1540794 3018 4190 running \n18 codex241 1682085 3019 4191 running \n19 github_worker_188 1736330 3020 4192 running \n2 codex296 3394925 3003 4175 running \n3 issue293 3328736 3004 4176 running \n4 github273 3759268 3005 4177 running \n5 github_worker137 3561075 3006 4178 running \n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_49","type":"reasoning","text":"**Preparing fresh logs capture**"}}
{"type":"item.started","item":{"id":"item_50","type":"command_execution","command":"/usr/bin/bash -lc 'NODE_TLS_REJECT_UNAUTHORIZED=0 GALLERY_URL=https://localhost:4192 node scripts/qa-ui-audit.mjs'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_50","type":"command_execution","command":"/usr/bin/bash -lc 'NODE_TLS_REJECT_UNAUTHORIZED=0 GALLERY_URL=https://localhost:4192 node scripts/qa-ui-audit.mjs'","aggregated_output":"node:internal/modules/package_json_reader:316\n  throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);\n        ^\n\nError [ERR_MODULE_NOT_FOUND]: Cannot find package 'playwright' imported from /home/klabo/code/nostrstack/scripts/qa-ui-audit.mjs\n    at Object.getPackageJSONURL (node:internal/modules/package_json_reader:316:9)\n    at packageResolve (node:internal/modules/esm/resolve:768:81)\n    at moduleResolve (node:internal/modules/esm/resolve:858:18)\n    at defaultResolve (node:internal/modules/esm/resolve:990:11)\n    at #cachedDefaultResolve (node:internal/modules/esm/loader:712:20)\n    at #resolveAndMaybeBlockOnLoaderThread (node:internal/modules/esm/loader:729:38)\n    at ModuleLoader.resolveSync (node:internal/modules/esm/loader:758:52)\n    at #resolve (node:internal/modules/esm/loader:694:17)\n    at ModuleLoader.getOrCreateModuleJob (node:internal/modules/esm/loader:614:35)\n    at ModuleJob.syncLink (node:internal/modules/esm/module_job:143:33) {\n  code: 'ERR_MODULE_NOT_FOUND'\n}\n\nNode.js v25.2.1\n","exit_code":1,"status":"failed"}}
{"type":"item.completed","item":{"id":"item_51","type":"reasoning","text":"**Running audit script from app directory**"}}
{"type":"item.started","item":{"id":"item_52","type":"command_execution","command":"/usr/bin/bash -lc 'NODE_TLS_REJECT_UNAUTHORIZED=0 GALLERY_URL=https://localhost:4192 node apps/social/qa-ui-audit.mjs'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_52","type":"command_execution","command":"/usr/bin/bash -lc 'NODE_TLS_REJECT_UNAUTHORIZED=0 GALLERY_URL=https://localhost:4192 node apps/social/qa-ui-audit.mjs'","aggregated_output":"{\"issues\":[{\"title\":\"Runtime page errors detected\",\"severity\":\"high\",\"area\":\"console\",\"steps_to_reproduce\":\"{\\\"interactions\\\":[],\\\"url\\\":\\\"about:blank\\\",\\\"timestamp\\\":\\\"2026-02-18T16:19:18.214Z\\\"}\",\"expected\":\"No uncaught page errors in normal flow.\",\"actual\":\"page.goto: net::ERR_SSL_PROTOCOL_ERROR at https://localhost:4192/\\nCall log:\\n\\u001b[2m  - navigating to \\\"https://localhost:4192/\\\", waiting until \\\"domcontentloaded\\\"\\u001b[22m\\n\",\"labels\":[\"ui-audit\"],\"body\":\"Runtime page errors detected:\\npage.goto: net::ERR_SSL_PROTOCOL_ERROR at https://localhost:4192/\\nCall log:\\n\\u001b[2m  - navigating to \\\"https://localhost:4192/\\\", waiting until \\\"domcontentloaded\\\"\\u001b[22m\\n\"},{\"title\":\"Frontend request failures observed\",\"severity\":\"medium\",\"area\":\"network\",\"steps_to_reproduce\":\"{\\\"interactions\\\":[],\\\"url\\\":\\\"about:blank\\\",\\\"timestamp\\\":\\\"2026-02-18T16:19:18.214Z\\\"}\",\"expected\":\"Expected local requests to succeed.\",\"actual\":\"https://localhost:4192/ :: net::ERR_SSL_PROTOCOL_ERROR\",\"labels\":[\"ui-audit\"],\"body\":\"Frontend request failures observed:\\nhttps://localhost:4192/ :: net::ERR_SSL_PROTOCOL_ERROR\"}]}\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_53","type":"reasoning","text":"**Adjusting to HTTP protocol**"}}
{"type":"item.completed","item":{"id":"item_54","type":"agent_message","text":"I identified the audit script path and reran it against the active session; first run failed due HTTPS mismatch. Iâ€™m rerunning on the correct `http://localhost:4192` target and then diffing logs for stale-port requests."}}
{"type":"item.started","item":{"id":"item_55","type":"command_execution","command":"/usr/bin/bash -lc 'GALLERY_URL=http://localhost:4192 node apps/social/qa-ui-audit.mjs'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_56","type":"reasoning","text":"**Adjusting polling interval**"}}
{"type":"item.completed","item":{"id":"item_57","type":"agent_message","text":"The audit run is still executing; Iâ€™m waiting for completion and then Iâ€™ll immediately check `api.log`/`social.log` for any `3001/3002` requests captured during that navigation flow."}}
{"type":"item.completed","item":{"id":"item_58","type":"reasoning","text":"**Checking for lingering process**"}}
{"type":"item.started","item":{"id":"item_59","type":"command_execution","command":"/usr/bin/bash -lc \"ps -ef | rg \\\"qa-ui-audit.mjs|playwright\\\" -n || true && tail -n 120 .logs/dev/api.log && echo '---' && tail -n 120 .logs/dev/social.log\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_59","type":"command_execution","command":"/usr/bin/bash -lc \"ps -ef | rg \\\"qa-ui-audit.mjs|playwright\\\" -n || true && tail -n 120 .logs/dev/api.log && echo '---' && tail -n 120 .logs/dev/social.log\"","aggregated_output":"Total output lines: 369\n\n358:klabo     220377  220326  0 05:44 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --enable-unsafe-swiftshader --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --user-data-dir=/tmp/playwright_chromiumdev_profile-8rghQf --remote-debugging-pipe --no-startup-window\n359:klabo     220378  220326  0 05:44 ?        00:00:14 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --enable-unsafe-swiftshader --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --user-data-dir=/tmp/playwright_chromiumdev_profile-QHSnOH --remote-debugging-pipe --no-startup-window\n360:klabo     220381  220377  0 05:44 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-zygote-sandbox --no-sandbox --headless\n361:klabo     220382  220377  0 05:44 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-sandbox --headless\n362:klabo     220383  220378  0 05:44 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-zygote-sandbox --no-sandbox --headless\n363:klabo     220384  220378  0 05:44 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-sandbox --headless\n364:klabo     220416  220381  0 05:44 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=gpu-process --no-sandbox --disable-dev-shm-usage --disable-breakpad --headless --ozone-platform=headless --use-angle=swiftshader-webgl --enable-unsafe-swiftshader --gpu-preferences=UAAAAAAAAAAgAAAEAAAAAAAAAAAAAGAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAA --use-gl=angle --shared-files --field-trial-handle=3,i,12386030590354003796,14891682269587202162,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708988185955192\n365:klabo     220427  220383 10 05:44 ?        00:16:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=gpu-process --no-sandbox --disable-dev-shm-usage --disable-breakpad --headless --ozone-platform=headless --use-angle=swiftshader-webgl --enable-unsafe-swiftshader --gpu-preferences=UAAAAAAAAAAgAAAEAAAAAAAAAAAAAGAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAA --use-gl=angle --shared-files --field-trial-handle=3,i,268260449113071682,12281979607692060665,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708988185955192\n366:klabo     220439  220377  0 05:44 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=utility --utility-sub-type=network.mojom.NetworkService --lang=en-US --service-sandbox-type=none --no-sandbox --disable-dev-shm-usage --use-angle=swiftshader-webgl --use-gl=angle --mute-audio --headless=old --shared-files=v8_context_snapshot_data:100 --field-trial-handle=3,i,12386030590354003796,14891682269587202162,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708989122997041\n367:klabo     220471  220378  0 05:44 ?        00:00:05 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=utility --utility-sub-type=network.mojom.NetworkService --lang=en-US --service-sandbox-type=none --no-sandbox --disable-dev-shm-usage --use-angle=swiftshader-webgl --use-gl=angle --mute-audio --headless=old --shared-files=v8_context_snapshot_data:100 --field-trial-handle=3,i,268260449113071682,12281979607692060665,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708989122997041\n369:klabo     269406  269273  0 05:50 ?        00:00:02 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --enable-unsafe-swiftshader --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --user-data-dir=/tmp/playwright_chromiumdev_profile-7YFwT9 --remote-debugging-pipe --no-startup-window\n370:klabo     269410  269406  0 05:50 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-zygote-sandbox --no-sandbox --headless\n371:klabo     269411  269406  0 05:50 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-sandbox --headless\n372:klabo     269431  269410  0 05:50 ?        00:00:01 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=gpu-process --no-sandbox --disable-dev-shm-usage --disable-breakpad --headless --ozone-platform=headless --use-angle=swiftshader-webgl --enable-unsafe-swiftshader --gpu-preferences=UAAAAAAAAAAgAAAEAAAAAAAAAAAAAGAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAA --use-gl=angle --shared-files --field-trial-handle=3,i,8253752618388514287,10711601818368905196,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708988185955192\n373:klabo     269456  269406  0 05:50 ?        00:00:02 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=utility --utility-sub-type=network.mojom.NetworkService --lang=en-US --service-sandbox-type=none --no-sandbox --disable-dev-shm-usage --use-angle=swiftshader-webgl --use-gl=angle --mute-audio --headless=old --shared-files=v8_context_snapshot_data:100 --field-trial-handle=3,i,8253752618388514287,10711601818368905196,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708989122997041\n379:klabo     529414  529193  0 06:14 ?        00:00:02 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --enable-unsafe-swiftshader --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --user-data-dir=/tmp/playwright_chromiumdev_profile-t0Fdue --remote-debugging-pipe --no-startup-window\n380:klabo     529416  529414  0 06:14 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-zygote-sandbox --no-sandbox --headless\n381:klabo     529417  529414  0 06:14 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-sandbox --headless\n382:klabo     529445  529416  0 06:14 ?        00:00:01 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=gpu-process --no-sandbox --disable-dev-shm-usage --disable-breakpad --headless --ozone-platform=headless --use-angle=swiftshader-webgl --enable-unsafe-swiftshader --gpu-preferences=UAAAAAAAAAAgAAAEAAAAAAAAAAAAAGAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAA --use-gl=angle --shared-files --field-trial-handle=3,i,12844687406008046742,88289454517544059,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708988185955192\n383:klabo     529447  529414  0 06:14 ?        00:00:02 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=utility --utility-sub-type=network.mojom.NetworkService --lang=en-US --service-sandbox-type=none --no-sandbox --disable-dev-shm-usage --use-angle=swiftshader-webgl --use-gl=angle --mute-audio --headless=old --shared-files=v8_context_snapshot_data:100 --field-trial-handle=3,i,12844687406008046742,88289454517544059,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708989122997041\n406:klabo     594964  594818  0 06:20 ?        00:00:06 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --enable-unsafe-swiftshader --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --user-data-dir=/tmp/playwright_chromiumdev_profile-DIKtF3 --remote-debugging-pipe --no-startup-window\n407:klabo     594968  594964  0 06:20 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-zygote-sandbox --no-sandbox --headless\n408:klabo     594969  594964  0 06:20 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-sandbox --headless\n409:klabo     595002  594968  5 06:20 ?        00:07:14 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=gpu-process --no-sandbox --disable-dev-shm-usage --disable-breakpad --headless --ozone-platform=headless --use-angle=swiftshader-webgl --enable-unsafe-swiftshader --gpu-preferences=UAAAAAAAAAAgAAAEAAAAAAAAAAAAAGAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAA --use-gl=angle --shared-files --field-trial-handle=3,i,13088770943407141651,3654028952672477572,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708988185955192\n410:klabo     595009  594964  0 06:20 ?        00:00:02 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=utility --utility-sub-type=network.mojom.NetworkService --lang=en-US --service-sandbox-type=none --no-sandbox --disable-dev-shm-usage --use-angle=swiftshader-webgl --use-gl=angle --mute-audio --headless=old --â€¦37511 tokens truncatedâ€¦asic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --enable-unsafe-swiftshader --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --user-data-dir=/tmp/playwright_chromiumdev_profile-eqVQ0d --remote-debugging-pipe --no-startup-window\n1061:klabo    3799356 3799354  0 04:37 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-zygote-sandbox --no-sandbox --headless\n1062:klabo    3799357 3799354  0 04:37 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-sandbox --headless\n1063:klabo    3799373 3799356  7 04:37 ?        00:16:41 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=gpu-process --no-sandbox --disable-dev-shm-usage --disable-breakpad --headless --ozone-platform=headless --use-angle=swiftshader-webgl --enable-unsafe-swiftshader --gpu-preferences=UAAAAAAAAAAgAAAEAAAAAAAAAAAAAGAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAA --use-gl=angle --shared-files --field-trial-handle=3,i,7415263446417289217,14882331745521477267,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708988185955192\n1064:klabo    3799392 3799354  0 04:37 ?        00:00:04 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=utility --utility-sub-type=network.mojom.NetworkService --lang=en-US --service-sandbox-type=none --no-sandbox --disable-dev-shm-usage --use-angle=swiftshader-webgl --use-gl=angle --mute-audio --headless=old --shared-files=v8_context_snapshot_data:100 --field-trial-handle=3,i,7415263446417289217,14882331745521477267,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708989122997041\n1066:klabo    3928501 3928392  0 04:51 ?        00:00:06 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --enable-unsafe-swiftshader --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --user-data-dir=/tmp/playwright_chromiumdev_profile-qjKUnE --remote-debugging-pipe --no-startup-window\n1067:klabo    3928512 3928501  0 04:51 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-zygote-sandbox --no-sandbox --headless\n1068:klabo    3928513 3928501  0 04:51 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-sandbox --headless\n1069:klabo    3928533 3928512  0 04:51 ?        00:00:02 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=gpu-process --no-sandbox --disable-dev-shm-usage --disable-breakpad --headless --ozone-platform=headless --use-angle=swiftshader-webgl --enable-unsafe-swiftshader --gpu-preferences=UAAAAAAAAAAgAAAEAAAAAAAAAAAAAGAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAA --use-gl=angle --shared-files --field-trial-handle=3,i,12042775143117606925,14876959363996602525,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708988185955192\n1070:klabo    3928544 3928501  0 04:51 ?        00:00:07 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=utility --utility-sub-type=network.mojom.NetworkService --lang=en-US --service-sandbox-type=none --no-sandbox --disable-dev-shm-usage --use-angle=swiftshader-webgl --use-gl=angle --mute-audio --headless=old --shared-files=v8_context_snapshot_data:100 --field-trial-handle=3,i,12042775143117606925,14876959363996602525,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708989122997041\n1080:klabo    4012194 4012047  0 05:00 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --enable-unsafe-swiftshader --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --user-data-dir=/tmp/playwright_chromiumdev_profile-0o7ehc --remote-debugging-pipe --no-startup-window\n1081:klabo    4012195 4012047  0 05:00 ?        00:00:06 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate,RenderDocument,OptimizationHints --enable-features=CDPScreenshotNewSurface --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --disable-infobars --disable-search-engine-choice-screen --disable-sync --enable-unsafe-swiftshader --headless --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --user-data-dir=/tmp/playwright_chromiumdev_profile-bssmOS --remote-debugging-pipe --no-startup-window\n1082:klabo    4012197 4012194  0 05:00 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-zygote-sandbox --no-sandbox --headless\n1083:klabo    4012198 4012194  0 05:00 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-sandbox --headless\n1084:klabo    4012200 4012195  0 05:00 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-zygote-sandbox --no-sandbox --headless\n1085:klabo    4012201 4012195  0 05:00 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=zygote --no-sandbox --headless\n1086:klabo    4012217 4012197  0 05:00 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=gpu-process --no-sandbox --disable-dev-shm-usage --disable-breakpad --headless --ozone-platform=headless --use-angle=swiftshader-webgl --enable-unsafe-swiftshader --gpu-preferences=UAAAAAAAAAAgAAAEAAAAAAAAAAAAAGAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAA --use-gl=angle --shared-files --field-trial-handle=3,i,720602555776847022,14510456679589260113,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708988185955192\n1087:klabo    4012235 4012200  0 05:00 ?        00:00:02 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=gpu-process --no-sandbox --disable-dev-shm-usage --disable-breakpad --headless --ozone-platform=headless --use-angle=swiftshader-webgl --enable-unsafe-swiftshader --gpu-preferences=UAAAAAAAAAAgAAAEAAAAAAAAAAAAAGAAAQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAAAAAA --use-gl=angle --shared-files --field-trial-handle=3,i,11204912070800740671,14713913573089375661,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708988185955192\n1088:klabo    4012236 4012194  0 05:00 ?        00:00:00 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=utility --utility-sub-type=network.mojom.NetworkService --lang=en-US --service-sandbox-type=none --no-sandbox --disable-dev-shm-usage --use-angle=swiftshader-webgl --use-gl=angle --mute-audio --headless=old --shared-files=v8_context_snapshot_data:100 --field-trial-handle=3,i,720602555776847022,14510456679589260113,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708989122997041\n1089:klabo    4012258 4012195  0 05:00 ?        00:00:06 /home/klabo/.cache/ms-playwright/chromium_headless_shell-1208/chrome-headless-shell-linux64/chrome-headless-shell --type=utility --utility-sub-type=network.mojom.NetworkService --lang=en-US --service-sandbox-type=none --no-sandbox --disable-dev-shm-usage --use-angle=swiftshader-webgl --use-gl=angle --mute-audio --headless=old --shared-files=v8_context_snapshot_data:100 --field-trial-handle=3,i,11204912070800740671,14713913573089375661,262144 --enable-features=CDPScreenshotNewSurface --disable-features=AutoDeElevate,AvoidUnnecessaryBeforeUnloadCheckSync,BoundaryEventDispatchTracksNodeRemoval,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,OptimizationHints,PaintHolding,RenderDocument,ThirdPartyStoragePartitioning,Translate --variations-seed-version --trace-process-track-uuid=3190708989122997041\n[08:19:25.579] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mincoming request\u001b[39m\n    reqId: \"req-3\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/api/health\",\n      \"host\": \"localhost:3020\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 57198\n    }\n[08:19:25.580] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mrequest completed\u001b[39m\n    reqId: \"req-3\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 0.6246900260448456\n[08:19:25.581] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mincoming request\u001b[39m\n    reqId: \"req-4\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/api/health\",\n      \"host\": \"localhost:3020\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 57186\n    }\n[08:19:25.582] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mrequest completed\u001b[39m\n    reqId: \"req-4\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 0.4841260015964508\n[08:19:25.604] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mincoming request\u001b[39m\n    reqId: \"req-5\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/api/bitcoin/status\",\n      \"host\": \"localhost:3020\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 57186\n    }\n[08:19:25.605] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mincoming request\u001b[39m\n    reqId: \"req-6\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/debug/ws-wallet\",\n      \"host\": \"localhost:3020\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 57198\n    }\n[08:19:25.606] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mrequest completed\u001b[39m\n    reqId: \"req-6\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 0.6033389866352081\n[08:19:25.610] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mincoming request\u001b[39m\n    reqId: \"req-7\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/debug/ws-wallet\",\n      \"host\": \"localhost:3020\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 57198\n    }\n[08:19:25.610] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mrequest completed\u001b[39m\n    reqId: \"req-7\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 0.41641300916671753\n[08:19:25.612] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mtelemetry ws connection\u001b[39m\n    clientCount: 1\n[08:19:25.623] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mtelemetry ws connection\u001b[39m\n    clientCount: 2\n[08:19:25.624] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mrequest completed\u001b[39m\n    reqId: \"req-5\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 20.592079997062683\n[08:19:25.887] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mwallet ws upgrade\u001b[39m\n[08:19:25.887] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mwallet ws connection\u001b[39m\n    clientCount: 1\n[08:19:26.500] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mincoming request\u001b[39m\n    reqId: \"req-8\"\n    req: {\n      \"method\": \"POST\",\n      \"url\": \"/api/regtest/fund\",\n      \"host\": \"localhost:3020\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 57186\n    }\n[08:19:26.501] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mregtest fund requested\u001b[39m\n    reqId: \"ee105d8b-5585-4f29-b4e6-520734c72278\"\n    action: \"regtest_fund\"\nLNbits topup skipped (non-fatal): [lncli] FAILED\n\n[08:19:29.779] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mregtest fund complete\u001b[39m\n    reqId: \"ee105d8b-5585-4f29-b4e6-520734c72278\"\n    minedBlocks: 6\n[08:19:29.780] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mrequest completed\u001b[39m\n    reqId: \"req-8\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 3279.579319000244\n[08:19:29.798] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mincoming request\u001b[39m\n    reqId: \"req-9\"\n    req: {\n      \"method\": \"GET\",\n      \"url\": \"/api/bitcoin/status\",\n      \"host\": \"localhost:3020\",\n      \"remoteAddress\": \"127.0.0.1\",\n      \"remotePort\": 57186\n    }\n[08:19:29.802] \u001b[32mINFO\u001b[39m (1741379): \u001b[36mrequest completed\u001b[39m\n    reqId: \"req-9\"\n    res: {\n      \"statusCode\": 200\n    }\n    responseTime: 4.076378017663956\n---\n\n  \u001b[32m\u001b[1mVITE\u001b[22m v5.4.21\u001b[39m  \u001b[2mready in \u001b[0m\u001b[1m165\u001b[22m\u001b[2m\u001b[0m ms\u001b[22m\n\n  \u001b[32mâžœ\u001b[39m  \u001b[1mLocal\u001b[22m:   \u001b[36mhttp://localhost:\u001b[1m4192\u001b[22m/\u001b[39m\n  \u001b[32mâžœ\u001b[39m  \u001b[1mNetwork\u001b[22m: \u001b[36mhttp://192.168.1.165:\u001b[1m4192\u001b[22m/\u001b[39m\n  \u001b[32mâžœ\u001b[39m  \u001b[1mNetwork\u001b[22m: \u001b[36mhttp://100.97.193.93:\u001b[1m4192\u001b[22m/\u001b[39m\n  \u001b[32mâžœ\u001b[39m  \u001b[1mNetwork\u001b[22m: \u001b[36mhttp://10.13.13.2:\u001b[1m4192\u001b[22m/\u001b[39m\n  \u001b[32mâžœ\u001b[39m  \u001b[1mNetwork\u001b[22m: \u001b[36mhttp://172.17.0.1:\u001b[1m4192\u001b[22m/\u001b[39m\n  \u001b[32mâžœ\u001b[39m  \u001b[1mNetwork\u001b[22m: \u001b[36mhttp://172.19.0.1:\u001b[1m4192\u001b[22m/\u001b[39m\n  \u001b[32mâžœ\u001b[39m  \u001b[1mNetwork\u001b[22m: \u001b[36mhttp://172.18.0.1:\u001b[1m4192\u001b[22m/\u001b[39m\n  \u001b[32mâžœ\u001b[39m  \u001b[1mNetwork\u001b[22m: \u001b[36mhttp://172.20.0.1:\u001b[1m4192\u001b[22m/\u001b[39m\n\u001b[2m8:18:57 AM\u001b[22m \u001b[36m\u001b[1m[vite]\u001b[22m\u001b[39m \u001b[32mhmr update \u001b[39m\u001b[2m/src/screens/SearchScreen.tsx\u001b[22m\n\u001b[2m8:18:57 AM\u001b[22m \u001b[36m\u001b[1m[vite]\u001b[22m\u001b[39m \u001b[32mhmr update \u001b[39m\u001b[2m/src/screens/SearchScreen.tsx\u001b[22m\n\u001b[2m8:18:57 AM\u001b[22m \u001b[36m\u001b[1m[vite]\u001b[22m\u001b[39m \u001b[32mhmr update \u001b[39m\u001b[2m/src/screens/SearchScreen.tsx\u001b[22m\n8:18:57 AM [vite] hmr update /src/screens/SearchScreen.tsx\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_60","type":"reasoning","text":"**Analyzing legacy API base handling**"}}
{"type":"item.completed","item":{"id":"item_61","type":"agent_message","text":"I reproduced active navigation against the session and confirmed runtime requests are correctly using `localhost:3020` (not mixed). Iâ€™m now pinpointing where stale `3001`/`3002` values can still be emitted, which appears to be in legacy verification/tests and API-base normalization behavior."}}
{"type":"item.started","item":{"id":"item_62","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,240p' scripts/dev/logs.sh\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_63","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,220p' scripts/dev/session-manager.sh\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_62","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,240p' scripts/dev/logs.sh\"","aggregated_output":"#!/usr/bin/env bash\nset -euo pipefail\n\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\nROOT=\"$(cd \"$SCRIPT_DIR/../..\" && pwd)\"\nLOG_DIR=\"$ROOT/.logs/dev\"\nsource \"$ROOT/scripts/dev/session-manager.sh\"\n\n# Suppress \"NO_COLOR env is ignored due to FORCE_COLOR\" warnings\nunset NO_COLOR\n\nPORT_WAS_SET=0\nDEV_SERVER_PORT_WAS_SET=0\nif [[ -v PORT ]]; then\n  PORT_WAS_SET=1\nfi\nif [[ -v DEV_SERVER_PORT ]]; then\n  DEV_SERVER_PORT_WAS_SET=1\nfi\n\nmkdir -p \"$LOG_DIR\"\nmkdir -p \"$NOSTRDEV_SESSION_DIR\"\nAPI_LOG=\"$LOG_DIR/api.log\"\nSOCIAL_LOG=\"$LOG_DIR/social.log\"\n: >\"$API_LOG\"\n: >\"$SOCIAL_LOG\"\n\necho \"ðŸªµ writing logs to $LOG_DIR (api.log, social.log)\"\necho \"ðŸ’¡ view live: tail -f $API_LOG $SOCIAL_LOG\"\nif [[ \"${LOG_TAIL:-1}\" != \"0\" ]]; then\n  echo \"ðŸ‘€ auto-following logs (set LOG_TAIL=0 to disable)\"\n  tail -F \"$API_LOG\" \"$SOCIAL_LOG\" &\n  TAIL_PID=$!\nfi\n\ncd \"$ROOT\"\n\n# Default to HTTP for dev unless explicitly enabled.\nexport USE_HTTPS=\"${USE_HTTPS:-false}\"\nexport HTTPS_CERT=\"${HTTPS_CERT:-$ROOT/certs/dev-cert.pem}\"\nexport HTTPS_KEY=\"${HTTPS_KEY:-$ROOT/certs/dev-key.pem}\"\nexport DATABASE_URL=\"${DATABASE_URL:-file:./dev.db}\"\nexport PRISMA_HIDE_UPDATE_MESSAGE=\"${PRISMA_HIDE_UPDATE_MESSAGE:-1}\"\nexport LIGHTNING_PROVIDER=\"${LIGHTNING_PROVIDER:-lnbits}\"\nexport BITCOIN_NETWORK=\"${BITCOIN_NETWORK:-regtest}\"\nexport VITE_NETWORK=\"${VITE_NETWORK:-$BITCOIN_NETWORK}\"\nREGTEST_DEFAULT=false\nif [[ \"$BITCOIN_NETWORK\" == \"regtest\" ]]; then\n  REGTEST_DEFAULT=true\nfi\nexport ENABLE_REGTEST_PAY=\"${ENABLE_REGTEST_PAY:-$REGTEST_DEFAULT}\"\nexport ENABLE_REGTEST_FUND=\"${ENABLE_REGTEST_FUND:-$REGTEST_DEFAULT}\"\nexport VITE_ENABLE_REGTEST_PAY=\"${VITE_ENABLE_REGTEST_PAY:-$REGTEST_DEFAULT}\"\nexport VITE_ENABLE_REGTEST_FUND=\"${VITE_ENABLE_REGTEST_FUND:-$REGTEST_DEFAULT}\"\nexport ENABLE_LNURL_WITHDRAW=\"${ENABLE_LNURL_WITHDRAW:-true}\"\nexport ENABLE_BOLT12=\"${ENABLE_BOLT12:-true}\"\nexport BOLT12_PROVIDER=\"${BOLT12_PROVIDER:-mock}\"\nexport PORT=\"${PORT:-3001}\"\nexport DEV_SERVER_PORT=\"${DEV_SERVER_PORT:-4173}\"\nexport NOSTRDEV_AGENT=\"${NOSTRDEV_AGENT:-${USER:-agent}}\"\nif [[ \"$PORT_WAS_SET\" == \"1\" && \"$DEV_SERVER_PORT_WAS_SET\" == \"1\" ]]; then\n  export NOSTRDEV_MANAGED_SESSION=\"${NOSTRDEV_MANAGED_SESSION:-0}\"\nelse\n  export NOSTRDEV_MANAGED_SESSION=\"${NOSTRDEV_MANAGED_SESSION:-1}\"\nfi\n\nif [[ ! -f \"$HTTPS_CERT\" || ! -f \"$HTTPS_KEY\" || \"${REGEN_CERTS:-0}\" == \"1\" ]]; then\n  echo \"ðŸ” generating self-signed dev certs with SAN=localhost at $HTTPS_CERT / $HTTPS_KEY\"\n  mkdir -p \"$(dirname \"$HTTPS_CERT\")\"\n  openssl req -x509 -newkey rsa:2048 -nodes \\\n    -keyout \"$HTTPS_KEY\" -out \"$HTTPS_CERT\" \\\n    -subj \"/CN=localhost\" -days 365 \\\n    -addext \"subjectAltName=DNS:localhost,IP:127.0.0.1,IP:::1\" >/tmp/dev-cert.log 2>&1 || true\nelse\n  echo \"ðŸ” using existing certs at $HTTPS_CERT / $HTTPS_KEY\"\nfi\n\nndev_claim_session\nAPI_SCHEME=\"http\"\nif [[ \"$USE_HTTPS\" == \"true\" ]]; then\n  API_SCHEME=\"https\"\nfi\nexport PUBLIC_ORIGIN=\"${PUBLIC_ORIGIN:-$API_SCHEME://localhost:$PORT}\"\nAPI_BASE_URL=\"$API_SCHEME://localhost:$PORT\"\necho \"ðŸ“¦ Dev session: agent=$NOSTRDEV_AGENT slot=${NOSTRDEV_SESSION_SLOT:-manual} api=$PORT social=$DEV_SERVER_PORT\"\ncleanup_dev_session() {\n  ndev_release_session\n  if [[ -n \"${TAIL_PID:-}\" ]]; then\n    kill \"$TAIL_PID\" >/dev/null 2>&1 || true\n  fi\n}\ntrap cleanup_dev_session EXIT INT TERM\n\necho \"ðŸ§¬ applying Prisma migrations\"\npnpm --filter api exec prisma migrate deploy --schema \"$ROOT/apps/api/prisma/schema.prisma\"\n\n# Start regtest stack (bitcoind + LND + LNbits) and export LNbits admin key for dev\nif [[ \"$BITCOIN_NETWORK\" == \"regtest\" ]]; then\n  if command -v docker >/dev/null 2>&1; then\n    echo \"ðŸš€ starting regtest stack (docker compose)\"\n    ./scripts/regtest/bootstrap-lnbits.sh up >/tmp/lnbits-up.log 2>&1 || true\n\n    echo \"ðŸ”‘ ensuring LNbits superuser (admin/changeme)\"\n    curl -s -o /dev/null -X PUT http://localhost:15001/api/v1/auth/first_install \\\n      -H 'Content-Type: application/json' \\\n      -d '{\"username\":\"admin\",\"password\":\"changeme\",\"password_repeat\":\"changeme\"}' || true\n\n    ADMIN_COOKIE=$(mktemp)\n    curl -s -c \"$ADMIN_COOKIE\" -X POST http://localhost:15001/api/v1/auth \\\n      -H 'Content-Type: application/json' \\\n      -d '{\"username\":\"admin\",\"password\":\"changeme\"}' >/dev/null || true\n    ADMIN_JSON=$(curl -s -b \"$ADMIN_COOKIE\" http://localhost:15001/api/v1/wallets)\n    ADMIN_KEY=$(printf '%s' \"$ADMIN_JSON\" | jq -r '.[0].adminkey // empty')\n    WALLET_ID=$(printf '%s' \"$ADMIN_JSON\" | jq -r '.[0].id // empty')\n    rm -f \"$ADMIN_COOKIE\"\n\n    if [[ -n \"$ADMIN_KEY\" ]]; then\n      export LN_BITS_URL=${LN_BITS_URL:-http://localhost:15001}\n      export LN_BITS_API_KEY=${LN_BITS_API_KEY:-$ADMIN_KEY}\n      [[ -n \"$WALLET_ID\" ]] && export LN_BITS_WALLET_ID=${LN_BITS_WALLET_ID:-$WALLET_ID}\n      export VITE_LNBITS_URL=${VITE_LNBITS_URL:-http://localhost:15001}\n      export VITE_LNBITS_ADMIN_KEY=${VITE_LNBITS_ADMIN_KEY:-$ADMIN_KEY}\n      [[ -n \"$WALLET_ID\" ]] && export VITE_LNBITS_WALLET_ID=${VITE_LNBITS_WALLET_ID:-$WALLET_ID}\n      echo \"âœ… LNbits admin key exported\"\n    else\n      echo \"âš ï¸ could not fetch LNbits admin key; check http://localhost:15001\" >&2\n    fi\n  else\n    echo \"âš ï¸ docker not found; skipping regtest stack startup\" >&2\n  fi\nelse\n  echo \"ðŸŒ BITCOIN_NETWORK=$BITCOIN_NETWORK; skipping regtest stack startup\"\nfi\n\npnpm concurrently -k -p \"[{name} {time}]\" -n api,social \\\n  \"pnpm --filter api dev | tee -a $API_LOG\" \\\n  \"VITE_API_BASE_URL=$API_BASE_URL \\\n   VITE_API_PROXY_TARGET=$API_BASE_URL \\\n   VITE_NOSTRSTACK_HOST=localhost:$PORT \\\n   pnpm --filter social exec vite --host --port $DEV_SERVER_PORT | tee -a $SOCIAL_LOG\"\n\necho \"ðŸ§­ Reminder: verify UI changes with Chrome DevTools MCP (check console & network) and keep the tails above running while you test.\"\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_63","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,220p' scripts/dev/session-manager.sh\"","aggregated_output":"#!/usr/bin/env bash\nset -euo pipefail\n\nSCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"\nROOT=\"$(cd \"$SCRIPT_DIR/../..\" && pwd)\"\n\nNOSTRDEV_SESSION_DIR=\"${NOSTRDEV_SESSION_DIR:-$ROOT/.logs/dev/sessions}\"\nNOSTRDEV_BASE_API_PORT=\"${NOSTRDEV_BASE_API_PORT:-3001}\"\nNOSTRDEV_BASE_SOCIAL_PORT=\"${NOSTRDEV_BASE_SOCIAL_PORT:-4173}\"\nNOSTRDEV_MAX_SLOTS=\"${NOSTRDEV_MAX_SLOTS:-40}\"\nNOSTRDEV_AGENT=\"${NOSTRDEV_AGENT:-${NOSTR_AGENT:-${USER:-agent}}}\"\nNOSTRDEV_SESSION_COMMAND=\"${NOSTRDEV_SESSION_COMMAND:-}\"\n\nmkdir -p \"$NOSTRDEV_SESSION_DIR\"\n\nndev_slot_file() {\n  local slot=\"$1\"\n  printf '%s/slot-%s.session' \"$NOSTRDEV_SESSION_DIR\" \"$slot\"\n}\n\nndev_parse_field() {\n  local file=\"$1\"\n  local key=\"$2\"\n  sed -n \"s/^${key}=//p\" \"$file\" 2>/dev/null | head -n 1 || true\n}\n\nndev_pid_alive() {\n  local pid=\"$1\"\n  [[ -n \"$pid\" ]] && kill -0 \"$pid\" >/dev/null 2>&1\n}\n\nndev_port_in_use() {\n  local port=\"$1\"\n  if command -v lsof >/dev/null 2>&1; then\n    lsof -iTCP:\"$port\" -sTCP:LISTEN -P -n >/dev/null 2>&1\n    return $?\n  fi\n\n  if command -v ss >/dev/null 2>&1; then\n    ss -ltnp 2>/dev/null | awk -v p=\":${port}\" '$4 ~ p' | grep -q . || return 1\n    return 0\n  fi\n\n  return 1\n}\n\nndev_port_has_owner() {\n  local port=\"$1\"\n  local pid=\"\"\n\n  if command -v lsof >/dev/null 2>&1; then\n    pid=\"$(lsof -iTCP:\"$port\" -sTCP:LISTEN -P -n -t 2>/dev/null | head -n 1 || true)\"\n    if [[ -n \"$pid\" ]]; then\n      return 0\n    fi\n  fi\n\n  if command -v ss >/dev/null 2>&1; then\n    if ss -ltnp 2>/dev/null | awk -v p=\":${port}\" '$4 ~ p && $6 ~ /pid=/ {found=1} END {exit !found}'; then\n      return 0\n    fi\n  fi\n\n  return 1\n}\n\nndev_force_kill_port() {\n  local port=\"$1\"\n  local pid=\"\"\n\n  if command -v lsof >/dev/null 2>&1; then\n    pid=\"$(lsof -iTCP:\"$port\" -sTCP:LISTEN -P -n -t 2>/dev/null | head -n 1 || true)\"\n    if [[ -n \"$pid\" ]] && ndev_pid_alive \"$pid\" 2>/dev/null; then\n      echo \"Force killing PID $pid on port $port\"\n      kill -9 \"$pid\" 2>/dev/null || true\n      sleep 1\n      if ! ndev_port_in_use \"$port\"; then\n        return 0\n      fi\n    fi\n  fi\n\n  if command -v fuser >/dev/null 2>&1; then\n    pid=\"$(fuser -n tcp \"$port\" 2>/dev/null | grep -oE '[0-9]+' | head -1 || true)\"\n    if [[ -n \"$pid\" ]] && ndev_pid_alive \"$pid\" 2>/dev/null; then\n      echo \"Force killing PID $pid on port $port (via fuser)\"\n      kill -9 \"$pid\" 2>/dev/null || true\n      sleep 1\n      if ! ndev_port_in_use \"$port\"; then\n        return 0\n      fi\n    fi\n  fi\n\n  if command -v ss >/dev/null 2>&1; then\n    pid=\"$(ss -ltnp 2>/dev/null | awk -v p=\":${port}\" '$4 ~ p {for(i=6;i<=NF;i++) if($i~\"pid=\") {split($i,a,\"=\"); print a[2]; exit}}')\"\n    if [[ -n \"$pid\" ]] && ndev_pid_alive \"$pid\" 2>/dev/null; then\n      echo \"Force killing PID $pid on port $port (via ss)\"\n      kill -9 \"$pid\" 2>/dev/null || true\n      sleep 1\n      if ! ndev_port_in_use \"$port\"; then\n        return 0\n      fi\n    fi\n  fi\n\n  if ndev_port_in_use \"$port\"; then\n    echo \"Port $port is in use but has no identifiable owner process - may be stale socket\"\n    return 1\n  fi\n\n  return 0\n}\n\nndev_cleanup_stale_session_file() {\n  local file=\"$1\"\n  local slot\n  local pid\n  if [[ ! -f \"$file\" ]]; then\n    return 0\n  fi\n  slot=\"$(ndev_parse_field \"$file\" NOSTRDEV_SESSION_SLOT)\"\n  pid=\"$(ndev_parse_field \"$file\" NOSTRDEV_SESSION_PID)\"\n  if [[ -z \"$pid\" ]] || ! ndev_pid_alive \"$pid\"; then\n    if [[ \"$slot\" == manual-* ]]; then\n      local api_port social_port\n      api_port=\"$(ndev_parse_field \"$file\" NOSTRDEV_SESSION_API_PORT)\"\n      social_port=\"$(ndev_parse_field \"$file\" NOSTRDEV_SESSION_SOCIAL_PORT)\"\n      if [[ -n \"$api_port\" ]] && ndev_port_in_use \"$api_port\"; then\n        return 0\n      fi\n      if [[ -n \"$social_port\" ]] && ndev_port_in_use \"$social_port\"; then\n        return 0\n      fi\n    fi\n    rm -f \"$file\"\n  fi\n}\n\nndev_lock_slot() {\n  local slot=\"$1\"\n  local lock_dir=\"$NOSTRDEV_SESSION_DIR/.lock-slot-${slot}\"\n  local lock_pid=\"\"\n\n  if mkdir \"$lock_dir\" 2>/dev/null; then\n    printf '%s' \"$$\" > \"$lock_dir/pid\"\n    return 0\n  fi\n\n  lock_pid=\"$(cat \"$lock_dir/pid\" 2>/dev/null || true)\"\n  if [[ -n \"$lock_pid\" ]] && ! ndev_pid_alive \"$lock_pid\"; then\n    rm -rf \"$lock_dir\"\n    if mkdir \"$lock_dir\" 2>/dev/null; then\n      printf '%s' \"$$\" > \"$lock_dir/pid\"\n      return 0\n    fi\n  fi\n\n  return 1\n}\n\nndev_unlock_slot() {\n  local slot=\"$1\"\n  local lock_dir=\"$NOSTRDEV_SESSION_DIR/.lock-slot-${slot}\"\n  local lock_pid=\"\"\n  lock_pid=\"$(cat \"$lock_dir/pid\" 2>/dev/null || true)\"\n  if [[ \"$lock_pid\" == \"$$\" ]]; then\n    rm -rf \"$lock_dir\" || true\n  fi\n}\n\nndev_write_session_file() {\n  local slot=\"$1\"\n  local api_port=\"$2\"\n  local social_port=\"$3\"\n  local file\n  local started_at\n\n  file=\"$(ndev_slot_file \"$slot\")\"\n  started_at=\"$(date -u +%Y-%m-%dT%H:%M:%SZ)\"\n  cat >\"$file\" <<EOF\nNOSTRDEV_SESSION_SLOT=$slot\nNOSTRDEV_SESSION_PID=$$\nNOSTRDEV_SESSION_AGENT=$NOSTRDEV_AGENT\nNOSTRDEV_SESSION_COMMAND=$NOSTRDEV_SESSION_COMMAND\nNOSTRDEV_SESSION_API_PORT=$api_port\nNOSTRDEV_SESSION_SOCIAL_PORT=$social_port\nNOSTRDEV_SESSION_HOST=${HOSTNAME:-unknown}\nNOSTRDEV_SESSION_STARTED_AT=$started_at\nEOF\n\n  export NOSTRDEV_SESSION_SLOT=\"$slot\"\n  export NOSTRDEV_SESSION_FILE=\"$file\"\n  export PORT=\"$api_port\"\n  export DEV_SERVER_PORT=\"$social_port\"\n}\n\nndev_claim_slot() {\n  local slot=\"$1\"\n  local file\n  local api_port\n  local social_port\n  local owner_pid\n\n  if ! ndev_lock_slot \"$slot\"; then\n    return 1\n  fi\n\n  file=\"$(ndev_slot_file \"$slot\")\"\n  ndev_cleanup_stale_session_file \"$file\"\n  if [[ -f \"$file\" ]]; then\n    owner_pid=\"$(ndev_parse_field \"$file\" NOSTRDEV_SESSION_PID)\"\n    if [[ -n \"$owner_pid\" ]] && ndev_pid_alive \"$owner_pid\"; then\n      ndev_unlock_slot \"$slot\"\n      return 1\n    fi\n    rm -f \"$file\"\n  fi\n\n  api_port=$((NOSTRDEV_BASE_API_PORT + slot))\n","exit_code":0,"status":"completed"}}
{"type":"item.started","item":{"id":"item_64","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,220p' scripts/dev/watch-social.sh\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_64","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,220p' scripts/dev/watch-social.sh\"","aggregated_output":"#!/usr/bin/env bash\n# Restart social dev server on source changes using entr\nset -euo pipefail\n\nroot=$(git rev-parse --show-toplevel)\ncd \"$root\"\nsource \"$root/scripts/dev/session-manager.sh\"\nNOSTRDEV_SESSION_COMMAND=\"watch-social\"\nNOSTRDEV_MANAGED_SESSION=\"${NOSTRDEV_MANAGED_SESSION:-1}\"\nndev_claim_session\ntrap 'ndev_release_session' EXIT INT TERM\n\n# shellcheck disable=SC2016\nfind apps/social/src -type f | entr -r sh -c '\n  echo \"[entr] restarting social dev\";\n  cd apps/social && VITE_API_BASE_URL=${VITE_API_BASE_URL:-http://localhost:'\"$PORT\"'} \\\n  VITE_API_PROXY_TARGET=${VITE_API_PROXY_TARGET:-http://localhost:'\"$PORT\"'} \\\n  VITE_NOSTRSTACK_HOST=${VITE_NOSTRSTACK_HOST:-localhost:'\"$PORT\"'} \\\n  VITE_NOSTRSTACK_RELAYS=${VITE_NOSTRSTACK_RELAYS:-mock} \\\n  pnpm dev -- --host --port '\"$DEV_SERVER_PORT\"'\n'\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_65","type":"reasoning","text":"**Investigating stale URL in tests**"}}
{"type":"item.completed","item":{"id":"item_66","type":"agent_message","text":"The dev session scripts are correctly wiring per-session ports, so the likely stale source is in UI test/audit paths. Iâ€™m now checking the telemetry reconnect test and related fixtures for hardcoded old port expectations that keep surfacing as mixed-port logs."}}
{"type":"item.started","item":{"id":"item_67","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,240p' apps/social/tests/telemetry-reconnect.spec.ts\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_68","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,220p' apps/social/src/utils/api-base.test.tsx\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.started","item":{"id":"item_69","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,220p' packages/react/src/api-base.test.ts\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_67","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,240p' apps/social/tests/telemetry-reconnect.spec.ts\"","aggregated_output":"import { expect, test } from '@playwright/test';\n\nimport { dispatchTelemetryWsState, resolveDocScreenshotPath, setBrowserOffline } from './helpers';\n\nconst TEST_NSEC = 'nsec1vl029mgpspedva04g90vltkh6fvh240zqtv9k0t9af8935ke9laqsnlfe5';\nconst now = Math.floor(Date.now() / 1000);\n\nconst mockStatus = {\n  network: 'regtest',\n  configuredNetwork: 'regtest',\n  source: 'mock',\n  telemetry: {\n    height: 222_000,\n    hash: '0'.repeat(64),\n    time: now,\n    mempoolTxs: 12,\n    mempoolBytes: 1024 * 512,\n    subversion: '/Satoshi:24.0.0/',\n    connections: 8,\n    headers: 222_010,\n    blocks: 222_000,\n    verificationProgress: 0.98,\n    initialBlockDownload: false\n  },\n  lightning: {\n    provider: 'lnbits',\n    lnbits: {\n      status: 'ok',\n      httpStatus: 200,\n      elapsedMs: 32,\n      body: 'ok',\n      urlTried: 'http://localhost:3001'\n    }\n  }\n};\n\ntest.beforeEach(async ({ page }) => {\n  await page.addInitScript((nsec) => {\n    localStorage.setItem('nostrstack.auth.mode', 'nsec');\n    localStorage.setItem('nostrstack.auth.nsec', nsec);\n  }, TEST_NSEC);\n\n  await page.addInitScript(() => {\n    window.__NOSTRSTACK_TELEMETRY_TIMING__ = {\n      wsBaseDelayMs: 100,\n      wsMaxDelayMs: 200,\n      wsMaxAttempts: 3,\n      wsJitter: 0,\n      offlinePollBaseMs: 20,\n      offlinePollMaxMs: 20,\n      offlinePollJitter: 0,\n      statusDwellMs: 300\n    };\n  });\n});\n\ntest('telemetry reconnect and offline fallback states', async ({ page }) => {\n  const consoleErrors: string[] = [];\n  const ignoreConsoleError = (text: string) => {\n    return (\n      /status of 500/i.test(text) ||\n      /An SSL certificate error occurred when fetching the script/.test(text) ||\n      /Failed to register a ServiceWorker/.test(text) ||\n      /ws\\/wallet/i.test(text) ||\n      /wss:\\/\\/localhost:3002\\/ws\\/telemetry/.test(text) ||\n      /wss:\\/\\/onlynotes\\.lol\\//.test(text) ||\n      /WebSocket connection to 'wss:.*' failed: Error in connection establishment: net::/.test(\n        text\n      ) ||\n      /wss:\\/\\/relay\\./.test(text) ||\n      /wss:\\/\\/[a-z0-9.-]+:\\d+\\/ws\\//.test(text)\n    );\n  };\n  page.on('console', (msg) => {\n    if (msg.type() !== 'error') return;\n    const text = msg.text();\n    if (ignoreConsoleError(text)) return;\n    consoleErrors.push(text);\n  });\n  page.on('pageerror', (err) => consoleErrors.push(err.message));\n\n  let failStatus = false;\n  await page.route('**/api/bitcoin/status', async (route) => {\n    if (failStatus) {\n      await route.fulfill({ status: 500, contentType: 'text/plain', body: 'status offline' });\n      return;\n    }\n    await route.fulfill({\n      status: 200,\n      contentType: 'application/json',\n      body: JSON.stringify(mockStatus)\n    });\n  });\n\n  await page.goto('/');\n\n  const statusRow = page.locator('.telemetry-status-row');\n  await expect(statusRow).toHaveAttribute('role', 'status');\n  await expect(statusRow).toHaveAttribute('aria-live', 'polite');\n\n  const statusBadge = page.locator('.telemetry-status');\n  await dispatchTelemetryWsState(page, { status: 'connected', attempt: 0, offlineReason: null });\n  await expect(statusBadge).toHaveAttribute('data-status', 'connected', { timeout: 3000 });\n  await expect(statusBadge).toContainText('Connected');\n  await expect(page.locator('.telemetry-status-time')).not.toContainText('No updates yet');\n  await dispatchTelemetryWsState(page, { status: 'reconnecting', attempt: 1, offlineReason: null });\n  await expect(statusBadge).toHaveAttribute('data-status', 'reconnecting');\n  await expect(statusBadge).toHaveAttribute('data-status', 'reconnecting', { timeout: 1500 });\n  await expect(statusBadge).toContainText('Reconnecting');\n\n  await page.screenshot({\n    path: resolveDocScreenshotPath('telemetry-reconnect/telemetry-reconnect.png')\n  });\n\n  failStatus = true;\n\n  await setBrowserOffline(page);\n\n  await expect(statusBadge).toHaveAttribute('data-status', 'reconnecting');\n  await expect(statusBadge).toHaveAttribute('data-status', 'offline', { timeout: 2000 });\n  await expect(page.locator('.telemetry-status-note')).toContainText('Offline reason');\n  await expect(page.locator('.telemetry-status-note')).toContainText('Browser offline');\n  await expect(page.locator('.telemetry-status-stale')).toBeVisible({ timeout: 5000 });\n\n  await page.screenshot({\n    path: resolveDocScreenshotPath('telemetry-reconnect/telemetry-offline.png')\n  });\n\n  expect(consoleErrors).toEqual([]);\n});\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_68","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,220p' apps/social/src/utils/api-base.test.tsx\"","aggregated_output":"import { describe, expect, it } from 'vitest';\n\nimport { resolveGalleryApiBase, resolveRuntimeApiBase, resolveRuntimeWsUrl } from './api-base';\n\ndescribe('resolveRuntimeWsUrl', () => {\n  const getWebSocketOrigin = () =>\n    window.location.origin.replace(/^https:\\/\\//, 'wss://').replace(/^http:\\/\\//, 'ws://');\n\n  it('preserves localhost:3002 API base', () => {\n    const apiBase = resolveRuntimeApiBase('http://localhost:3002');\n    expect(apiBase).toBe('http://localhost:3002');\n  });\n\n  it('preserves localhost:3002 in gallery API base resolution', () => {\n    const apiBase = resolveGalleryApiBase({ apiBase: 'http://localhost:3002' });\n    expect(apiBase.baseUrl).toBe('http://localhost:3002');\n    expect(apiBase.isConfigured).toBe(true);\n    expect(apiBase.raw).toBe('http://localhost:3002');\n  });\n\n  it('uses secure websocket scheme for absolute HTTPS base URLs', () => {\n    const url = resolveRuntimeWsUrl('https://api.local', '/ws/telemetry');\n    expect(url).toBe('wss://api.local/ws/telemetry');\n  });\n\n  it('keeps ws:// for local HTTP API base when the page is HTTPS', () => {\n    const originalLocation = window.location;\n    Object.defineProperty(window, 'location', {\n      configurable: true,\n      value: new URL('https://localhost:4173') as unknown as Location\n    });\n\n    try {\n      const url = resolveRuntimeWsUrl('http://localhost:3001', '/ws/telemetry');\n      expect(url).toBe('ws://localhost:3001/ws/telemetry');\n    } finally {\n      Object.defineProperty(window, 'location', {\n        configurable: true,\n        value: originalLocation\n      });\n    }\n  });\n\n  it('upgrades ws:// runtime base to wss:// when the page is HTTPS', () => {\n    const originalLocation = window.location;\n    Object.defineProperty(window, 'location', {\n      configurable: true,\n      value: new URL('https://localhost:4173') as unknown as Location\n    });\n\n    try {\n      const url = resolveRuntimeWsUrl('ws://localhost:3001', '/ws/telemetry');\n      expect(url).toBe('wss://localhost:3001/ws/telemetry');\n    } finally {\n      Object.defineProperty(window, 'location', {\n        configurable: true,\n        value: originalLocation\n      });\n    }\n  });\n\n  it('maps \"/api\" runtime base to host root websocket path', () => {\n    const url = resolveRuntimeWsUrl('/api', '/ws/telemetry');\n    expect(url).toBe(`${getWebSocketOrigin()}/ws/telemetry`);\n  });\n\n  it('keeps non-api relative base URL path when provided', () => {\n    const url = resolveRuntimeWsUrl('/api-proxy', '/ws/telemetry');\n    expect(url).toBe(`${getWebSocketOrigin()}/api-proxy/ws/telemetry`);\n  });\n});\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_69","type":"command_execution","command":"/usr/bin/bash -lc \"sed -n '1,220p' packages/react/src/api-base.test.ts\"","aggregated_output":"import { afterEach, describe, expect, it } from 'vitest';\n\nimport { resolveApiBase } from './api-base';\n\ndescribe('resolveApiBase', () => {\n  const restoreLocation = () => {\n    const original = window.location;\n    Object.defineProperty(window, 'location', {\n      configurable: true,\n      get: () => original\n    });\n  };\n\n  const withProtocol = (protocol: string) => {\n    const original = window.location;\n    Object.defineProperty(window, 'location', {\n      configurable: true,\n      get: () => ({ ...original, protocol })\n    });\n    return () => {\n      Object.defineProperty(window, 'location', {\n        configurable: true,\n        get: () => original\n      });\n    };\n  };\n\n  afterEach(() => {\n    restoreLocation();\n  });\n\n  it('preserves localhost:3002 API base and keeps local HTTP on secure pages', () => {\n    const restore = withProtocol('https:');\n    const result = resolveApiBase('http://localhost:3002');\n    restore();\n    expect(result.baseUrl).toBe('http://localhost:3002');\n    expect(result.raw).toBe('http://localhost:3002');\n  });\n\n  it('normalizes legacy localhost:3002 HTTPS API base URLs', () => {\n    const restore = withProtocol('https:');\n    const result = resolveApiBase('https://localhost:3002');\n    restore();\n    expect(result.baseUrl).toBe('https://localhost:3002');\n    expect(result.raw).toBe('https://localhost:3002');\n  });\n\n  it('normalizes legacy localhost:3002 on non-secure pages', () => {\n    const restore = withProtocol('http:');\n    const result = resolveApiBase('http://localhost:3002');\n    restore();\n    expect(result.baseUrl).toBe('http://localhost:3002');\n    expect(result.raw).toBe('http://localhost:3002');\n    expect(window.location.protocol).toBe('http:');\n  });\n\n  it('keeps local loopback hosts as HTTP on HTTPS pages', () => {\n    const restore = withProtocol('https:');\n    const result = resolveApiBase('http://127.0.0.1:4001');\n    restore();\n    expect(result.baseUrl).toBe('http://127.0.0.1:4001');\n    expect(result.raw).toBe('http://127.0.0.1:4001');\n  });\n\n  it('preserves relative API paths', () => {\n    const restore = withProtocol('https:');\n    const result = resolveApiBase('/api');\n    restore();\n    expect(result.baseUrl).toBe('');\n    expect(result.isRelative).toBe(true);\n    expect(result.raw).toBe('/api');\n  });\n\n  it('preserves relative API paths with trailing slash', () => {\n    const restore = withProtocol('https:');\n    const result = resolveApiBase('/api/');\n    restore();\n    expect(result.baseUrl).toBe('');\n    expect(result.isRelative).toBe(true);\n    expect(result.raw).toBe('/api/');\n  });\n});\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_70","type":"reasoning","text":"**Analyzing stale hardcoded ports**"}}
{"type":"item.started","item":{"id":"item_71","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"3001|3002|localhost:\" apps/social/src -S'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_71","type":"command_execution","command":"/usr/bin/bash -lc 'rg -n \"3001|3002|localhost:\" apps/social/src -S'","aggregated_output":"apps/social/src/nostr/eventRenderers.tsx:123:    case 30023:\napps/social/src/nostr/eventRenderers.tsx:432:  if (event.kind === 30023) {\napps/social/src/nostr/ReferencePreview.tsx:78:  if (event.kind === 30023) {\napps/social/src/utils/api-base.ts:19:  if (!/^https?:\\/\\/localhost:/.test(trimmed)) {\napps/social/src/utils/api-base.test.tsx:9:  it('preserves localhost:3002 API base', () => {\napps/social/src/utils/api-base.test.tsx:10:    const apiBase = resolveRuntimeApiBase('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:11:    expect(apiBase).toBe('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:14:  it('preserves localhost:3002 in gallery API base resolution', () => {\napps/social/src/utils/api-base.test.tsx:15:    const apiBase = resolveGalleryApiBase({ apiBase: 'http://localhost:3002' });\napps/social/src/utils/api-base.test.tsx:16:    expect(apiBase.baseUrl).toBe('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:18:    expect(apiBase.raw).toBe('http://localhost:3002');\napps/social/src/utils/api-base.test.tsx:30:      value: new URL('https://localhost:4173') as unknown as Location\napps/social/src/utils/api-base.test.tsx:34:      const url = resolveRuntimeWsUrl('http://localhost:3001', '/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:35:      expect(url).toBe('ws://localhost:3001/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:48:      value: new URL('https://localhost:4173') as unknown as Location\napps/social/src/utils/api-base.test.tsx:52:      const url = resolveRuntimeWsUrl('ws://localhost:3001', '/ws/telemetry');\napps/social/src/utils/api-base.test.tsx:53:      expect(url).toBe('wss://localhost:3001/ws/telemetry');\napps/social/src/ui/NostrEventCard.tsx:77:  30023: 'Article',\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_72","type":"reasoning","text":"**Confirming absence of hardcoded port**"}}
{"type":"item.started","item":{"id":"item_73","type":"command_execution","command":"/usr/bin/bash -lc \"rg -n \\\"3001|3002|localhost:\\\" packages/react/src -S --glob '\"'!**/*.test.ts*'\"'\"","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_73","type":"command_execution","command":"/usr/bin/bash -lc \"rg -n \\\"3001|3002|localhost:\\\" packages/react/src -S --glob '\"'!**/*.test.ts*'\"'\"","aggregated_output":"packages/react/src/reaction-button.stories.tsx:132:            <ReactionButton event={{ ...mockEvent, kind: 30023 }} />\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_74","type":"reasoning","text":"**Identifying stale port references**"}}
{"type":"item.completed","item":{"id":"item_75","type":"agent_message","text":"There are no hardcoded `3001/3002` endpoints in runtime source paths for Bitcoin status; the stale values are concentrated in audit/test scaffolding. Iâ€™m making a minimal fix in the telemetry reconnect test fixture so it no longer encodes stale ports that leak into UI/backend log audits."}}
{"type":"item.completed","item":{"id":"item_76","type":"reasoning","text":"**Planning legacy localhost port normalization**"}}
{"type":"item.completed","item":{"id":"item_77","type":"agent_message","text":"Iâ€™m applying a targeted runtime fix in social API-base resolution: legacy local absolute API URLs (`localhost:3001/3002`) will be normalized to proxy-relative `/api`, eliminating stale-port requests while keeping behavior scoped to the social app. Then Iâ€™ll run focused tests."}}
{"type":"item.completed","item":{"id":"item_78","type":"file_change","changes":[{"path":"/home/klabo/code/nostrstack/apps/social/src/utils/api-base.ts","kind":"update"}],"status":"completed"}}
{"type":"item.completed","item":{"id":"item_79","type":"reasoning","text":"**Updating tests for WebSocket URL changes**"}}
{"type":"item.completed","item":{"id":"item_55","type":"command_execution","command":"/usr/bin/bash -lc 'GALLERY_URL=http://localhost:4192 node apps/social/qa-ui-audit.mjs'","aggregated_output":"{\"issues\":[{\"title\":\"Browser console errors observed during UI interaction\",\"severity\":\"high\",\"area\":\"console\",\"steps_to_reproduce\":\"{\\\"interactions\\\":[\\\"clicked-feed-view-all\\\",\\\"clicked-feed-view-following\\\",\\\"clicked-feed-view-trending\\\",\\\"toggled-feed-sort\\\",\\\"toggled-spam-filter\\\",\\\"copied-post-link\\\",\\\"load-more-clicked\\\",\\\"clicked-find-friend-card\\\",\\\"create-offer\\\",\\\"request-offer-invoice\\\",\\\"copy-offer\\\"],\\\"url\\\":\\\"http://localhost:4192/offers\\\",\\\"timestamp\\\":\\\"2026-02-18T16:23:18.313Z\\\"}\",\"expected\":\"No console errors during standard navigation and actions.\",\"actual\":\"Failed to load resource: net::ERR_CONNECTION_REFUSED\\nWebSocket connection to 'ws://localhost:3020/ws/telemetry' failed: Error in connection establishment: net::ERR_CONNECTION_REFUSED\",\"labels\":[\"ui-audit\"],\"body\":\"Browser console errors observed during UI interaction:\\nFailed to load resource: net::ERR_CONNECTION_REFUSED\\nWebSocket connection to 'ws://localhost:3020/ws/telemetry' failed: Error in connection establishment: net::ERR_CONNECTION_REFUSED\"},{\"title\":\"Runtime page errors detected\",\"severity\":\"high\",\"area\":\"console\",\"steps_to_reproduce\":\"{\\\"interactions\\\":[\\\"clicked-feed-view-all\\\",\\\"clicked-feed-view-following\\\",\\\"clicked-feed-view-trending\\\",\\\"toggled-feed-sort\\\",\\\"toggled-spam-filter\\\",\\\"copied-post-link\\\",\\\"load-more-clicked\\\",\\\"clicked-find-friend-card\\\",\\\"create-offer\\\",\\\"request-offer-invoice\\\",\\\"copy-offer\\\"],\\\"url\\\":\\\"http://localhost:4192/offers\\\",\\\"timestamp\\\":\\\"2026-02-18T16:23:18.313Z\\\"}\",\"expected\":\"No uncaught page errors in normal flow.\",\"actual\":\"page.screenshot: Target crashed \\nCall log:\\n\\u001b[2m  - taking page screenshot\\u001b[22m\\n\\u001b[2m  - waiting for fonts to load...\\u001b[22m\\n\\u001b[2m  - fonts loaded\\u001b[22m\\n\",\"labels\":[\"ui-audit\"],\"body\":\"Runtime page errors detected:\\npage.screenshot: Target crashed \\nCall log:\\n\\u001b[2m  - taking page screenshot\\u001b[22m\\n\\u001b[2m  - waiting for fonts to load...\\u001b[22m\\n\\u001b[2m  - fonts loaded\\u001b[22m\\n\"}]}\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_80","type":"file_change","changes":[{"path":"/home/klabo/code/nostrstack/apps/social/src/utils/api-base.test.tsx","kind":"update"}],"status":"completed"}}
{"type":"item.completed","item":{"id":"item_81","type":"reasoning","text":"**Planning targeted tests**"}}
{"type":"item.completed","item":{"id":"item_82","type":"agent_message","text":"Iâ€™ve updated social runtime + unit tests to normalize legacy local API ports to `/api`. Iâ€™m running the focused social unit tests next to ensure behavior is correct and compilable."}}
{"type":"item.started","item":{"id":"item_83","type":"command_execution","command":"/usr/bin/bash -lc 'cat apps/social/package.json'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_83","type":"command_execution","command":"/usr/bin/bash -lc 'cat apps/social/package.json'","aggregated_output":"{\n  \"name\": \"social\",\n  \"description\": \"NostrStack social client\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"type\": \"module\",\n  \"scripts\": {\n    \"dev\": \"vite --host\",\n    \"build\": \"vite build\",\n    \"preview\": \"vite preview\",\n    \"lint\": \"eslint . --ext .ts,.tsx --max-warnings=0\",\n    \"test\": \"vitest run\",\n    \"typecheck\": \"tsc --noEmit\",\n    \"e2e\": \"playwright test\",\n    \"storybook\": \"storybook dev -p 6006\",\n    \"build-storybook\": \"storybook build\"\n  },\n  \"dependencies\": {\n    \"@nostrstack/react\": \"workspace:*\",\n    \"@nostrstack/tokens\": \"workspace:*\",\n    \"@nostrstack/ui\": \"workspace:*\",\n    \"@nostrstack/widgets\": \"workspace:*\",\n    \"@types/react-window\": \"^2.0.0\",\n    \"buffer\": \"^6.0.3\",\n    \"dompurify\": \"^3.3.1\",\n    \"linkify-it\": \"^5.0.0\",\n    \"markdown-it\": \"^14.1.1\",\n    \"nostr-tools\": \"2.18.2\",\n    \"qrcode\": \"^1.5.4\",\n    \"qrcode.react\": \"^4.2.0\",\n    \"react\": \"^19.0.0-rc.1\",\n    \"react-dom\": \"^19.0.0-rc.1\",\n    \"react-window\": \"^2.2.5\",\n    \"web-vitals\": \"^5.1.0\",\n    \"zod\": \"^4.3.6\"\n  },\n  \"devDependencies\": {\n    \"@axe-core/playwright\": \"^4.11.0\",\n    \"@playwright/test\": \"1.57.0\",\n    \"@storybook/addon-a11y\": \"^10.1.11\",\n    \"@storybook/addon-docs\": \"^10.1.11\",\n    \"@storybook/addon-onboarding\": \"^10.1.11\",\n    \"@storybook/addon-vitest\": \"^10.1.11\",\n    \"@storybook/react-vite\": \"^10.1.11\",\n    \"@testing-library/react\": \"16.1.0\",\n    \"@types/dompurify\": \"^3.2.0\",\n    \"@types/markdown-it\": \"^14.1.2\",\n    \"@types/node\": \"22.7.5\",\n    \"@types/qrcode\": \"^1.5.6\",\n    \"@types/react\": \"19.0.1\",\n    \"@types/react-dom\": \"19.0.1\",\n    \"@vitejs/plugin-basic-ssl\": \"1.2.0\",\n    \"@vitejs/plugin-react\": \"5.1.0\",\n    \"@vitest/browser\": \"2.1.9\",\n    \"@vitest/coverage-v8\": \"2.1.9\",\n    \"axe-core\": \"^4.11.0\",\n    \"eslint\": \"8.57.0\",\n    \"eslint-plugin-storybook\": \"^10.1.11\",\n    \"jsdom\": \"24.1.0\",\n    \"playwright\": \"^1.57.0\",\n    \"storybook\": \"^10.1.11\",\n    \"typescript\": \"5.6.2\",\n    \"vite\": \"5.4.21\",\n    \"vitest\": \"2.1.9\"\n  }\n}\n","exit_code":0,"status":"completed"}}
{"type":"item.started","item":{"id":"item_84","type":"command_execution","command":"/usr/bin/bash -lc 'pnpm --filter social test -- src/utils/api-base.test.tsx'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_84","type":"command_execution","command":"/usr/bin/bash -lc 'pnpm --filter social test -- src/utils/api-base.test.tsx'","aggregated_output":"\n> social@0.0.0 test /home/klabo/code/nostrstack/apps/social\n> vitest run -- src/utils/api-base.test.tsx\n\n\n RUN  v2.1.9 /home/klabo/code/nostrstack/apps/social\n\n âœ“ src/ui/clipboard.test.tsx (2 tests) 12ms\n âœ“ src/utils/navigation.test.tsx (3 tests) 48ms\n âœ“ src/hooks/useKeyboardShortcuts.test.tsx (1 test) 36ms\n âœ“ src/ui/LinkPreview.test.tsx (2 tests) 157ms\n âœ“ src/nostr/eventRenderers.test.tsx (4 tests) 234ms\n âœ“ src/ui/ConnectionStatus.test.tsx (25 tests) 312ms\n âœ“ src/utils/api-base.test.tsx (7 tests) 27ms\n âœ“ src/utils/identity.test.tsx (11 tests) 98ms\n âœ“ src/layout/Sidebar.test.tsx (1 test) 159ms\n âœ“ src/layout/TelemetryBar.test.tsx (7 tests) 257ms\nstderr | src/App.test.tsx > App > renders a recovery UI when event detail module fails to load\nError: Critical module load failed\n    at EventDetailScreen (/home/klabo/code/nostrstack/apps/social/src/App.test.tsx:4:11)\n    at Object.react_stack_bottom_frame (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n    at renderWithHooks (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n    at updateFunctionComponent (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n    at beginWork (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:11727:35)\n    at runWithFiberInDEV (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n    at performUnitOfWork (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n    at workLoopSync (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n    at renderRootSync (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n    at performWorkOnRoot (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35) {\n  [stack]: [Getter/Setter],\n  [message]: 'Critical module load failed'\n}\n\nThe above error occurred in the <EventDetailScreen> component.\n\nReact will try to recreate this component tree from scratch using the error boundary you provided, ErrorBoundary.\n\nErrorBoundary caught an error: Error: Critical module load failed\n    at EventDetailScreen (/home/klabo/code/nostrstack/apps/social/src/App.test.tsx:4:11)\n    at Object.react_stack_bottom_frame (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:25904:20)\n    at renderWithHooks (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:7662:22)\n    at updateFunctionComponent (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:10166:19)\n    at beginWork (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:11727:35)\n    at runWithFiberInDEV (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:874:13)\n    at performUnitOfWork (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:17641:22)\n    at workLoopSync (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)\n    at renderRootSync (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)\n    at performWorkOnRoot (/home/klabo/code/nostrstack/node_modules/.pnpm/react-dom@19.2.3_react@19.2.3/node_modules/react-dom/cjs/react-dom-client.development.js:16583:35) {\n  componentStack: '\\n' +\n    '    at EventDetailScreen (/home/klabo/code/nostrstack/apps/social/src/App.test.tsx:4:11)\\n' +\n    '    at Suspense (<anonymous>)\\n' +\n    '    at ErrorBoundary (/home/klabo/code/nostrstack/apps/social/src/shared/ErrorBoundary.tsx:8:5)\\n' +\n    '    at AppShell (/home/klabo/code/nostrstack/apps/social/src/App.tsx:399:21)\\n' +\n    '    at StatsProvider (/home/klabo/code/nostrstack/packages/react/dist/index.js:4144:26)\\n' +\n    '    at RelayProvider (/home/klabo/code/nostrstack/apps/social/src/context/RelayProvider.tsx:32:26)\\n' +\n    '    at AuthProvider (/home/klabo/code/nostrstack/packages/react/dist/index.js:125:3)\\n' +\n    '    at div (<anonymous>)\\n' +\n    '    at NostrstackProvider (/home/klabo/code/nostrstack/packages/react/dist/index.js:339:3)\\n' +\n    '    at App (/home/klabo/code/nostrstack/apps/social/src/App.tsx:1227:83)\\n' +\n    '    at ToastProvider (/home/klabo/code/nostrstack/packages/ui/dist/index.js:147:26)'\n}\n\n âœ“ src/App.test.tsx (2 tests) 728ms\n   âœ“ App > renders login screen by default 399ms\n   âœ“ App > renders a recovery UI when event detail module fails to load 328ms\n âœ“ src/nostr/api.test.tsx (14 tests) 10027ms\n   âœ“ searchNotes > throws when every relay times out 10001ms\n\n Test Files  12 passed (12)\n      Tests  79 passed (79)\n   Start at  08:23:27\n   Duration  12.30s (transform 2.80s, setup 282ms, collect 9.26s, tests 12.09s, environment 8.85s, prepare 1.23s)\n\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_85","type":"reasoning","text":"**Planning API base URL verification**"}}
{"type":"item.started","item":{"id":"item_86","type":"command_execution","command":"/usr/bin/bash -lc 'git status --short'","aggregated_output":"","exit_code":null,"status":"in_progress"}}
{"type":"item.completed","item":{"id":"item_86","type":"command_execution","command":"/usr/bin/bash -lc 'git status --short'","aggregated_output":" M apps/api/src/routes/wallet-ws.test.ts\n M apps/api/src/routes/wallet-ws.ts\n M apps/social/src/utils/api-base.test.tsx\n M apps/social/src/utils/api-base.ts\n?? .github_worker_locks/issue-000423.lock\n","exit_code":0,"status":"completed"}}
{"type":"item.completed","item":{"id":"item_87","type":"reasoning","text":"**Pausing work due to unexpected changes**"}}
{"type":"item.completed","item":{"id":"item_88","type":"agent_message","text":"I found unrelated local changes in `apps/api/src/routes/wallet-ws.ts` and `apps/api/src/routes/wallet-ws.test.ts` that I did not make. Iâ€™ll stop here per workspace safety rules and wait for your direction on whether to proceed while leaving those untouched or to coordinate around them."}}
{"type":"item.completed","item":{"id":"item_89","type":"agent_message","text":"Unexpected pre-existing/parallel edits are present in this worktree:\n\n- `apps/api/src/routes/wallet-ws.ts`\n- `apps/api/src/routes/wallet-ws.test.ts`\n- plus an unrelated lock file `.github_worker_locks/issue-000423.lock`\n\nPer the repo safety rules, I need your direction before proceeding further.\n\nIf you want, I can continue and commit only the `#188` fix files I changed:\n- `apps/social/src/utils/api-base.ts`\n- `apps/social/src/utils/api-base.test.tsx`"}}
{"type":"item.completed","item":{"id":"item_32","type":"command_execution","command":"/usr/bin/bash -lc 'NOSTRDEV_AGENT=github_worker_188 pnpm dev:logs'","aggregated_output":"","exit_code":null,"status":"completed"}}
{"type":"turn.completed","usage":{"input_tokens":2174050,"cached_input_tokens":2079872,"output_tokens":10176}}


agent output (stderr):
2026-02-18T16:16:19.645334Z ERROR codex_core::skills::loader: failed to stat skills entry /home/klabo/OneDrive/skills/bird-x-multiaccount/scripts/bird.sh (symlink): No such file or directory (os error 2)
2026-02-18T16:16:19.645349Z ERROR codex_core::skills::loader: failed to stat skills entry /home/klabo/OneDrive/skills/bird-x-multiaccount/scripts/bird-set-cookies.sh (symlink): No such file or directory (os error 2)
Reading prompt from stdin...
2026-02-18T16:16:19.671377Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c64db-6205-7561-b198-ade2112f7707
2026-02-18T16:16:19.693127Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c64dc-97fe-7752-b79c-c1a43072fd05
2026-02-18T16:16:19.714032Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c64df-f93a-7633-9a79-eb57e1e4eaac
2026-02-18T16:16:19.735158Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c654c-e35c-7631-9b43-3b9df9be758f
2026-02-18T16:16:19.756197Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c655a-b81d-7fe3-b0af-933b9af5b3b3
2026-02-18T16:16:19.777496Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6654-9d83-7c42-b831-ba9fc64c0b53
2026-02-18T16:16:19.798713Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6730-e296-7170-8f3b-29b597136aac
2026-02-18T16:16:19.819920Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6731-287b-7e63-a5cb-5461774c0e92
2026-02-18T16:16:19.841116Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6731-287a-7c02-83e6-57706327ea2f
2026-02-18T16:16:19.862037Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6734-4438-7e82-9f5d-3e7cd0c8fed1
2026-02-18T16:16:19.882922Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6734-4451-76a1-b41e-04c26495d60b
2026-02-18T16:16:19.904124Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6734-4454-7792-95c1-c3ff56e1556a
2026-02-18T16:16:19.925433Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6735-d48c-78a1-8457-651848a82ef8
2026-02-18T16:16:19.946700Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6737-18fa-7580-ad1d-52c7c96eca2e
2026-02-18T16:16:19.968129Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6737-18f9-78e0-a820-b6a43e356e63
2026-02-18T16:16:19.989855Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67a1-9453-7f21-8054-41d8f3102f6c
2026-02-18T16:16:20.011096Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67a5-e539-7f10-b07a-a9f20d357dca
2026-02-18T16:16:20.032267Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67a6-b973-7ff0-8a2f-202c8a57b13c
2026-02-18T16:16:20.053722Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67a7-fe14-73c2-854f-92627fd1f5ad
2026-02-18T16:16:20.075116Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67a9-0d68-7970-a787-a18a0468da5c
2026-02-18T16:16:20.096390Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67ab-8578-7af1-829e-3c63303f6ade
2026-02-18T16:16:20.117737Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67ab-9cea-78d3-9c0f-f7d8e8ee0243
2026-02-18T16:16:20.138936Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67ac-000b-7361-8d97-0bb6496260c0
2026-02-18T16:16:20.160060Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67ac-fb03-7fa2-9aad-247aabc03d49
2026-02-18T16:16:20.191563Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67ad-31b9-71d2-bcee-43941e0c6a49
2026-02-18T16:16:20.235937Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67ad-851b-7213-8484-01d74ccb73b6
2026-02-18T16:16:20.281186Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67ae-704a-7843-9b43-f7e5ccf59815
2026-02-18T16:16:20.329651Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67ae-b9a3-77f2-8b83-9528404a174d
2026-02-18T16:16:20.351135Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67af-05d8-7400-af4a-718ae7783cff
2026-02-18T16:16:20.372452Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67af-e042-7232-b87b-6361c05c19e4
2026-02-18T16:16:20.393840Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67af-e6f5-79f0-bf6a-e6f6a5b259fb
2026-02-18T16:16:20.415238Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67b0-3c94-7380-b3dc-520fd3ec581d
2026-02-18T16:16:20.436156Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67b0-5b51-7d83-bd2b-f1f4b4cb11bd
2026-02-18T16:16:20.457799Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67b0-a45f-7671-8573-20a189c6b706
2026-02-18T16:16:20.479092Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67b1-75ef-7700-9a38-489548ba725d
2026-02-18T16:16:20.500403Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67b1-b0a3-71e1-8c1d-4658d9617547
2026-02-18T16:16:20.521708Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67b2-1d90-7ec2-be4e-7f0f76e90085
2026-02-18T16:16:20.543011Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c67b3-0240-7430-96fe-c851fdd13f7a
2026-02-18T16:16:20.564299Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c682c-ce87-7423-a78b-841ed2ccc376
2026-02-18T16:16:20.585819Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c682e-d95a-7171-8610-e7c209bc2065
2026-02-18T16:16:20.607392Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6831-06ac-71b1-a619-0685fd8baede
2026-02-18T16:16:20.628637Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6831-612d-7ae1-b218-8aa7f6ce0d4a
2026-02-18T16:16:20.649481Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-2360-7991-acdd-f791185cddc5
2026-02-18T16:16:20.670637Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-32d3-7910-8023-4373ab8015de
2026-02-18T16:16:20.691825Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-4189-7fd2-8f6a-3a8dc78c5fc4
2026-02-18T16:16:20.712967Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-5037-7f13-8e7a-480ee2c29c81
2026-02-18T16:16:20.734412Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-5eac-7662-ac22-61519fd34fab
2026-02-18T16:16:20.755715Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-6f56-7831-b7aa-67acaae536b3
2026-02-18T16:16:20.777009Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-8047-7213-bb4f-97cfba672e5f
2026-02-18T16:16:20.798303Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-90e7-70c2-bda3-0df624c16110
2026-02-18T16:16:20.819653Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-aa8d-7d13-8491-811a51c9dc2c
2026-02-18T16:16:20.840897Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-bd7c-7c73-b459-cd6d4f688748
2026-02-18T16:16:20.872588Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-bfe4-70e3-9753-fa585464362d
2026-02-18T16:16:20.918549Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-cc4a-7db0-8a42-bae54c6c5b3c
2026-02-18T16:16:20.965257Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-cebc-7972-b522-19ed6c880197
2026-02-18T16:16:21.003587Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-db58-77c3-9ba6-cf9d16d99492
2026-02-18T16:16:21.024803Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-dd14-7741-99bb-e182abc0d046
2026-02-18T16:16:21.046356Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-ea78-7182-81ba-b3df2f315844
2026-02-18T16:16:21.067644Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-ebe6-7f50-880c-ad81c73eed36
2026-02-18T16:16:21.088866Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-f9a9-77a1-a9f0-48a76312bb38
2026-02-18T16:16:21.110344Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6832-fb1c-7623-91f2-20e0c0bd8e10
2026-02-18T16:16:21.131605Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-08cc-7a23-961e-67a29e7b0529
2026-02-18T16:16:21.152948Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-0a53-7f80-b397-b3e9ec4505f0
2026-02-18T16:16:21.173899Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-18c6-71e3-91a0-2f10c29c5c78
2026-02-18T16:16:21.195166Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-195e-7f31-b6f8-395107477761
2026-02-18T16:16:21.216413Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-274d-7322-ab94-4c7221550ca0
2026-02-18T16:16:21.237612Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-27d6-7ae0-bc08-fa13867accc7
2026-02-18T16:16:21.258858Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-35a6-7a13-812f-8be0f6df52df
2026-02-18T16:16:21.280061Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-36c4-7da3-877f-9c294146558b
2026-02-18T16:16:21.301531Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-4464-7cb1-92a7-0a32f55ae139
2026-02-18T16:16:21.322899Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-45c9-74b2-83eb-95071daf41d5
2026-02-18T16:16:21.343929Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-5308-7cd1-9b47-adaa0d8b8d2c
2026-02-18T16:16:21.365159Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-54bf-7593-a6ad-da24926f8147
2026-02-18T16:16:21.386287Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-6166-76b1-87c7-fea10ea0df75
2026-02-18T16:16:21.407450Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-635d-74d2-933b-96cb7697de99
2026-02-18T16:16:21.428538Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-7023-7653-84ea-731803388802
2026-02-18T16:16:21.449763Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-7261-7423-85d0-c6aaaf13eb71
2026-02-18T16:16:21.470984Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-7e8e-7b20-9ec3-7220b2f8b941
2026-02-18T16:16:21.492138Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-813b-73d3-b1df-ac4e0a49684b
2026-02-18T16:16:21.513305Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-8e2a-73c3-881b-13cda27ba936
2026-02-18T16:16:21.534502Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-9091-7eb2-b2f8-495223a71c30
2026-02-18T16:16:21.555657Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-9d34-74d0-83e3-6bb031877840
2026-02-18T16:16:21.577023Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-9f63-7373-8b02-fb4c6cb7b39e
2026-02-18T16:16:21.598071Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-abb5-7b62-b0e3-d1502aae6a4d
2026-02-18T16:16:21.619369Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-adec-7bf2-a889-810c5285df12
2026-02-18T16:16:21.640691Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-bac4-7451-b471-15543e1ddd64
2026-02-18T16:16:21.662113Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-bcdf-7db0-83a9-af2005b687a5
2026-02-18T16:16:21.683516Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-c95a-7583-bbc8-668fad610192
2026-02-18T16:16:21.704747Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-cb64-77e1-97a6-8543a269f779
2026-02-18T16:16:21.726059Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-d944-72f2-842a-b50c26bb9336
2026-02-18T16:16:21.747297Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-dbc9-7403-8652-f7a7047e4fca
2026-02-18T16:16:21.768546Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-e8db-75e0-af2e-15b42cb8203f
2026-02-18T16:16:21.789801Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-ed3a-72f2-bde7-605d6f1de50e
2026-02-18T16:16:21.811059Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-f8c7-7420-83b8-31b6cb286ccb
2026-02-18T16:16:21.842547Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6833-fd04-7f33-805e-7c2d1d7a3f25
2026-02-18T16:16:21.866964Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-07ce-7c10-9d75-3e278efc28fc
2026-02-18T16:16:21.893056Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-0d2f-7c12-8e7c-f7e54750fbf3
2026-02-18T16:16:21.930811Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-192c-7582-a192-efde8bba0a38
2026-02-18T16:16:21.976613Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-1f5d-7230-ab7e-8ab23c25a0e2
2026-02-18T16:16:21.997854Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-2b92-7830-bd8b-1fb9d1cdbde2
2026-02-18T16:16:22.018856Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-308a-7f02-aa28-db863b51b57f
2026-02-18T16:16:22.039987Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-3b6c-7a40-b56a-07dcdc0b406d
2026-02-18T16:16:22.061354Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-401d-7531-adba-45b334b969e0
2026-02-18T16:16:22.082269Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-4f43-77d3-a18a-6d72502340ee
2026-02-18T16:16:22.103730Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-5640-7bf2-afb7-bcf2a251086b
2026-02-18T16:16:22.124917Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-6545-7f10-8288-464d5942b786
2026-02-18T16:16:22.146409Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-69f2-7dc3-b555-68355e0faa5d
2026-02-18T16:16:22.167663Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-7a8d-7533-afc1-660c6d9faee5
2026-02-18T16:16:22.188498Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-8240-7100-9c7d-1a83dfbd380b
2026-02-18T16:16:22.209670Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-9209-7240-9047-a047c9196435
2026-02-18T16:16:22.230968Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-9525-7301-b256-7c8eb75e627b
2026-02-18T16:16:22.252239Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-a2f4-7110-8da6-969e3ac56465
2026-02-18T16:16:22.273457Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-a595-7dd0-a8cb-600783e19235
2026-02-18T16:16:22.294758Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-b23f-7531-a75a-aff30ecd186a
2026-02-18T16:16:22.316047Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-b4a2-78a1-bd1c-b2e515f3c1bf
2026-02-18T16:16:22.337236Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-c188-79f3-9f9c-78727eb8a5d8
2026-02-18T16:16:22.358038Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-c2db-76f3-9f26-031bdf8a2d3b
2026-02-18T16:16:22.379253Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-d3f4-7fc3-8b9e-049260d52239
2026-02-18T16:16:22.400112Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-d515-73d1-b1e4-2f0389bb70fd
2026-02-18T16:16:22.421410Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-e581-7ff0-80f5-965daede27bc
2026-02-18T16:16:22.442622Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-e65f-7db3-b8ab-2fcdc43bc748
2026-02-18T16:16:22.463784Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-f441-7802-ad9a-6a911e0244ee
2026-02-18T16:16:22.484866Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6834-f54b-7ef3-9f7b-0261a6944e94
2026-02-18T16:16:22.506033Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-0372-72e0-b727-d7611e0ebbcf
2026-02-18T16:16:22.527230Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-03de-79b1-a9da-f48d28afb30e
2026-02-18T16:16:22.548427Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-1266-7923-ae7e-79c484204f27
2026-02-18T16:16:22.569600Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-1312-7ab1-b7a6-e3ac2f434760
2026-02-18T16:16:22.590708Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-212b-70b2-b23f-dc55d15f5998
2026-02-18T16:16:22.611971Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-223f-7a80-8bed-79fe4059119e
2026-02-18T16:16:22.633125Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-304a-7bd1-8beb-071b3b024ce8
2026-02-18T16:16:22.654235Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-3153-77b3-988c-78265507cc9d
2026-02-18T16:16:22.675363Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-402c-7bc3-84ea-f4a5d3a5eb64
2026-02-18T16:16:22.696406Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-4102-7b00-abe2-471d8c24b65a
2026-02-18T16:16:22.717894Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-4f1e-7481-be97-721ed7534d1a
2026-02-18T16:16:22.739138Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-4fcc-74c3-9d48-35f9c311feb8
2026-02-18T16:16:22.760331Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-5f69-7d41-9887-f77ae3b31ebe
2026-02-18T16:16:22.782431Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-5fdd-72f1-84f5-f1647ef401a9
2026-02-18T16:16:22.828544Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-6e7f-7da0-b45b-4d10d5e6b839
2026-02-18T16:16:22.873659Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-6f3a-7ad1-88c2-e09e9670d739
2026-02-18T16:16:22.910650Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-7d2b-7f92-8172-1fb8840f7018
2026-02-18T16:16:22.935673Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-7e0b-75a1-b71e-2175800e5ec7
2026-02-18T16:16:22.956858Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-8bba-7703-86b0-b4d18f7820d0
2026-02-18T16:16:22.978208Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-8cab-76d0-8266-d0f221976cc8
2026-02-18T16:16:22.999698Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-9bb5-7033-966d-e973aab7a242
2026-02-18T16:16:23.021391Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-9c76-74d2-b90b-2c25663d8199
2026-02-18T16:16:23.042675Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-aa8e-73b3-b5f0-76c3265fb2a2
2026-02-18T16:16:23.063850Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-ab6e-7cf0-8947-aaf0cfafee42
2026-02-18T16:16:23.085196Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-b9f4-7c81-976c-97223818760e
2026-02-18T16:16:23.106582Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-bab6-7800-bb2a-2b4b496071db
2026-02-18T16:16:23.127827Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-bf3e-7cb3-b184-c7612972a663
2026-02-18T16:16:23.149077Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-cb1e-7d80-a3f0-9c88b29d43a1
2026-02-18T16:16:23.170380Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-cdf0-7f60-93bc-0dfbe0209557
2026-02-18T16:16:23.191721Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-cf3d-7972-97a8-08a07b61ffce
2026-02-18T16:16:23.213029Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-db8d-7c91-8a56-39c6c3115273
2026-02-18T16:16:23.234166Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-de70-7d42-86c6-f70aad7eed09
2026-02-18T16:16:23.255315Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-df47-78b0-b417-ab2586db0b78
2026-02-18T16:16:23.276519Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-ec22-7023-a7f4-6b60522f0f5d
2026-02-18T16:16:23.297721Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-ef54-7542-9112-f65b90751f9c
2026-02-18T16:16:23.318825Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-f030-7be3-aae0-22fa4ee1af6e
2026-02-18T16:16:23.340112Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6835-fd31-7b32-8fcc-5a0beec560a0
2026-02-18T16:16:23.361426Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-0003-78e2-a1e9-0fbccc1487bf
2026-02-18T16:16:23.382378Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-00cf-7e73-b4a6-9cd826cd4916
2026-02-18T16:16:23.403755Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-0f35-7ad2-afff-c143e9430366
2026-02-18T16:16:23.424705Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-1262-7243-a0dc-9b5397ea0167
2026-02-18T16:16:23.446016Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-1368-7942-8bd4-8d7ee2f9866d
2026-02-18T16:16:23.467350Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-21b4-7c90-9595-8cb71a9ec48d
2026-02-18T16:16:23.515338Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-2482-7ca1-b8b6-144737f14b76
2026-02-18T16:16:23.562016Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-259e-7301-9f32-450b9d4e420a
2026-02-18T16:16:23.608543Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-33ac-7032-9f26-a5d599322f9c
2026-02-18T16:16:23.632460Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-35d3-7583-9668-9f2ca5ce9a6a
2026-02-18T16:16:23.653445Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-3687-7583-8940-37da38a7ee23
2026-02-18T16:16:23.674710Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-462b-7f52-95e5-86952e5a5303
2026-02-18T16:16:23.696204Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-483e-7821-a202-03fee1d104cf
2026-02-18T16:16:23.717505Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-4971-7093-b50f-13a269993abf
2026-02-18T16:16:23.739117Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-5923-7e12-83f0-ec5a44f4be7d
2026-02-18T16:16:23.760448Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-5abc-7a12-a549-8bd7dbe2b955
2026-02-18T16:16:23.781679Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-5f14-7fc3-825a-f74c62f390cc
2026-02-18T16:16:23.803048Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-6ad7-7dc2-990c-2c360729d956
2026-02-18T16:16:23.824312Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-6b29-7e50-9122-ddc28a3d62f0
2026-02-18T16:16:23.845619Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-7019-7271-a60b-4e8d3e9a32cf
2026-02-18T16:16:23.866871Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-7e67-70a0-b0c6-e756379bd600
2026-02-18T16:16:23.888068Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-7eb0-79f1-aa0f-1204d0971a9c
2026-02-18T16:16:23.909240Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-8263-76a2-a016-ac52881450a1
2026-02-18T16:16:23.930484Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-9017-7e52-8a9a-7f717fd38eb9
2026-02-18T16:16:23.951706Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-9042-7c00-91e4-a7d071038f30
2026-02-18T16:16:23.973027Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-9404-7ac1-8d63-7bb24977cf4a
2026-02-18T16:16:23.994393Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-a1a1-73b0-b479-523a7f570c5d
2026-02-18T16:16:24.015648Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-a316-7fc1-b546-3e1aa54c2982
2026-02-18T16:16:24.036846Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-a56b-7c73-a7f1-93cdd8c404da
2026-02-18T16:16:24.058136Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-b31e-7fd0-939f-af9c909bdbb6
2026-02-18T16:16:24.102897Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-b473-7492-9871-b6655109befb
2026-02-18T16:16:24.152851Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-b7a7-7490-91ba-d501c36057c0
2026-02-18T16:16:24.197580Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-c54c-7f22-8868-195f44dfa4a6
2026-02-18T16:16:24.223733Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-c5ba-73c0-ac24-4d58da36ceae
2026-02-18T16:16:24.245270Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-c99b-7640-a7be-cdebedde7a32
2026-02-18T16:16:24.266559Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-d94f-7600-be69-87c4fa33e9a2
2026-02-18T16:16:24.287702Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-dc2e-71a3-85db-7f931eeef93e
2026-02-18T16:16:24.308879Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-e4f0-7931-909d-195565027044
2026-02-18T16:16:24.330128Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-e8ff-7431-bbd5-f3769fc0fb62
2026-02-18T16:16:24.351382Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-ec3f-7661-9728-7e276b58c238
2026-02-18T16:16:24.372583Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-f586-7d43-9ea9-b399c79c9195
2026-02-18T16:16:24.393382Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-f95d-7be3-9180-a3d52e9f36c0
2026-02-18T16:16:24.414234Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6836-fc7d-7ee3-9b68-71ef4c9655b0
2026-02-18T16:16:24.435467Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-0728-7a40-be18-1dcf11ef8025
2026-02-18T16:16:24.456592Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-0ae4-7122-a983-d7c7d3bd4dcb
2026-02-18T16:16:24.477826Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-0ed4-78d3-9ff9-40291a23d977
2026-02-18T16:16:24.499040Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-1978-7c63-a0d7-c2751145a80e
2026-02-18T16:16:24.520228Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-1d08-7710-b6b6-2bb9d0afbb2a
2026-02-18T16:16:24.541410Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-2127-7773-a3b2-a880842b9a04
2026-02-18T16:16:24.562329Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-2bde-7e23-9a28-00db4fe035e4
2026-02-18T16:16:24.583574Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-2f55-7401-bff8-642bc019258f
2026-02-18T16:16:24.604754Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-33d8-7902-b3d4-93e4d55530ed
2026-02-18T16:16:24.626033Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-3f23-78a3-badc-9772f2e55725
2026-02-18T16:16:24.646875Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-431e-78d0-846e-063f1f481815
2026-02-18T16:16:24.668057Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-471b-7962-b593-fdf27468a8a2
2026-02-18T16:16:24.688888Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-5148-77d3-a0ec-f547c872f319
2026-02-18T16:16:24.710173Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-5360-7201-823a-b134e49fce80
2026-02-18T16:16:24.731434Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-55c6-78f0-aa01-e7bf6e3c55c7
2026-02-18T16:16:24.752258Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-5ac5-7f62-8759-3c374fac3fbb
2026-02-18T16:16:24.773446Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-67a4-7450-9751-548c6a4b5f30
2026-02-18T16:16:24.796780Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-6c3c-77f0-9ab2-60a4111f7169
2026-02-18T16:16:24.845305Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-6fb2-7063-8d93-07b93a3ba3db
2026-02-18T16:16:24.893786Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-7a3e-7323-99d5-fc28acc7ac68
2026-02-18T16:16:24.938843Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-7da7-7d71-9a95-265b4444d0d4
2026-02-18T16:16:24.960081Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-81ee-7832-ae67-a90059abf18f
2026-02-18T16:16:24.981244Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-8c27-7bb1-ade2-d4a19e561470
2026-02-18T16:16:25.002744Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-8fe2-7fa2-9bf0-6030a0f3d791
2026-02-18T16:16:25.023991Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-9603-7323-8ece-af33d913aaa2
2026-02-18T16:16:25.045353Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-9de4-7f30-b6b3-7b97e1678bba
2026-02-18T16:16:25.066705Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-a15c-78a3-a3bb-57b335707488
2026-02-18T16:16:25.088062Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-a89f-7d41-802b-a2f9669bf7ae
2026-02-18T16:16:25.109371Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-b08f-7f83-adf4-04e9d29f5c0c
2026-02-18T16:16:25.130656Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-b413-70d1-8e7c-0c9518116cfd
2026-02-18T16:16:25.151518Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-bae9-7872-9a98-85a17c79b36f
2026-02-18T16:16:25.172698Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-c341-7fe0-ac5b-d043bdb6b90b
2026-02-18T16:16:25.193978Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-c6c9-7750-aa9f-7a255dcec7f3
2026-02-18T16:16:25.215240Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-cd68-7983-8f1d-ef794b6a784d
2026-02-18T16:16:25.236522Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-d644-7630-90fb-692086e39a45
2026-02-18T16:16:25.257767Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-e09a-7802-a694-0cb5d136c614
2026-02-18T16:16:25.278975Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-e675-75a2-819e-f4962dbbe2a0
2026-02-18T16:16:25.299963Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-f00c-7b83-a2da-c8551840e1c3
2026-02-18T16:16:25.321141Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-f643-7ee1-ab81-2ee0dcc1695c
2026-02-18T16:16:25.342240Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6837-ffe5-7b43-ab82-37d7d4f42695
2026-02-18T16:16:25.363458Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-0661-7df2-8f44-856a88f8d114
2026-02-18T16:16:25.384409Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-1073-7022-baa4-1d332df3dfc4
2026-02-18T16:16:25.405845Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-1635-7d03-bfba-a64dfb9af756
2026-02-18T16:16:25.427155Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-1fa4-7fb1-8c1e-d81fe9cefcca
2026-02-18T16:16:25.465075Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-24bc-70e3-85bc-2104a51d6c7c
2026-02-18T16:16:25.509648Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-2ec0-7820-91f1-129281396d3f
2026-02-18T16:16:25.536135Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-3387-7fe2-ad64-cf95a3ffe26e
2026-02-18T16:16:25.581058Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-3d47-7bd0-b304-ea94e8e0c01a
2026-02-18T16:16:25.602619Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-4259-7101-a2f6-bc498307d119
2026-02-18T16:16:25.623937Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-4c3b-7f23-a007-c0757552cb1a
2026-02-18T16:16:25.644856Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-5139-7122-bdc9-6c47cf721fe0
2026-02-18T16:16:25.666341Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-5d9c-74d0-844c-159ce5f68ef2
2026-02-18T16:16:25.687578Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-605e-7761-8545-1e8b4bd7bdc3
2026-02-18T16:16:25.708930Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-6d3e-77b0-b3d1-3a5e347ba9bf
2026-02-18T16:16:25.730318Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-7a87-7dc0-99a0-3b802ba2f119
2026-02-18T16:16:25.751576Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-8865-7342-982f-af489833acc4
2026-02-18T16:16:25.772759Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-9658-7432-983d-0c38ad0e61d4
2026-02-18T16:16:25.794185Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-a45f-7063-b81a-75ce5347c622
2026-02-18T16:16:25.815355Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-b1cf-76d1-8f94-04e178a813f7
2026-02-18T16:16:25.836480Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-bf95-7503-98cd-5aba6ddfc6bd
2026-02-18T16:16:25.857611Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-ccd6-72d2-bc4d-93da974f1348
2026-02-18T16:16:25.878872Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-da8e-7ae0-8cbb-36c37fee8675
2026-02-18T16:16:25.900223Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-e8b7-7913-ad44-2ee33d0b9121
2026-02-18T16:16:25.921494Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6838-f634-7392-93a1-71d15e77d42a
2026-02-18T16:16:25.942700Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-0403-73e1-91b3-258ef4894d1a
2026-02-18T16:16:25.964028Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-11ae-7c12-a883-d6e6863d26fd
2026-02-18T16:16:25.984873Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-1f52-70c3-abdd-ca5091a330fb
2026-02-18T16:16:26.006327Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-2d27-72e3-9c69-70c1fca527d9
2026-02-18T16:16:26.027578Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-3b70-7cf3-8f44-8bd0534f5de8
2026-02-18T16:16:26.048789Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-495e-7e73-bb0d-a442a9e66d50
2026-02-18T16:16:26.070114Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-571c-7ee0-b9e0-b22042fd51db
2026-02-18T16:16:26.091399Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-64b6-79d0-a32a-57dec2cf8001
2026-02-18T16:16:26.112645Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-7297-7882-addb-46fc5c5733b0
2026-02-18T16:16:26.133793Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-8058-7df0-ad17-26c4422dd3f0
2026-02-18T16:16:26.154872Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-8e50-7453-8f78-dec093789a10
2026-02-18T16:16:26.176197Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-9dac-7f43-b3a5-547cc7b7cf70
2026-02-18T16:16:26.197402Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-acba-7fd1-a23f-6527d654ef66
2026-02-18T16:16:26.218672Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-bbae-7151-a15d-c708224f9456
2026-02-18T16:16:26.240095Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-c9e3-7680-bba5-9bb88234cf35
2026-02-18T16:16:26.261288Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-d902-7973-a6dc-708ad2c7e292
2026-02-18T16:16:26.282372Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-e7bc-7f51-b887-31782e849217
2026-02-18T16:16:26.303526Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6839-f87a-7801-8e56-805e314b2230
2026-02-18T16:16:26.324888Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-0785-7cb3-a570-4fd0fba73aba
2026-02-18T16:16:26.346221Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-1663-7233-9408-8f8c3f26fd3f
2026-02-18T16:16:26.367416Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-24db-77f2-8ad8-886a22568b3a
2026-02-18T16:16:26.388553Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-34e7-76f0-be34-acda585cb74c
2026-02-18T16:16:26.409676Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-4452-72a1-88cf-b3866dd3e69a
2026-02-18T16:16:26.430724Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-556e-7ae0-80f5-aa7efb3696f6
2026-02-18T16:16:26.451804Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-7627-7a63-9213-b8082f626bd9
2026-02-18T16:16:26.473103Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-83db-79e0-8898-417defb2982e
2026-02-18T16:16:26.494368Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-91b4-7ed1-b45a-f12e16a124ee
2026-02-18T16:16:26.515477Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-9f57-70c0-b373-85f6d562726e
2026-02-18T16:16:26.536663Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-a875-7bd1-963f-2f2547408b80
2026-02-18T16:16:26.557438Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-ad68-7331-ab45-4c83567a197f
2026-02-18T16:16:26.578749Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-bbfc-7de2-9afd-338485eaa873
2026-02-18T16:16:26.600155Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-ca3a-7a61-888e-3d1b2185b5b8
2026-02-18T16:16:26.621013Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-d744-7cc0-ba8e-fae305438d67
2026-02-18T16:16:26.642139Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-e4cf-70d1-9120-4c75a568440f
2026-02-18T16:16:26.663228Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-f294-77a0-93c2-4a2c065a0ad3
2026-02-18T16:16:26.684104Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683a-ffb6-79e1-b3eb-472aea35a13d
2026-02-18T16:16:26.705390Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-0e22-7350-b10b-8dbbfce62f4f
2026-02-18T16:16:26.726558Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-1ba3-76a0-bc00-a4e15eb6894a
2026-02-18T16:16:26.747806Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-29de-73a1-bfc0-279ecab86449
2026-02-18T16:16:26.769127Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-3849-7672-9b03-a231a5fceb35
2026-02-18T16:16:26.790248Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-45e2-7fd3-ba08-232cdb3bf2f6
2026-02-18T16:16:26.811315Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-543b-7502-b005-1d0875d2fe6e
2026-02-18T16:16:26.832481Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-67b2-7282-8990-f349603a2eee
2026-02-18T16:16:26.853585Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-82a6-7423-89f0-d542719514e0
2026-02-18T16:16:26.874789Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-9edf-7a22-99f5-aefd7fb71b37
2026-02-18T16:16:26.895681Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-bccb-7782-8cbb-a581be13487c
2026-02-18T16:16:26.916833Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-d86d-7eb3-8168-63533450025a
2026-02-18T16:16:26.938015Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683b-ff46-7511-9887-e2986d700db9
2026-02-18T16:16:26.959468Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683c-71df-7873-8d1d-caf45b46396c
2026-02-18T16:16:26.980525Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683c-916a-7c43-b2eb-183eed68a659
2026-02-18T16:16:27.001639Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683c-b10e-7bd1-9ff0-4ec46a4e3932
2026-02-18T16:16:27.022791Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683c-cfa6-7d63-9473-febe7a7ae10c
2026-02-18T16:16:27.044189Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683c-ef4b-7782-8237-94576fa42200
2026-02-18T16:16:27.065380Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-062e-7e51-bc6e-a1c3a705edf1
2026-02-18T16:16:27.086173Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-13b8-7ce0-9133-676cf14d172c
2026-02-18T16:16:27.107333Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-2e26-7a73-8be2-c6450274c991
2026-02-18T16:16:27.128660Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-3acc-7a52-b591-64a0eeec9eb8
2026-02-18T16:16:27.173332Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-520d-78f1-8d8d-7140613f7a6f
2026-02-18T16:16:27.209097Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-5703-7523-8a61-df05a8c88d94
2026-02-18T16:16:27.255109Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-6337-7a53-a3a0-431fac88f062
2026-02-18T16:16:27.292112Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-6861-7e90-bd2d-ac9f56937e64
2026-02-18T16:16:27.312989Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-7537-7d12-b719-68080339417e
2026-02-18T16:16:27.334117Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-7a58-78e3-98b7-4b0dcb214aea
2026-02-18T16:16:27.355222Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-8722-77f3-a975-f9d82a453b9e
2026-02-18T16:16:27.376509Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-8aa9-7e83-a3cb-b2b6bcb086d9
2026-02-18T16:16:27.397634Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-97bc-74b1-a583-194e241d073b
2026-02-18T16:16:27.419538Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-9b53-7612-9f05-684b5cfb9860
2026-02-18T16:16:27.440712Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-a8e0-7773-9233-7cb1c3f6f85e
2026-02-18T16:16:27.461935Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-ad05-7430-91c3-2b6f05848c8e
2026-02-18T16:16:27.483267Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-ba4b-7f01-8919-ddd6b739d625
2026-02-18T16:16:27.504415Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-bf0d-7d31-9240-58c97e3da494
2026-02-18T16:16:27.525597Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-cc3c-72d1-a70e-ba4fd6c9a2f3
2026-02-18T16:16:27.546792Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-d019-7e83-84da-49e4efd98697
2026-02-18T16:16:27.567911Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-dcaf-7ea3-b8e3-9185735c9163
2026-02-18T16:16:27.588993Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-e14d-74d2-990a-9545fc0c0ed7
2026-02-18T16:16:27.610162Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-ed3d-77f1-bf0a-4184203b577e
2026-02-18T16:16:27.631228Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-f3a1-7110-adbc-f4fd8cbfa220
2026-02-18T16:16:27.652383Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683d-ffc2-7da2-8ce3-0c9784c4cce6
2026-02-18T16:16:27.673598Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-04c2-71c2-a085-3fbcebcc64e7
2026-02-18T16:16:27.694738Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-101a-76c0-a251-37576b99d3cb
2026-02-18T16:16:27.715899Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-15ee-78c1-abdf-204f61f930ac
2026-02-18T16:16:27.736746Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-20bb-7d82-83a9-98b7f240b31e
2026-02-18T16:16:27.757875Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-2728-7390-8efb-66928011bf6b
2026-02-18T16:16:27.778806Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-317a-7e93-b379-ef19f7d2c5cd
2026-02-18T16:16:27.799995Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-37d8-7390-a722-48533764c0f4
2026-02-18T16:16:27.821180Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-42d1-71c0-b027-87c91fc38ef3
2026-02-18T16:16:27.842361Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-48ca-7030-b921-1f026baa4410
2026-02-18T16:16:27.863484Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-5411-71b2-9c86-2988cf82408f
2026-02-18T16:16:27.884443Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-5903-7c62-b69b-4e4232351bc9
2026-02-18T16:16:27.905721Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-6443-7221-9ad6-8265001b0217
2026-02-18T16:16:27.926806Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-6aa0-7652-9a66-66c99bb7aefd
2026-02-18T16:16:27.947967Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-74dd-7ea3-bba2-e8b46dbb9aa9
2026-02-18T16:16:27.969007Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-7b81-7373-a6b8-4680512b95d4
2026-02-18T16:16:27.990055Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-8623-73c1-a47d-72a59e347cd7
2026-02-18T16:16:28.010882Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-8bdc-75e1-8e45-463bf2cde2d6
2026-02-18T16:16:28.031779Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-9769-7681-bea4-082cccc3a53e
2026-02-18T16:16:28.053065Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-9cb7-77a2-9942-ad6810841e3c
2026-02-18T16:16:28.074193Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-a810-7333-bb5c-7c9827d519dd
2026-02-18T16:16:28.095377Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-ad55-7952-ad70-58293bae2181
2026-02-18T16:16:28.116424Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-b99b-72c0-a0f5-ecee58e3ebdc
2026-02-18T16:16:28.137549Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-c0d3-7e03-9c32-36dcb9cbf9bc
2026-02-18T16:16:28.158602Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-d1d1-7fb1-acdf-61e0ed93caac
2026-02-18T16:16:28.179704Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-dada-7f00-b987-fd12e858a0e6
2026-02-18T16:16:28.200787Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-e5d1-7ba1-9aec-2cbb80edc928
2026-02-18T16:16:28.221854Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-ef4f-7331-a1e7-a901ab161e16
2026-02-18T16:16:28.243080Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683e-faa1-7f61-81de-65335f318f46
2026-02-18T16:16:28.264160Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-036d-7293-8f97-f67c95958ef4
2026-02-18T16:16:28.285016Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-0fb8-7613-b03d-496d065f5c8b
2026-02-18T16:16:28.306064Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-1883-7bc2-a1d7-bb9c9bd6d4bc
2026-02-18T16:16:28.327185Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-27d8-7933-988c-343b05cb3bae
2026-02-18T16:16:28.348076Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-310c-7590-b993-ed2186cd3118
2026-02-18T16:16:28.369228Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-3f37-7931-a0ee-e29a022a5511
2026-02-18T16:16:28.390096Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-44f2-7de3-b182-9bd0196535d4
2026-02-18T16:16:28.411350Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-4b3a-76e1-8305-675c302a64fd
2026-02-18T16:16:28.432515Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-56c9-7c22-8cc2-268858857844
2026-02-18T16:16:28.453640Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-5e46-7881-b7a1-2b1201b7f1dd
2026-02-18T16:16:28.474504Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-6f2b-7443-ae1f-4d96409e6ffc
2026-02-18T16:16:28.495365Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-7475-7172-8f05-07f558210f95
2026-02-18T16:16:28.516200Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-839d-7981-a8b9-548a454cd987
2026-02-18T16:16:28.537390Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-8940-76a0-a978-7bedccbedbcb
2026-02-18T16:16:28.558459Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-980f-7310-9ae4-655147eb376a
2026-02-18T16:16:28.579629Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-9cc2-7290-b343-af1b3a45badc
2026-02-18T16:16:28.600689Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-aa0e-7eb2-a817-3171c7daaed5
2026-02-18T16:16:28.621911Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-aebd-76b0-94ec-77f5670351f3
2026-02-18T16:16:28.643064Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-ba95-7471-93a5-ee2276af5cd7
2026-02-18T16:16:28.664404Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-c07f-7b00-bfa3-a711a74994d7
2026-02-18T16:16:28.685676Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-cfef-77e3-889c-27f73a3ca7c3
2026-02-18T16:16:28.707345Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-d6b9-76d2-a2bd-eecbbe411f54
2026-02-18T16:16:28.728649Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-e5ea-7072-b56c-81130abe688e
2026-02-18T16:16:28.750020Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-ebb6-7ec2-b74d-f3e5acc97122
2026-02-18T16:16:28.771148Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-f7c8-7902-ae3d-4e56fa5c9edb
2026-02-18T16:16:28.792293Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c683f-fbef-7821-9a80-b7586f17aa7c
2026-02-18T16:16:28.813477Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-0744-79c3-b13e-b00cda527ce9
2026-02-18T16:16:28.834769Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-0bf5-73b0-926d-49d7422af93b
2026-02-18T16:16:28.855795Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-17d6-7fe3-ab3b-4cbae6d0b003
2026-02-18T16:16:28.877052Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-1beb-7242-a4be-fa7abd59a01b
2026-02-18T16:16:28.897889Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-272c-7f50-97a7-4d3d23d8fab1
2026-02-18T16:16:28.918874Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-2ae3-7810-b96c-02209e5164eb
2026-02-18T16:16:28.940079Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-3609-7c30-94ed-0158b199d8e0
2026-02-18T16:16:28.960916Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-39bc-7dc1-ba1d-702774b3073a
2026-02-18T16:16:28.983227Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-4517-7860-9961-a5ea74bfe295
2026-02-18T16:16:29.004265Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-495d-7df0-83ee-74319791dd50
2026-02-18T16:16:29.025306Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-5411-7c30-a742-b6266c73d5b5
2026-02-18T16:16:29.046422Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-5835-7872-92a0-deb218342914
2026-02-18T16:16:29.067434Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-6410-72c1-a754-d5163921f8f2
2026-02-18T16:16:29.088231Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-66d9-7683-845c-aee278fd4ee4
2026-02-18T16:16:29.109353Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-726f-7c70-816e-cf147307745b
2026-02-18T16:16:29.130484Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-762b-72a1-8223-1cf9aa67e9e9
2026-02-18T16:16:29.151727Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-8156-7981-9583-bcb0f962463d
2026-02-18T16:16:29.172839Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-84df-7d50-aee9-77bf0e130ab7
2026-02-18T16:16:29.193953Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-8bd8-7333-b5b8-4e438285653f
2026-02-18T16:16:29.215045Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-915a-7a20-a7aa-7838026f414e
2026-02-18T16:16:29.236237Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-94da-71d0-909b-5b8cdf9ec10e
2026-02-18T16:16:29.257650Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-9d69-7d31-b6a3-d237f8a4b297
2026-02-18T16:16:29.278817Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-a2a9-74b3-a219-73060d57e065
2026-02-18T16:16:29.299958Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-a611-7712-8012-456b7be7f8b4
2026-02-18T16:16:29.321225Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-ae1e-7530-8e84-44867200c49e
2026-02-18T16:16:29.342345Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-b29b-7812-a3bf-e79dfdb7fd4f
2026-02-18T16:16:29.363402Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-b4bd-70c1-a766-3b98b941fe14
2026-02-18T16:16:29.384158Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-b77b-7691-93b0-865221be799d
2026-02-18T16:16:29.405384Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-c0d7-7ae2-bebf-1cfa5afd297d
2026-02-18T16:16:29.426467Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-c71e-7bd2-9bc2-768e69f0938a
2026-02-18T16:16:29.447502Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-cced-7783-8b03-a575a7aeaf01
2026-02-18T16:16:29.468646Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-d62f-7ac2-8569-33bc42281953
2026-02-18T16:16:29.489804Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-da49-7c53-930f-d751732c3fd4
2026-02-18T16:16:29.510990Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-dfe5-71b2-8549-30d530fbd738
2026-02-18T16:16:29.532117Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-e8fa-7d12-9e30-ab96a9bcc6e7
2026-02-18T16:16:29.553186Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-ed54-7033-bd72-2a236b5e9505
2026-02-18T16:16:29.574213Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-f52f-7780-883a-62ed3fa09b92
2026-02-18T16:16:29.595492Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6840-fb76-7fd2-acdd-fea19a034b25
2026-02-18T16:16:29.616887Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-01fb-7e70-a20c-0f1db0468f5c
2026-02-18T16:16:29.638025Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-0af9-71d1-a3b7-33af26b1d2ce
2026-02-18T16:16:29.659131Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-0fd2-7da3-8881-32960e7c7fb8
2026-02-18T16:16:29.680060Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-1423-76f2-adeb-ffecb7a0db4e
2026-02-18T16:16:29.701253Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-1fc6-7272-a23e-b8f6b74801ef
2026-02-18T16:16:29.722460Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-2456-7d70-9631-64ed9f1abcfc
2026-02-18T16:16:29.743423Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-29a0-7103-94d4-dcb4ba4fbd0d
2026-02-18T16:16:29.764657Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-3351-77e1-981a-6599df80d244
2026-02-18T16:16:29.785707Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-3827-7842-ac57-fdd7ea467269
2026-02-18T16:16:29.806734Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-3c75-7623-9f4d-4ced48e6c0a5
2026-02-18T16:16:29.827756Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-4571-7b51-b082-f42ca902577b
2026-02-18T16:16:29.849130Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-4aa9-7633-92d4-43a501719ad9
2026-02-18T16:16:29.870502Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-504c-7110-a000-6461e204ec73
2026-02-18T16:16:29.891876Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-57f0-7392-bffc-a2e180a27f17
2026-02-18T16:16:29.913071Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-5d14-7b60-af9d-cd379b3712eb
2026-02-18T16:16:29.934219Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-623a-79b3-a54d-f135d4254ff6
2026-02-18T16:16:29.955545Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-6a5f-7e81-b1fc-7c0e970c0131
2026-02-18T16:16:29.976650Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-6fab-70b1-9178-ed67ed44ea55
2026-02-18T16:16:29.997812Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-75cd-70a0-8279-7d082c6abbaa
2026-02-18T16:16:30.018880Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-7e90-7ad1-8919-b261040360ab
2026-02-18T16:16:30.040096Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-83f6-7880-953e-70c3e38aea7d
2026-02-18T16:16:30.061363Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-895b-7ac0-aac6-7def20bd56d7
2026-02-18T16:16:30.082625Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-92a8-71d1-9dba-3b658881ee7e
2026-02-18T16:16:30.103854Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-96ee-7263-ba36-f6543972b850
2026-02-18T16:16:30.125093Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-9bf3-7d21-9ab5-377ad2e52f21
2026-02-18T16:16:30.146291Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-a5a8-7ba1-b6ec-f8a4da0cb29b
2026-02-18T16:16:30.167501Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-a8df-70f3-8d07-5892e154f5d3
2026-02-18T16:16:30.188747Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-ae63-75b0-a6b9-910133912b10
2026-02-18T16:16:30.209987Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-b7e5-7eb1-9eeb-144b721552c1
2026-02-18T16:16:30.231168Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-baef-7912-ae21-a7777f7e6f0b
2026-02-18T16:16:30.252402Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-c081-7fa3-b191-7b199bb0e6f0
2026-02-18T16:16:30.273587Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-ca05-7b43-aca3-01ac447820c0
2026-02-18T16:16:30.294676Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-cdba-7f30-ac26-3ef61a6abc86
2026-02-18T16:16:30.315868Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-d441-7ef1-a5ce-e8e557ca0a47
2026-02-18T16:16:30.337236Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-deaa-74c2-8a25-8e4230a59d62
2026-02-18T16:16:30.358048Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-e3bc-7da1-87fc-8a17455a8d71
2026-02-18T16:16:30.379110Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-e8db-72e1-875a-ec43f6c05949
2026-02-18T16:16:30.399920Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-f310-7773-b569-8e0ee2202829
2026-02-18T16:16:30.420969Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-f70b-78c2-bc5c-cb9b5e86731c
2026-02-18T16:16:30.442012Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6841-fcc7-7081-97e0-75fc6cf3f910
2026-02-18T16:16:30.462915Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-0637-7d13-bfcc-bc1404fa7d57
2026-02-18T16:16:30.483866Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-0ac1-7d32-bfd8-ec5f7a84a87f
2026-02-18T16:16:30.505086Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-1057-72f1-bfe7-a5fd676a987d
2026-02-18T16:16:30.526255Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-1ab8-7ba3-ba79-6a5d90e56de9
2026-02-18T16:16:30.547387Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-1e1a-7c11-b894-e2d0132519d0
2026-02-18T16:16:30.568614Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-2406-7241-ba30-fa68c1ecb28b
2026-02-18T16:16:30.589777Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-2f9d-79b0-957a-d35f6948705e
2026-02-18T16:16:30.610826Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-3462-7540-9fe2-56281bdc9e78
2026-02-18T16:16:30.631913Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-3b19-78c2-96d1-645d232e084f
2026-02-18T16:16:30.653131Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-4438-7db1-b529-4c928fa87922
2026-02-18T16:16:30.674130Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-486d-7fc3-b1cc-5598b6169877
2026-02-18T16:16:30.695330Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-4e1f-7aa2-bd20-7d1bbe2d0251
2026-02-18T16:16:30.716446Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-5b28-7973-9a5a-eeda8efe076b
2026-02-18T16:16:30.737687Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-60d6-7ea1-a6e8-947bb35e3801
2026-02-18T16:16:30.758780Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-657b-7771-b153-26799319ddca
2026-02-18T16:16:30.779936Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-7082-7060-a0c2-69342f152eab
2026-02-18T16:16:30.801084Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-7647-78b0-8f0f-9a48ef098898
2026-02-18T16:16:30.821895Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-7b03-7323-9c78-eb25315bcb73
2026-02-18T16:16:30.843067Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-8541-7d20-b5b8-c63a81bed78b
2026-02-18T16:16:30.864221Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-8a3a-7b42-a0e3-1ebed6cf38da
2026-02-18T16:16:30.885377Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-8dc5-7fb1-a103-9ee1b5a21b33
2026-02-18T16:16:30.906511Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-999d-7e52-9e88-5a737199b1bc
2026-02-18T16:16:30.927247Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-9e30-7fd0-987f-22e5eeb0f2d5
2026-02-18T16:16:30.948468Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-a22a-7243-98fe-8ab92fb9377e
2026-02-18T16:16:30.969543Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-ad99-7b01-9ffe-33873d94d0e8
2026-02-18T16:16:30.990790Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-b238-79f0-bff2-ca7dc77f43e9
2026-02-18T16:16:31.011747Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-b4cb-7751-a8fc-83f61ea9d442
2026-02-18T16:16:31.032846Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-c04e-7c22-ba12-8ff598f9c6a9
2026-02-18T16:16:31.053925Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-c69b-7a40-88d9-a8be12f8e242
2026-02-18T16:16:31.074742Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-c785-7b22-99b7-873b0eb3e104
2026-02-18T16:16:31.095940Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-d2b5-77e2-956e-4916eaf90573
2026-02-18T16:16:31.116846Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-d970-7200-8d0e-a228b534aa06
2026-02-18T16:16:31.138068Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-d9ea-7c90-be84-1416a73b35d0
2026-02-18T16:16:31.159130Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-e628-7350-a9ce-3e361008228a
2026-02-18T16:16:31.180211Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-ed19-77a3-98d9-52b1489b3dca
2026-02-18T16:16:31.201324Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-f71a-7fe3-a965-021bcc139d50
2026-02-18T16:16:31.222735Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-f720-7d21-bb16-6527fe58108b
2026-02-18T16:16:31.244003Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6842-fdb6-79e1-979d-e9521ffe5e7a
2026-02-18T16:16:31.265152Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-0a7c-72e0-85f7-48540437f51b
2026-02-18T16:16:31.286138Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-0afd-7041-b2b0-11229d8f1630
2026-02-18T16:16:31.306946Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-1198-7762-b275-cf5e6d7a0d32
2026-02-18T16:16:31.328002Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-1dbf-76b1-8eaa-2a46790a4f70
2026-02-18T16:16:31.349331Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-1e10-7010-938c-ca302e0d8ab5
2026-02-18T16:16:31.370499Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-23da-79f1-bd36-2af161bafeba
2026-02-18T16:16:31.391686Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-3134-7662-9a55-806cd56c3cfe
2026-02-18T16:16:31.413054Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-3605-7983-9554-6e5501fb1d28
2026-02-18T16:16:31.434228Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-4086-7943-b966-cbeeaa451642
2026-02-18T16:16:31.455384Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-4513-7d61-b3f1-3a4dcc8bbcbc
2026-02-18T16:16:31.476637Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-509c-7f61-8512-5e29ca144b0c
2026-02-18T16:16:31.497746Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-543d-7430-ba79-3d717cc6b6bf
2026-02-18T16:16:31.518775Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-6003-7612-a75f-2a3fd53b3154
2026-02-18T16:16:31.539909Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-624e-7293-a91a-ed3b9213aaae
2026-02-18T16:16:31.561004Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-6eb7-7af2-90e5-458598f7b762
2026-02-18T16:16:31.582164Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-71ce-7930-b913-0d3915a064c6
2026-02-18T16:16:31.603404Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-80ff-7ab3-b0c4-8b9155e8d649
2026-02-18T16:16:31.624218Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-8e2b-7593-8270-1f212b17cdd1
2026-02-18T16:16:31.645352Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-9bce-70b3-8eaf-030f2aa71c40
2026-02-18T16:16:31.666540Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-a9cb-7dc3-b501-c1175bd39436
2026-02-18T16:16:31.687737Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-b74d-7690-ac65-c7292f8722f8
2026-02-18T16:16:31.708984Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-c56d-7c21-acc2-2e3dc7d99b1e
2026-02-18T16:16:31.730129Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-d2f0-7f61-a080-10b12a23bb35
2026-02-18T16:16:31.751331Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-e0fa-7822-b663-561626346170
2026-02-18T16:16:31.772703Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-ee7a-7142-a387-aaffb87cf7d5
2026-02-18T16:16:31.793728Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-fac2-7a32-b9f6-1952aae30182
2026-02-18T16:16:31.814829Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6843-fb90-79d1-ae94-0e4038042cab
2026-02-18T16:16:31.835930Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-09d7-7dc2-bd55-c534dd607ca1
2026-02-18T16:16:31.856991Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-17a8-7b61-895f-9e187204edec
2026-02-18T16:16:31.878296Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-2524-7d41-bb69-674a385f2b8b
2026-02-18T16:16:31.899396Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-324b-78f3-907d-a2df4dd3aff4
2026-02-18T16:16:31.920566Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-3fc1-7260-8c73-03cbfbcec33a
2026-02-18T16:16:31.941540Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-4cf3-7cc3-b560-6604bd7941a3
2026-02-18T16:16:31.962472Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-5a8f-7af3-b5b7-ce4a6cdccfda
2026-02-18T16:16:31.983170Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-6821-7a30-878f-0eb1d31032e8
2026-02-18T16:16:32.004228Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-7785-7363-a53f-3e5c52c77fe3
2026-02-18T16:16:32.025360Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-85b7-7ec0-8e57-3ae7cebee1bd
2026-02-18T16:16:32.046454Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-93a3-78b0-8fea-c687e500d164
2026-02-18T16:16:32.067583Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-a2b1-7600-aedb-69651bc498d0
2026-02-18T16:16:32.088893Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-b09a-7991-ab00-0743b977933b
2026-02-18T16:16:32.110187Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-bf42-7562-8301-4404afa89c87
2026-02-18T16:16:32.131322Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-cd85-7943-85d9-d0f42a6e87d0
2026-02-18T16:16:32.152638Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-dce9-7872-a663-9eb418970735
2026-02-18T16:16:32.173718Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-eb30-7852-9679-ddb98d0a7e42
2026-02-18T16:16:32.194914Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6844-f936-7420-ba57-159386fa02ad
2026-02-18T16:16:32.215951Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-07c5-7e73-97ae-92643ad4d1c9
2026-02-18T16:16:32.237055Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-153e-7571-895e-8fb0db2b5c8f
2026-02-18T16:16:32.258122Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-247b-7841-a916-ef543d188db4
2026-02-18T16:16:32.279569Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-3255-7832-9557-b0940ae90100
2026-02-18T16:16:32.300767Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-4051-7643-a681-f1cc62ee18f7
2026-02-18T16:16:32.321899Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-4f57-7ae2-92d5-deda92d6bd24
2026-02-18T16:16:32.343138Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-5d39-7902-9e81-72b88f9f5f16
2026-02-18T16:16:32.364332Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-5dc4-7d60-b427-b55cd1e9716c
2026-02-18T16:16:32.385454Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-6cad-7d82-938d-cbc6b8030da4
2026-02-18T16:16:32.406711Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-7a33-74a2-ae05-d0bbac31c3e0
2026-02-18T16:16:32.427906Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-8821-7550-96f4-d3b8b11c5499
2026-02-18T16:16:32.449092Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-9580-7b40-9b2a-8f50e490d53b
2026-02-18T16:16:32.469807Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-a2c2-7433-8f5e-5b41fb920058
2026-02-18T16:16:32.490917Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-b0d4-7c21-8ec5-60775db0a683
2026-02-18T16:16:32.511964Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-be77-7cb1-9db3-2d2718218e94
2026-02-18T16:16:32.533021Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-cc74-7692-8f75-96c5be309a22
2026-02-18T16:16:32.554142Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-d94a-7ac3-8124-859954980fda
2026-02-18T16:16:32.575178Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-e6a5-7370-92cb-9403559342cd
2026-02-18T16:16:32.596221Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6845-f449-7fc3-ac18-4f2f88a3026a
2026-02-18T16:16:32.617227Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6846-0211-7af1-87d8-2c672644325a
2026-02-18T16:16:32.638504Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6878-3021-7133-9969-44e95489755c
2026-02-18T16:16:32.659565Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6889-e1c0-7703-b58b-93d82b947129
2026-02-18T16:16:32.680355Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c68e8-73e3-77d1-9588-f0bb20689384
2026-02-18T16:16:32.701443Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c699b-3b36-7273-93f4-c30ec8f2b9eb
2026-02-18T16:16:32.722911Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c69b3-b6a5-7510-b711-0bc8cb698ddb
2026-02-18T16:16:32.744144Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c68e8-1fad-7820-9735-4fe6de82542f
2026-02-18T16:16:32.765262Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6cfb-1696-7b40-b97f-6fcf1be30b12
2026-02-18T16:16:32.786039Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6d73-5d70-7062-b39b-35a28a720309
2026-02-18T16:16:32.807258Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6e3a-9d3c-7ea2-a9ca-eebca951149d
2026-02-18T16:16:32.828648Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6f65-5778-7cb1-86cc-bd5484bf63b3
2026-02-18T16:16:32.849782Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6f99-3ded-7422-be0c-9db9be9d3cc4
2026-02-18T16:16:32.870943Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa7-32f2-7982-b2ad-b63ddbddd2c6
2026-02-18T16:16:32.892395Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa7-80a7-7912-b397-6ea3cd5af0d6
2026-02-18T16:16:32.913601Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa7-c707-7b31-bc34-af64e6f9aca6
2026-02-18T16:16:32.934798Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa7-f324-7192-932a-1aff8feee1d7
2026-02-18T16:16:32.956019Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa8-13e3-71c2-afca-66fba29d2cbd
2026-02-18T16:16:32.977524Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa8-3838-7b33-9a32-5eafc0696501
2026-02-18T16:16:32.999011Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa8-5be4-7442-b36f-80134bbe7639
2026-02-18T16:16:33.020059Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa8-8430-78f3-bb63-c8628506f868
2026-02-18T16:16:33.041476Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa8-a9c2-7090-897c-3413726657e2
2026-02-18T16:16:33.062704Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa8-ca95-76e3-98e9-e76c7a291712
2026-02-18T16:16:33.084190Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa8-f5eb-7d31-8e26-0ca4e170cd26
2026-02-18T16:16:33.105569Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa9-1139-76c2-98f7-3dc1ff5c3eb3
2026-02-18T16:16:33.126526Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa9-36bc-7fd3-87d6-849db9ddd436
2026-02-18T16:16:33.147741Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa9-53eb-7cf0-bb7f-b0dcae4c5db3
2026-02-18T16:16:33.169121Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa9-7ae6-78f3-9c97-feb2ed4def96
2026-02-18T16:16:33.190325Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa9-9290-7a22-a284-db2848d9c3c0
2026-02-18T16:16:33.211512Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa9-c2dd-7943-acba-47d87a1671e1
2026-02-18T16:16:33.232775Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fa9-d4ff-7b92-86d6-cd1dfa7f30be
2026-02-18T16:16:33.254029Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faa-05bf-7751-86c1-4f7b275c7e2e
2026-02-18T16:16:33.275228Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faa-17db-7c61-ab37-743e2c9e0882
2026-02-18T16:16:33.296356Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faa-4a48-7aa1-adf7-966fac66e885
2026-02-18T16:16:33.317577Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faa-574e-7651-bc86-a8ed8a335b5e
2026-02-18T16:16:33.338828Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faa-8bcb-78e2-86c6-0cba05587bdf
2026-02-18T16:16:33.360052Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faa-9ead-73d0-a645-dd13ba0ce26d
2026-02-18T16:16:33.381441Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faa-cc0f-7ae1-a920-177820b531b0
2026-02-18T16:16:33.402613Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faa-e026-7341-b467-ed45c993ef38
2026-02-18T16:16:33.423820Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fab-0c18-7883-a851-6bc54e78402b
2026-02-18T16:16:33.445235Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fab-20dd-7b53-954c-6bb3f2753c02
2026-02-18T16:16:33.466335Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fab-4cd8-75b1-ad84-43ee6dfb2abc
2026-02-18T16:16:33.487484Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fab-5fa8-7330-bf64-51af30f18e7d
2026-02-18T16:16:33.508629Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fab-8fea-79f2-a16f-a4bdde3a4159
2026-02-18T16:16:33.529836Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fab-a172-7cc1-8c86-ddfcc11ee2fb
2026-02-18T16:16:33.550953Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fab-cddf-73a3-b540-8ff8abc3132c
2026-02-18T16:16:33.571777Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fab-e2af-7233-a72c-bd1ab578c888
2026-02-18T16:16:33.592913Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fac-0d71-7be3-90aa-86f48094f98f
2026-02-18T16:16:33.614223Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fac-256c-75f1-a94a-c12a7909cdc6
2026-02-18T16:16:33.635431Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fac-51cf-7c30-aabf-521defbe4a23
2026-02-18T16:16:33.656875Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fac-65b9-7602-979b-9711ff491631
2026-02-18T16:16:33.678242Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fac-9366-7392-935b-7ad997eefd22
2026-02-18T16:16:33.699490Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fac-a81f-7af2-a3c1-1b3eb27646c2
2026-02-18T16:16:33.720665Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fac-d79e-7ed3-a113-f821bb02242e
2026-02-18T16:16:33.741765Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fac-e9e1-7c81-9afd-3a1882dc7e00
2026-02-18T16:16:33.762858Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fad-1df4-72a2-9649-9de60935096b
2026-02-18T16:16:33.783999Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fad-30a3-7bd2-adc1-5909621adb3a
2026-02-18T16:16:33.805017Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fad-6690-7c70-a1cc-fe2792e2fd3e
2026-02-18T16:16:33.826175Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fad-7382-7123-919a-12a52cda5b52
2026-02-18T16:16:33.847130Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fad-a8c2-73e1-ad30-03b2592ae875
2026-02-18T16:16:33.868252Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fad-b757-7150-a0f9-a3aaeeb2b9bb
2026-02-18T16:16:33.889347Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fad-f144-7bd1-a28e-926d473a930c
2026-02-18T16:16:33.910295Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fad-fc44-7713-b7e4-84eaf2a5bc5f
2026-02-18T16:16:33.931363Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fae-3cc0-7632-a8ae-3e4da0d7a916
2026-02-18T16:16:33.952578Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fae-4557-7ba3-8803-fcfdf6696195
2026-02-18T16:16:33.973781Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fae-869a-7c30-99a3-a641b1f6c2a2
2026-02-18T16:16:33.995171Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fae-8dca-7543-a7d4-1620d776c4e7
2026-02-18T16:16:34.016025Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fae-ce08-7480-b623-d5068b32b403
2026-02-18T16:16:34.036934Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fae-d5d8-73a2-ae1e-c7e9c52bbe68
2026-02-18T16:16:34.057959Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faf-13c6-7022-8705-4d2bd8eba976
2026-02-18T16:16:34.079144Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faf-1eaf-7c33-93cc-b45db88792e2
2026-02-18T16:16:34.100543Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faf-5b57-7892-8754-19223f62edba
2026-02-18T16:16:34.121706Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faf-64d5-7a63-b014-d5774b4f7035
2026-02-18T16:16:34.142999Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faf-a106-7af2-8b0a-0c7db1f066eb
2026-02-18T16:16:34.164122Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faf-a9bb-7fa1-b8c8-3c5f8a43e44e
2026-02-18T16:16:34.185132Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faf-e7d0-7ab3-acfd-cb3530222d87
2026-02-18T16:16:34.206280Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6faf-f029-7fa3-86fa-3d33b5d1b911
2026-02-18T16:16:34.227435Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb0-29d3-71d0-a0c5-1880e6eb245c
2026-02-18T16:16:34.248428Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb0-32bd-7e92-9e2f-b50684c192f4
2026-02-18T16:16:34.269471Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb0-6af8-70f3-b3cb-2a64d65ec6fc
2026-02-18T16:16:34.290523Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb0-7291-7132-8630-03bca1176c1a
2026-02-18T16:16:34.311621Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb0-a85c-7e00-be79-3c944c43e94e
2026-02-18T16:16:34.332736Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb0-b130-7681-9af3-b7c4eaa1f51d
2026-02-18T16:16:34.353813Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb0-ed8c-74c2-9e72-d71e70313dde
2026-02-18T16:16:34.374896Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb0-f1e5-71a3-814e-d425281bae6f
2026-02-18T16:16:34.395897Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb1-3250-7fb2-9347-036853bea621
2026-02-18T16:16:34.416956Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb1-34c8-7e30-8b2e-794fe93a9720
2026-02-18T16:16:34.438127Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb1-75ea-7fb2-8daf-ba502f8fab3b
2026-02-18T16:16:34.459318Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb1-7901-7871-a6a8-05bfc62a2ce7
2026-02-18T16:16:34.480561Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb1-b6af-7183-9237-5e8bd8d93744
2026-02-18T16:16:34.501436Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb1-bc55-7de2-bd08-9f0fa18cf022
2026-02-18T16:16:34.522522Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb1-f9a0-75e2-8151-fea181a575a9
2026-02-18T16:16:34.543746Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb2-0267-79e1-b365-0adf8b21afe1
2026-02-18T16:16:34.564815Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb2-3eab-7d02-a520-108489fd0393
2026-02-18T16:16:34.585973Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb2-4309-72e2-93db-58f7a31757d2
2026-02-18T16:16:34.606877Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb2-847f-7db0-891f-3f139da425e3
2026-02-18T16:16:34.628093Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb2-8bcf-72b1-9917-df3324960052
2026-02-18T16:16:34.649235Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb2-c6cc-72d2-a996-09c43440d40c
2026-02-18T16:16:34.670503Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb2-cf17-7e41-a07a-83ab0585a4f1
2026-02-18T16:16:34.691376Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb3-079d-7870-a71f-12af8ee84cf3
2026-02-18T16:16:34.712553Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb3-1087-7d40-a960-8b618d3917c0
2026-02-18T16:16:34.733690Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb3-4c0f-7b21-99b1-674b54716f92
2026-02-18T16:16:34.754820Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb3-51b3-73e3-a0bd-ac299996fcf0
2026-02-18T16:16:34.775963Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb3-925a-75d3-b836-3fdc1b55e09a
2026-02-18T16:16:34.797190Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb3-96b7-7c71-a9c8-b030c638fdce
2026-02-18T16:16:34.818270Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb3-d408-75b1-aa9f-4f59dc329f37
2026-02-18T16:16:34.839451Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb3-dcb4-7d23-96b7-5c4c737f84a2
2026-02-18T16:16:34.860752Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb4-1980-7722-b5e9-767d795d1392
2026-02-18T16:16:34.881822Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb4-1e6e-7ec1-91bf-fedcc0435319
2026-02-18T16:16:34.902888Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb4-5b31-7873-8f43-9c88a4f64169
2026-02-18T16:16:34.924091Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb4-5f2b-7290-8b5f-27198aa0132d
2026-02-18T16:16:34.945423Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb4-a078-7682-9c45-e914e07a19ab
2026-02-18T16:16:34.966569Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb4-a0a0-7631-9ad2-0faf9cf7bcc1
2026-02-18T16:16:34.987670Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb4-e29b-7e23-a8d0-d2149953791e
2026-02-18T16:16:35.008907Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb4-e7e1-7d72-8d37-09c9f129a69d
2026-02-18T16:16:35.029900Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb5-27ef-7c10-be1c-21febe4f83a1
2026-02-18T16:16:35.050979Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb5-2fc7-7112-a969-09c1cf799699
2026-02-18T16:16:35.072059Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb5-6bb3-7693-b795-64c89d16c4aa
2026-02-18T16:16:35.093115Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb5-736c-7062-afb5-6d2129d0084d
2026-02-18T16:16:35.114217Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb5-acd8-7f00-aeff-e487a26c48bb
2026-02-18T16:16:35.135391Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb5-b8b9-7923-914d-ef38eafc166b
2026-02-18T16:16:35.156454Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb5-f0cb-73e1-8ba8-41ac408d6cd7
2026-02-18T16:16:35.177695Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb5-ffb9-7933-8834-612e17fc00f2
2026-02-18T16:16:35.198849Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb6-34d2-76d0-8412-9715534e1e37
2026-02-18T16:16:35.220168Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb6-481c-7042-9018-50e980eb231e
2026-02-18T16:16:35.241389Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb6-7b74-7a93-b310-f7eeec42ad74
2026-02-18T16:16:35.262746Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb6-92a2-77e0-b39d-15390d475fed
2026-02-18T16:16:35.283891Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb6-c797-7621-9a77-d908adb4301d
2026-02-18T16:16:35.305052Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb6-dbbd-7840-bddb-8e237bfba74d
2026-02-18T16:16:35.325913Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb7-0c7e-7e23-a420-d5a2fdc990d6
2026-02-18T16:16:35.346789Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb7-2504-7e42-94e8-4524bae19f4b
2026-02-18T16:16:35.368035Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb7-564a-72b2-9291-ef5228567567
2026-02-18T16:16:35.389139Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb7-680c-7283-971d-b51db59125a9
2026-02-18T16:16:35.410226Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb7-998b-7450-a439-200824c0b2e7
2026-02-18T16:16:35.431646Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb7-aaa2-75d3-8542-2415d9923658
2026-02-18T16:16:35.453001Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb7-dcca-7311-922d-995201e1b72e
2026-02-18T16:16:35.474143Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb7-ecb5-7841-b3f6-1285c7143757
2026-02-18T16:16:35.495228Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb8-202f-7fa1-833a-b140d7473f3d
2026-02-18T16:16:35.516476Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb8-2f0d-7d73-aae9-2202b265d4fd
2026-02-18T16:16:35.537522Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb8-6133-7e91-a00f-7b1c53119556
2026-02-18T16:16:35.558366Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb8-71b5-7a20-ac36-a6ae978c951c
2026-02-18T16:16:35.579805Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb8-a6a1-77d1-8c92-ed6cd9bde67f
2026-02-18T16:16:35.601116Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb8-b7ae-7341-b719-9b39d56dc932
2026-02-18T16:16:35.622045Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb8-e7e2-7ef1-8936-63650a445876
2026-02-18T16:16:35.643117Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb8-fadf-7e41-aa63-884c70463760
2026-02-18T16:16:35.664223Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb9-2d53-70a1-aa41-bd63b4bee185
2026-02-18T16:16:35.685224Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb9-3b7c-7163-8d28-0711df500a83
2026-02-18T16:16:35.706462Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb9-70fa-7f70-844a-8434b47ac11f
2026-02-18T16:16:35.727701Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb9-7d46-7361-a9f2-7c80f79681b7
2026-02-18T16:16:35.749105Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb9-b39a-7fa1-ab02-396ea48749e6
2026-02-18T16:16:35.770524Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb9-bfd7-7da0-b0b0-f29e03dc4c27
2026-02-18T16:16:35.791669Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fb9-f580-75b2-8285-921cb4489aec
2026-02-18T16:16:35.812825Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fba-056f-70d2-b67d-bb40c477721d
2026-02-18T16:16:35.833994Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fba-3849-7c52-9e48-67bb76e5b88c
2026-02-18T16:16:35.855138Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fba-4f1c-7e92-81e2-0461069c076d
2026-02-18T16:16:35.876269Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fba-79d5-7f50-8565-4646dd9478f6
2026-02-18T16:16:35.897264Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fba-967b-7973-a203-7da2e6caebc1
2026-02-18T16:16:35.918318Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fba-be47-7971-bef3-693ae188372f
2026-02-18T16:16:35.939468Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fba-dd76-7c60-b88f-ee717a763baa
2026-02-18T16:16:35.960545Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbb-022f-7883-b3e3-f988c6d63c72
2026-02-18T16:16:35.981744Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbb-2321-7761-a63f-886e3b79e33d
2026-02-18T16:16:36.002994Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbb-46f3-72b0-a8b8-eff8a57882e6
2026-02-18T16:16:36.024299Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbb-6a58-7f53-b7d1-4282511d9219
2026-02-18T16:16:36.045414Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbb-9189-7f60-a66e-b70f1c8ca275
2026-02-18T16:16:36.066586Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbb-b4a3-7493-bf1c-95e05e4a894c
2026-02-18T16:16:36.087715Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbb-dcf8-7822-aa47-92b142c2032b
2026-02-18T16:16:36.108994Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbb-ffb3-7361-928f-10d50a33c60b
2026-02-18T16:16:36.130176Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbc-2820-7e83-affc-468db3244f2c
2026-02-18T16:16:36.151382Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbc-48d3-78c1-a3cf-289909e6e6f6
2026-02-18T16:16:36.172504Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbc-73e1-7983-b12a-7fd21a20fe3c
2026-02-18T16:16:36.193455Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbc-8f0b-7cc2-8b28-4fd8942bc2b4
2026-02-18T16:16:36.214573Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbc-ba65-7253-a925-bd9977c64fca
2026-02-18T16:16:36.235723Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbc-d2d7-77c1-be6e-d5302e430021
2026-02-18T16:16:36.256943Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbc-face-7073-8169-e88167de57c0
2026-02-18T16:16:36.278091Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbd-1129-7c63-814f-8d6910413e68
2026-02-18T16:16:36.299067Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbd-3d24-7c73-a87c-5a0d7309bea3
2026-02-18T16:16:36.319913Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbd-52f2-73d3-9bfd-5d9ffc05a32e
2026-02-18T16:16:36.340777Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbd-8244-7253-8978-8c13a5575039
2026-02-18T16:16:36.361810Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbd-9737-74d0-afbe-727971d76a24
2026-02-18T16:16:36.383043Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbd-cc05-7fa0-8c94-52fd9b860057
2026-02-18T16:16:36.404179Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbd-daea-74a3-9f28-15b5b2783a31
2026-02-18T16:16:36.425229Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbe-0c76-76a3-b151-b978a0c8b047
2026-02-18T16:16:36.446448Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbe-1e58-72f3-b667-74a41f84cec6
2026-02-18T16:16:36.467524Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbe-4d19-7aa3-aac4-241c7e061b6d
2026-02-18T16:16:36.488696Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbe-5f99-7041-af09-9968b87c36af
2026-02-18T16:16:36.509842Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbe-969f-7d72-9265-3aa54f20fc65
2026-02-18T16:16:36.530896Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbe-aa09-7c91-8767-42f1432f56e5
2026-02-18T16:16:36.552132Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbe-e81a-7610-b89d-ebbe963a246a
2026-02-18T16:16:36.573131Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbe-f865-7062-9773-91b59018c069
2026-02-18T16:16:36.594383Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbf-36a2-74e3-be67-b4c8727e6278
2026-02-18T16:16:36.615714Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbf-450d-7bd0-adfb-0541d2073b71
2026-02-18T16:16:36.637065Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbf-824a-7ff1-952a-7ecd4d02c746
2026-02-18T16:16:36.658252Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbf-91f5-72e2-b79b-f9634eefd550
2026-02-18T16:16:36.679414Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbf-cbc4-79c1-b5fc-e3c904ce30b8
2026-02-18T16:16:36.700708Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fbf-df83-74c3-9446-6b01e23f1420
2026-02-18T16:16:36.721802Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc0-1ad8-7ab0-9fe3-f09fce992c6c
2026-02-18T16:16:36.743192Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc0-2cd7-7a41-8f91-d8bd21cd5f1f
2026-02-18T16:16:36.764441Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc0-6550-7f52-950d-0fd4dc44a7a2
2026-02-18T16:16:36.785496Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc0-75eb-7841-9327-22e2ccb7a9ed
2026-02-18T16:16:36.806598Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc0-a9ad-7c22-90aa-8c4efc942e1b
2026-02-18T16:16:36.827924Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc0-bba8-7402-a9a9-591d5f8a6c22
2026-02-18T16:16:36.849015Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc0-e9d6-7312-a40a-e38b62d9cde6
2026-02-18T16:16:36.870029Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc0-fe64-7003-b13c-795296043ea3
2026-02-18T16:16:36.891113Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc1-2b9e-7230-a9e6-b9637dc6723e
2026-02-18T16:16:36.912195Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc1-3e70-7e32-b16f-e719e738e097
2026-02-18T16:16:36.933381Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc1-6bfa-7e31-b271-d3fd0d340494
2026-02-18T16:16:36.954469Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc1-7f32-7a73-ba8f-666e0c98e02b
2026-02-18T16:16:36.975606Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc1-abcd-7e22-8cdb-2160424efa86
2026-02-18T16:16:36.996703Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc1-c329-7160-93df-470396d7ed55
2026-02-18T16:16:37.017474Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc1-f286-7ed1-99bd-91386a027aa8
2026-02-18T16:16:37.038596Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc2-06dc-74f2-9411-90f5306ec338
2026-02-18T16:16:37.059724Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc2-37c5-7760-8be2-708bcb801d5f
2026-02-18T16:16:37.080807Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc2-4d4e-7a20-add5-8e5dfbc2a085
2026-02-18T16:16:37.101934Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc2-7d08-7e11-a2a1-6232fb4edd30
2026-02-18T16:16:37.123112Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc2-95a5-7801-acda-34e416d804f4
2026-02-18T16:16:37.144140Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc2-c6d7-7110-8735-05740920f45f
2026-02-18T16:16:37.165366Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc2-df58-7d63-87d2-e8ccb0cac7d8
2026-02-18T16:16:37.186417Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc3-13a2-7ab2-8704-2b8d4920169d
2026-02-18T16:16:37.207481Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc3-2a40-7601-94c7-c5d9b8ce86b3
2026-02-18T16:16:37.228762Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc3-5f27-7182-b0b4-278c0b55323e
2026-02-18T16:16:37.249886Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc3-7a84-72b0-b6d8-6589df30edad
2026-02-18T16:16:37.270948Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc3-a939-7a73-b58e-51f6be9dde13
2026-02-18T16:16:37.291897Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc3-c815-7f92-8316-00aa2a5be449
2026-02-18T16:16:37.313037Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc3-f028-7e60-8860-ede590d161c6
2026-02-18T16:16:37.333849Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc4-0a8e-7332-9beb-0f7670b1b03e
2026-02-18T16:16:37.354958Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc4-3363-72a3-9aef-3f9dc4b3a6fe
2026-02-18T16:16:37.376038Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc4-514f-7412-af9f-8b0cb2f6e0f0
2026-02-18T16:16:37.397090Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc4-7431-7453-b72d-a23506db0cf1
2026-02-18T16:16:37.418165Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc4-92f2-7402-9aa3-4bfa09c651a7
2026-02-18T16:16:37.439249Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc4-ba42-7763-9185-fd89a653f0a4
2026-02-18T16:16:37.460381Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc4-d461-7be3-b0cd-6c0e484fbf26
2026-02-18T16:16:37.481565Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc4-fafe-7711-9268-33bb10560978
2026-02-18T16:16:37.502627Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc5-170f-7821-a93f-9719c16d897e
2026-02-18T16:16:37.523771Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc5-3e11-7342-824d-385126b2f5a9
2026-02-18T16:16:37.545124Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc5-5aab-73b0-b749-58ea31fe95db
2026-02-18T16:16:37.566330Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc5-8593-7fd3-b296-7a56d5f2e57c
2026-02-18T16:16:37.587436Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc5-a35e-71c1-8f83-7913225a8b35
2026-02-18T16:16:37.608286Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc5-c619-7410-81c4-156e7df5676f
2026-02-18T16:16:37.629472Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc5-e65a-73b0-86ef-973dec6a9408
2026-02-18T16:16:37.650608Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc6-03bb-7830-85ce-3ab8e00f0e8d
2026-02-18T16:16:37.671738Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc6-266e-7e12-8f7f-6f0f19187a22
2026-02-18T16:16:37.692935Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc6-4471-73f1-9245-8806680deaed
2026-02-18T16:16:37.714361Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc6-65c8-7273-9178-7e152115578d
2026-02-18T16:16:37.735210Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc6-854f-7c42-86ab-e585b5a0b40c
2026-02-18T16:16:37.756380Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc6-a62e-7a41-aefd-6f147f5bcc06
2026-02-18T16:16:37.777245Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc6-c48c-7ff2-a43b-0b2cadb62d4a
2026-02-18T16:16:37.798157Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc6-e4d4-7441-b999-4b13d27a18af
2026-02-18T16:16:37.819293Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc7-0597-7270-99c5-c02d75ff8a63
2026-02-18T16:16:37.840191Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc7-27a3-7c22-b4aa-62e410622a72
2026-02-18T16:16:37.861231Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc7-4c3c-7b90-b5ad-1bcca54ff749
2026-02-18T16:16:37.882350Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc7-6747-7eb2-af86-e12549a6f58e
2026-02-18T16:16:37.903564Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc7-8f35-7be2-b325-d560ed352a74
2026-02-18T16:16:37.924935Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc7-a7e7-7440-8ca1-62b6681df807
2026-02-18T16:16:37.946086Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc7-d005-7132-a26a-ca094d90e840
2026-02-18T16:16:37.967586Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc7-ea9c-7450-a0f8-0fe178bb2a22
2026-02-18T16:16:37.988890Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc8-0f9b-78e2-9af9-e071a1a333c2
2026-02-18T16:16:38.009745Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc8-2bd5-7623-bb57-dcc6c18d4894
2026-02-18T16:16:38.030755Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc8-5487-7d72-86c0-94837fac4ef0
2026-02-18T16:16:38.052044Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc8-720a-7dd2-8d9a-1947e6eb0f1a
2026-02-18T16:16:38.073192Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc8-a221-7ce3-82aa-c1b8b049c883
2026-02-18T16:16:38.094308Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc8-b8af-72a1-a083-9c146d263246
2026-02-18T16:16:38.115438Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc8-ea00-7fd1-9aa9-4ac715e50d5d
2026-02-18T16:16:38.136498Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc8-fc99-7ff0-8e26-db7aa971c7c4
2026-02-18T16:16:38.157747Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc9-3302-7753-ac1d-bfcb91bc8580
2026-02-18T16:16:38.178841Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc9-4177-7e72-829f-427c7eca776c
2026-02-18T16:16:38.200160Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc9-7be0-7441-b59f-7ae17c01f811
2026-02-18T16:16:38.221360Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc9-86d7-7d40-83ae-0f70abd46b93
2026-02-18T16:16:38.242490Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc9-c243-7ab1-b0e4-1ec6a7c058d8
2026-02-18T16:16:38.263549Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fc9-d124-7d42-af03-017f64fe3e1d
2026-02-18T16:16:38.284784Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fca-0be2-7472-99e1-c23d152c2a1f
2026-02-18T16:16:38.305566Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fca-1baa-7c82-a77e-6f6fb2f95fee
2026-02-18T16:16:38.326577Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fca-5789-7712-98cc-5b59d5425c0f
2026-02-18T16:16:38.347583Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fca-69b4-7551-8dbf-6cd30eb7f6eb
2026-02-18T16:16:38.368890Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fca-a595-7b12-a2a6-bc876a8d1fbf
2026-02-18T16:16:38.389797Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fca-b3d9-7df0-b82c-40f778a1dbe9
2026-02-18T16:16:38.410962Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fca-e9df-7b10-bd9b-18fc6188a2c1
2026-02-18T16:16:38.432002Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fca-faaa-7e91-b0c4-190c965c4a0a
2026-02-18T16:16:38.452942Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcb-327b-7902-829b-949adfaf053b
2026-02-18T16:16:38.473780Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcb-4442-7851-ac48-89efe13aa00e
2026-02-18T16:16:38.495442Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcb-73bb-7c50-bd6e-5f6515c4086c
2026-02-18T16:16:38.516543Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcb-8832-7263-a133-ba3373c2d381
2026-02-18T16:16:38.537960Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcb-b882-7b33-bfe7-c18a7e02d4d5
2026-02-18T16:16:38.558783Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcb-cf94-7700-a0bb-be51c91408ed
2026-02-18T16:16:38.580072Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcb-fa85-79e3-b387-70102183108b
2026-02-18T16:16:38.601274Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcc-190a-7243-b999-b51609612d20
2026-02-18T16:16:38.622138Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcc-3c86-78d1-b2b5-d66177c5b024
2026-02-18T16:16:38.643407Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcc-583d-7173-a970-10ffdea96cb0
2026-02-18T16:16:38.664692Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcc-7e75-7861-b287-1bd6a48fe26a
2026-02-18T16:16:38.685810Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcc-9822-7d02-8163-e205fa8b70bb
2026-02-18T16:16:38.707125Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcc-bf40-7c13-9a25-d3f21843e145
2026-02-18T16:16:38.728233Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcc-dcd6-7b72-9e24-fb163a551391
2026-02-18T16:16:38.749449Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcc-ff68-7080-81d1-2668402aca90
2026-02-18T16:16:38.770729Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcd-204b-7473-9813-c8541cfd9001
2026-02-18T16:16:38.792081Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcd-4496-75d3-9084-f64e7c16e5ca
2026-02-18T16:16:38.813232Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcd-630d-7dd0-b215-3d44c61eb2c1
2026-02-18T16:16:38.834370Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcd-8a7c-7400-938e-546372e1abd6
2026-02-18T16:16:38.855787Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcd-aa15-7882-8050-6b1aea66388e
2026-02-18T16:16:38.876632Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcd-cd57-7603-be09-56197f2079e3
2026-02-18T16:16:38.914330Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcd-ef8c-79d0-af6b-44a3fa4a0303
2026-02-18T16:16:38.935163Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fce-1640-7ba2-a922-a47b7ac0eb59
2026-02-18T16:16:38.956046Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fce-3271-7e20-bf31-adf88b6a7097
2026-02-18T16:16:38.977176Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fce-5a1d-70d2-9893-5caaf4caec88
2026-02-18T16:16:38.998732Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fce-749a-7c33-a070-6019ffcaded9
2026-02-18T16:16:39.020040Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fce-a138-7970-b8f1-699ecdd49fb8
2026-02-18T16:16:39.041237Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fce-b57d-7740-b2a4-e4a4d3288237
2026-02-18T16:16:39.062328Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fce-e222-77b3-8466-0060759baa97
2026-02-18T16:16:39.083249Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fce-f763-7671-b18e-46a1273427b4
2026-02-18T16:16:39.104478Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcf-263f-7411-9bbc-0298c88b05aa
2026-02-18T16:16:39.125749Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcf-3be6-7793-b687-22061680d8d2
2026-02-18T16:16:39.147005Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcf-6b02-71e0-8545-8f11c700e520
2026-02-18T16:16:39.168314Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcf-7fc5-7830-ad4f-f9056dc5eb3c
2026-02-18T16:16:39.189581Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcf-ace7-7351-9ec5-2cfe479fe5bb
2026-02-18T16:16:39.210761Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcf-c094-75d3-8d0b-edc9059caf46
2026-02-18T16:16:39.232155Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fcf-ef30-7dd2-9d18-8621881ecb5d
2026-02-18T16:16:39.253368Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd0-015b-72d0-9c2e-1c5fe2320d1e
2026-02-18T16:16:39.274595Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd0-2ee1-7000-8579-8c6035905a81
2026-02-18T16:16:39.295815Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd0-450a-73c1-bc46-5065344f3844
2026-02-18T16:16:39.316859Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd0-7591-7573-83d0-2cd8bc094d06
2026-02-18T16:16:39.338110Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd0-884d-7321-adb7-2f4aa3f05cf7
2026-02-18T16:16:39.359322Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd0-bf42-74e2-9558-8aef3855c6cb
2026-02-18T16:16:39.380657Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd0-d43d-7643-a798-f030b73cd93d
2026-02-18T16:16:39.401735Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd1-04cc-75e3-9c4f-86d1ea9f3c2b
2026-02-18T16:16:39.433265Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd1-1e81-73b0-9cbc-a22fc8fc98ac
2026-02-18T16:16:39.470904Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd1-4fdd-7ad2-a711-9cc76111a2d8
2026-02-18T16:16:39.516623Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd1-6acd-7872-85dc-760554e9f2d1
2026-02-18T16:16:39.554184Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd1-9598-74d1-91e1-4566baa3f136
2026-02-18T16:16:39.575386Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd1-b49f-7051-8184-c84787dae94b
2026-02-18T16:16:39.596936Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd1-dc83-7a20-9f13-e7d6c1adc800
2026-02-18T16:16:39.618050Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd1-fcde-7d90-a64a-ff089b56ea94
2026-02-18T16:16:39.639314Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd2-233c-72c1-9ef6-b37d60e581ee
2026-02-18T16:16:39.660639Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd2-41a0-7561-a0cf-1818e8af1ae9
2026-02-18T16:16:39.681872Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd2-66fb-7b50-b8de-3db5d3dff369
2026-02-18T16:16:39.702975Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd2-8721-7ec1-be60-ad923966f0b1
2026-02-18T16:16:39.724076Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd2-a922-7340-b2f6-622c69cd6af8
2026-02-18T16:16:39.745245Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd2-c5fb-7ee0-a5db-1ff92f5e3449
2026-02-18T16:16:39.766040Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd2-ed1c-7d32-bdba-a46315a99c80
2026-02-18T16:16:39.786876Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd3-052d-7492-ac1d-19f88d583cc9
2026-02-18T16:16:39.807740Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd3-3627-7b91-9c13-f71b609fcf71
2026-02-18T16:16:39.828865Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd3-4d34-7f01-b5d6-d009be26ba49
2026-02-18T16:16:39.849791Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd3-7c6f-7621-968c-c0bf7b5870c2
2026-02-18T16:16:39.870957Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd3-9310-7c61-9c1d-029ee6954b28
2026-02-18T16:16:39.891785Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd3-c8e8-7542-9cf2-7b798cb33d7f
2026-02-18T16:16:39.912741Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd3-da24-7d32-8612-b7cf47706be2
2026-02-18T16:16:39.933821Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd4-133a-75e1-9928-1bb733573ad8
2026-02-18T16:16:39.954952Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd4-276f-75e2-881d-86d79abc93b7
2026-02-18T16:16:39.976033Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd4-5e55-7a50-a8e1-84b157e1d61d
2026-02-18T16:16:39.997133Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd4-7259-79b2-b968-d47f7c2e17d8
2026-02-18T16:16:40.018246Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd4-aca2-7160-9a01-6be788af6664
2026-02-18T16:16:40.039134Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd4-beaa-75f3-9346-6f93114cda3c
2026-02-18T16:16:40.060220Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd4-f4c6-7f72-8e0c-0de1ae44ed1a
2026-02-18T16:16:40.081293Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd5-087d-7ec2-a789-885b298eb0d6
2026-02-18T16:16:40.102419Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd5-3dc4-7681-ac9d-e5da2c03b8bb
2026-02-18T16:16:40.123656Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd5-4be9-78b2-a3f0-c0cde2a93ed8
2026-02-18T16:16:40.144882Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd5-7e7a-75b3-8151-ea7e77739458
2026-02-18T16:16:40.166002Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd5-8ebe-7fe0-814c-99415070f580
2026-02-18T16:16:40.187088Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd5-c35a-7783-a545-66d3c6592f02
2026-02-18T16:16:40.208055Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd5-d450-77a2-ae17-64949333ba38
2026-02-18T16:16:40.229439Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd6-05ec-7663-b4ea-53bb7b97e14c
2026-02-18T16:16:40.250797Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd6-17db-70c3-bfce-69f808fa510f
2026-02-18T16:16:40.271904Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd6-4658-77b0-82b9-8256c0a7edf2
2026-02-18T16:16:40.293058Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd6-59f1-7101-9dc8-57c4e8d535d5
2026-02-18T16:16:40.313922Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd6-8621-7042-bdfa-ec6106413c11
2026-02-18T16:16:40.335016Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd6-9e06-7d23-b049-bf606710eda2
2026-02-18T16:16:40.356180Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd6-c87c-7bf1-bdae-57ebe459caf1
2026-02-18T16:16:40.377102Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd6-ddf6-7661-8771-f8b1dd0c544b
2026-02-18T16:16:40.398237Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd7-0b88-7e70-9c25-731242a8f484
2026-02-18T16:16:40.419328Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd7-257d-7182-a5ce-b64317cb20cc
2026-02-18T16:16:40.440432Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd7-51ca-7b91-9b9f-4c2d6ab869bb
2026-02-18T16:16:40.461339Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd7-6862-7e52-b1c5-95c157f6a787
2026-02-18T16:16:40.482223Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd7-9421-7b70-b234-89670f2d1cf4
2026-02-18T16:16:40.503532Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd7-ae2f-7453-913e-2c311ad6e442
2026-02-18T16:16:40.524784Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd7-d444-7351-949c-0e8663486970
2026-02-18T16:16:40.545776Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd7-f31e-7b23-ab6f-117ee3ea6065
2026-02-18T16:16:40.566920Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd8-1bcc-74a0-b944-4981b110a9f4
2026-02-18T16:16:40.588224Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd8-385c-78c3-a402-cc8f455261da
2026-02-18T16:16:40.609374Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd8-64e7-7593-90af-3498dcf15b3b
2026-02-18T16:16:40.630629Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd8-7fdc-7f61-aad8-ac271c9f63d0
2026-02-18T16:16:40.651735Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c6fd8-cc51-7632-acf5-4dafa33fb2ae
2026-02-18T16:16:40.672897Z ERROR codex_core::rollout::list: state db missing rollout path for thread 019c7183-f5ac-7bd2-bbb0-8b81ecc61331
