{
  "name": "nostrstack",
  "description": "Nostr & Lightning Social Network Toolkit - Nerd Hacker Edition",
  "keywords": [
    "nostr",
    "lightning",
    "bitcoin",
    "social-network",
    "react",
    "sdk"
  ],
  "private": true,
  "type": "module",
  "version": "0.0.0",
  "packageManager": "pnpm@10.26.1",
  "scripts": {
    "lint": "pnpm -r lint",
    "compile": "pnpm -r typecheck",
    "lint:knip": "knip",
    "lint:cpd": "jscpd .",
    "lint:cpd:audit": "node -e \"const fs=require('fs');const path=require('path');function r(d){let f=[];try{fs.readdirSync(d).forEach(n=>{const p=path.join(d,n);try{fs.statSync(p).isDirectory()?f.push(...r(p)):(n==='qa-ui-audit.mjs'&&f.push(p))}catch(e){}})}catch(e){}return f}f=r('.');if(f.length>1)throw new Error('Duplicate qa-ui-audit.mjs found: '+f.join(', '));console.log('Found single qa-ui-audit.mjs at: '+f[0])\"",
    "lint:ls": "ls-lint",
    "lint:spell": "cspell \"**\" --exclude \"report/**\"",
    "lint:css": "stylelint \"**/*.css\"",
    "lint:md": "markdownlint \"**/*.md\"",
    "lint:pub": "pnpm --filter @nostrstack/sdk run build && pnpm --filter @nostrstack/widgets run build && pnpm --filter @nostrstack/react run build && pnpm -r exec publint",
    "lint:attw": "pnpm --filter \"./packages/**\" --filter \"!create-nostrstack-site\" --filter \"!test-utils\" -r exec attw --pack . --ignore-rules no-resolution",
    "lint:sh": "/usr/bin/shellcheck scripts/*.sh || shellcheck scripts/*.sh",
    "lint:secrets": "secretlint \"**\"",
    "lint:audit": "audit-ci --config audit-ci.json",
    "lint:dep": "depcruise --config .dependency-cruiser.cjs apps packages",
    "lint:deps": "syncpack list-mismatches",
    "test": "pnpm -r test",
    "test:unit": "pnpm -r test",
    "test:ci": "VITEST_CACHE_DIR=${XDG_CACHE_HOME:-${HOME}/.cache}/nostrstack/vitest pnpm -r test",
    "typecheck": "pnpm -r typecheck",
    "format": "prettier --write .",
    "dev": "pnpm --filter api dev",
    "e2e": "pnpm --filter api test:e2e",
    "demo": "concurrently -k -n api,web \"pnpm --filter api dev\" \"pnpm --filter web dev -- --host --port 4173\"",
    "smoke:regtest-demo": "pnpm --filter api exec tsx scripts/regtest-demo-smoke.ts",
    "smoke:mutinynet-demo": "pnpm --filter api exec tsx scripts/mutinynet-demo-smoke.ts",
    "qa:regtest-demo": "pnpm --filter api exec tsx ../web/scripts/qa-regtest-demo.ts",
    "qa:find-friend-video": "pnpm --filter web exec playwright test tests/find-friend-tip.video.spec.ts",
    "dev:api:entr": "./scripts/dev/watch-api.sh",
    "dev:web:entr": "./scripts/dev/watch-web.sh",
    "dev:logs": "./scripts/dev/logs.sh",
    "dev:ps": "./scripts/dev/dev-ps.sh",
    "dev:stop": "./scripts/dev/dev-stop.sh",
    "dev:stop:all": "./scripts/dev/dev-stop.sh --all",
    "dev:network": "./scripts/dev/network-switch.sh",
    "build": "pnpm -r build",
    "check": "pnpm lint && pnpm test && pnpm typecheck",
    "deps": "pnpm install",
    "deps:prod": "NODE_ENV=production pnpm install --frozen-lockfile --prod",
    "demo:regtest": "./scripts/demo/run.sh regtest",
    "dev:api": "pnpm --filter api dev",
    "dev:web": "pnpm --filter web dev -- --host --port 4173",
    "dev:docs": "pnpm --filter docs dev -- --port 4174",
    "demo:mutinynet": "./scripts/demo/run.sh mutinynet",
    "deploy:staging": "gh workflow run azure-deploy-staging.yml --repo joelklabo/nostrstack",
    "deploy:prod": "gh workflow run azure-deploy.yml --repo joelklabo/nostrstack",
    "nostrstack": "pnpm --filter @nostrstack/injector exec nostrstack-inject",
    "demo:mainnet": "./scripts/demo/run.sh mainnet",
    "prepare": "husky"
  },
  "pnpm": {
    "overrides": {
      "zod": "^4.3.6",
      "zod-to-json-schema": "3.24.1",
      "esbuild": "^0.25.0",
      "@isaacs/brace-expansion": ">=5.0.1",
      "lodash": ">=4.17.23",
      "fastify": ">=5.7.3",
      "qs": ">=6.14.2",
      "baseline-browser-mapping": "^2.10.0",
      "browserslist": "^4.28.1"
    },
    "onlyBuiltDependencies": [
      "@prisma/client",
      "@prisma/engines",
      "esbuild",
      "prisma",
      "protobufjs"
    ]
  },
  "devDependencies": {
    "@arethetypeswrong/cli": "^0.18.2",
    "@commitlint/cli": "^20.2.0",
    "@commitlint/config-conventional": "^20.2.0",
    "@ls-lint/ls-lint": "^2.3.1",
    "@nostrstack/config": "workspace:*",
    "@secretlint/secretlint-rule-preset-recommend": "^11.2.5",
    "@types/node": "22.7.5",
    "@typescript-eslint/eslint-plugin": "8.51.0",
    "@typescript-eslint/parser": "8.51.0",
    "@vitest/browser-playwright": "^4.0.16",
    "playwright": "^1.57.0",
    "audit-ci": "^7.1.0",
    "baseline-browser-mapping": "^2.10.0",
    "chrome-devtools-mcp": "0.12.1",
    "concurrently": "^9.2.1",
    "cspell": "^9.4.0",
    "dependency-cruiser": "^17.3.4",
    "eslint": "8.57.0",
    "husky": "^9.1.7",
    "jscpd": "^4.0.5",
    "knip": "5.83.1",
    "lint-staged": "^16.2.7",
    "markdownlint-cli": "^0.47.0",
    "prettier": "3.2.5",
    "publint": "^0.3.16",
    "secretlint": "^11.2.5",
    "shellcheck": "^4.1.0",
    "stylelint": "^16.26.1",
    "stylelint-config-standard": "^39.0.1",
    "syncpack": "^13.0.4",
    "typescript": "5.6.2",
    "zod": "^4.3.6"
  },
  "lint-staged": {
    "*.{js,jsx,ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{json,md,yml,yaml}": [
      "prettier --write"
    ],
    "*.css": [
      "stylelint --fix",
      "prettier --write"
    ]
  }
}
